(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{123:function(t,e,a){"use strict";a(38)},124:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".button.is-rounded[data-v-3664c7b6]{border-radius:290486px;padding:calc(.2em - 1px) 1em}.role-user[data-v-3664c7b6]{width:100%;display:flex;justify-content:flex-start;align-items:center;margin:0 1rem 1rem 0}.role-user>span[data-v-3664c7b6]{margin-left:1rem}",""])},131:function(t,e,a){"use strict";a(40)},132:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".brand-logo-overlay[data-v-c58b63fc]{position:relative}.brand-logo[data-v-c58b63fc]{width:25rem;height:12.4rem;margin-bottom:1.5rem;border:1px solid #eee}.brand-logo>img[data-v-c58b63fc]{width:100%;height:100%}.brand-logo-overlay[data-v-c58b63fc]{width:25rem;height:12.4rem;position:absolute;background-color:rgba(7,7,7,.616);display:flex;justify-content:center;align-items:center;z-index:-1;transition:opacity .1s ease-in}.show-brand-logo-overlay[data-v-c58b63fc]{z-index:1;opacity:1}.hide-brand-logo-overlay[data-v-c58b63fc]{z-index:-1;opacity:0}.text-withe[data-v-c58b63fc]{color:#fff}",""])},14:function(t,e,a){"use strict";var s=a(49),i=a.n(s),o=(a(91),{name:"ViewPdf",components:{VuePdfApp:i.a},computed:{getFile:function(){return this.file}},props:{file:{required:!0}},data:function(){return{}},methods:{pagesRendered:function(t){setTimeout((function(){return t.pdfViewer.currentScaleValue="page-height"}))}}}),n=a(1),r=Object(n.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[e("vue-pdf-app",{staticStyle:{height:"100vh",width:"960px"},attrs:{pdf:"/storage"+this.getFile},on:{"pages-rendered":this.pagesRendered}})],1)}),[],!1,null,"1286b77c",null);e.a=r.exports},15:function(t,e,a){"use strict";var s={name:"Tab",props:{label:{require:!0,type:String}},data:function(){return{activeTab:!0}}},i=(a(87),a(1)),o=Object(i.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.activeTab,expression:"activeTab"}],staticClass:"s__tabs__content"},[this._t("default")],2)}),[],!1,null,"1f542e2b",null);e.a=o.exports},16:function(t,e,a){"use strict";var s={name:"Tabs",components:{Fragment:a(21).a},props:{tabIndex:{type:Number,default:0},stickyTab:{type:String,default:""}},created:function(){this.tabs=this.$children},mounted:function(){this.selectTab(this.tabIndex)},data:function(){return{selectedIndex:0,tabs:[]}},methods:{selectTab:function(t){this.selectedIndex=t,this.tabs.forEach((function(e,a){e.activeTab=a===t}))}}},i=(a(89),a(1)),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Fragment",[a("div",{staticClass:"s__tabs",class:t.stickyTab},[a("div",{staticClass:"s__tabs__tab"},[a("ul",t._l(t.tabs,(function(e,s){return a("li",{key:s,class:s===t.selectedIndex&&"isActive",on:{click:function(e){return t.selectTab(s)}}},[a("span",[t._v(t._s(e.label))])])})),0)])]),t._v(" "),t._t("default")],2)}),[],!1,null,"c7d6371c",null);e.a=o.exports},29:function(t,e,a){var s=a(86);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},3:function(t,e,a){"use strict";var s={name:"Paginate",props:{state:{require:!0,type:Object},dispatch:{require:!0,type:Function},dispatchAction:{default:"",type:String}},computed:{currentPage:{get:function(){return this.state.current_page||0},set:function(t){this.dispatchAction?this.dispatch({type:this.dispatchAction,payload:t||0}):this.dispatch({payload:t||0})}},perPage:{get:function(){return this.state.per_page||0}},totalPage:{get:function(){return this.state.total||0}}},watch:{},data:function(){return{order:"is-right",size:"",isSimple:!0,isRounded:!0,prevIcon:"chevron-left",nextIcon:"chevron-right"}}},i=a(1),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-pagination",{attrs:{total:t.totalPage,order:t.order,size:t.size,simple:t.isSimple,"per-page":t.perPage,"icon-prev":t.prevIcon,"icon-next":t.nextIcon,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)}),[],!1,null,null,null);e.a=o.exports},30:function(t,e,a){var s=a(88);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},31:function(t,e,a){var s=a(90);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},38:function(t,e,a){var s=a(124);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},40:function(t,e,a){var s=a(132);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},51:function(t,e,a){"use strict";a.r(e);var s=a(8),i=a(15),o=a(16),n=a(0),r=a(3),l=a(17),c=a.n(l);a(20);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f={name:"AddPermissionsModal",props:{role:{require:!0,type:Object}},computed:u({},Object(n.c)(["getPermissions","getProfile"])),beforeMount:function(){this.rolePermissions=u({},this.role.permissions)},data:function(){return{isSubmitting:!1,rolePermissions:{page:[],tab:[],other:[],crud:["read"],organization:[]}}},methods:u(u({},Object(n.b)(["dispatchRole"])),{},{addRolePermission:function(){var t=this;this.isSubmitting=!0,this.$axios.put("/dashboard/add-role-permission/".concat(this.role.id),this.rolePermissions).then((function(e){t.isSubmitting=!1,200===e.status&&e.data.created&&(t.dispatchRole({type:"ADD_ROLE_PERMISSION",payload:{id:t.role.id,data:t.rolePermissions}}),t.closeModal(),setTimeout((function(){t.snackbar("Permission added successfully.","is-success")}),1e3),t.rolePermissions={page:[],tab:[],other:[],crud:["read"],organization:[]})})).catch((function(e){t.isSubmitting=!1,console.log(e)}))},closeModal:function(){this.rolePermissions={page:[],tab:[],other:[],crud:["read"],organization:[]},this.$emit("close")}})},b=a(1),m=Object(b.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){return e.preventDefault(),t.addRolePermission()}}},[a("div",{staticClass:"modal-card py-4",staticStyle:{width:"700px"}},[a("header",{staticClass:"modal-card-head"},[a("h4",{staticClass:"modal-card-title text-main label pt-2"},[t._v("\n        Manage Permission for "+t._s(t.role.role)+"\n      ")]),t._v(" "),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("h5",{staticClass:"text-main pb-4"},[t._v("Page")]),t._v(" "),a("div",{staticClass:"block",staticStyle:{display:"block"}},t._l(t.getPermissions.page,(function(e,s){return a("b-checkbox",{key:e+s,attrs:{"native-value":e,size:"",type:"is-success"},model:{value:t.rolePermissions.page,callback:function(e){t.$set(t.rolePermissions,"page",e)},expression:"rolePermissions.page"}},[t._v("\n              "+t._s(e)+"\n            ")])})),1)]),t._v(" "),a("div",{staticClass:"column is-6"},[a("h5",{staticClass:"text-main pb-4"},[t._v("Tabs")]),t._v(" "),t._l(t.getPermissions.tab,(function(e,s){return a("b-checkbox",{key:e+s,attrs:{"native-value":e,size:"",type:"is-success"},model:{value:t.rolePermissions.tab,callback:function(e){t.$set(t.rolePermissions,"tab",e)},expression:"rolePermissions.tab"}},[t._v("\n            "+t._s(e)+"\n          ")])}))],2)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("h5",{staticClass:"text-main pb-4"},[t._v("CRUD")]),t._v(" "),a("div",{staticClass:"block",staticStyle:{display:"block"}},t._l(t.getPermissions.crud,(function(e,s){return a("b-checkbox",{key:e+s,attrs:{"native-value":e,size:"",type:"is-success"},model:{value:t.rolePermissions.crud,callback:function(e){t.$set(t.rolePermissions,"crud",e)},expression:"rolePermissions.crud"}},[t._v("\n              "+t._s(e)+"\n            ")])})),1)]),t._v(" "),a("div",{staticClass:"column is-6"},[a("h5",{staticClass:"text-main pb-4"},[t._v("Other")]),t._v(" "),t._l(t.getPermissions.other,(function(e,s){return a("b-checkbox",{key:e+s,attrs:{"native-value":e,size:"",type:"is-success"},model:{value:t.rolePermissions.other,callback:function(e){t.$set(t.rolePermissions,"other",e)},expression:"rolePermissions.other"}},[t._v("\n            "+t._s(e)+"\n          ")])}))],2)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("h5",{staticClass:"text-main pb-4"},[t._v("Organization")]),t._v(" "),a("div",{staticClass:"block",staticStyle:{display:"block"}},t._l(t.getPermissions.organization,(function(e,s){return a("b-checkbox",{key:e+s,attrs:{"native-value":e,size:"",type:"is-success"},model:{value:t.rolePermissions.organization,callback:function(e){t.$set(t.rolePermissions,"organization",e)},expression:"rolePermissions.organization"}},[t._v("\n              "+t._s(e)+"\n            ")])})),1)])])]),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmitting}},[t._v("\n          "+t._s(t.isSubmitting?"Saving...":"Save")+"\n        ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",attrs:{disabled:t.isSubmitting},on:{click:function(e){return t.closeModal()}}},[t._v("Cancel")])],1)],1)])])}),[],!1,null,"65e8fa26",null).exports;function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){v(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var _={name:"ManageUserComponent",components:{Paginate:r.a,Treeselect:c.a,AddPermissionModal:m},props:{},computed:g(g({},Object(n.c)(["getUsers","getRoles","getRolePermissions","getProfile"])),{},{getDropperId:function(){return this.dropperId},getEditRoleDropperId:function(){return this.editRoleDropperId},getReportToDropperId:function(){return this.reportToDropperId},getStaff:function(){return this.getUsers.data.map((function(t){return{id:t.id,label:"".concat(t.personal_details.title||""," ").concat(t.personal_details.firstName," ").concat(t.personal_details.middleName||""," ").concat(t.personal_details.lastName)}}))}}),beforeMount:function(){this.authUser=this.$page.props.authUser},mounted:function(){var t=this;this.isLoading=!0,this.$nextTick((function(){t.getUsers.data.length>0?t.isLoading=!1:setTimeout((function(){t.isLoading=!1,t.noUserFound=!0}),1e3)}))},watch:{selectedUsers:function(t){0===t.length&&(this.showAssignRoleForm=!1,this.showAssignStatusForm=!1,this.roleData=["ESS"],this.statusData="")}},data:function(){return{authUser:null,defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",selectedUsers:[],selectedRoles:[],toggleUserForm:!1,toggleQueryForm:!1,showAssignRoleForm:!1,showAssignStatusForm:!1,isSubmitting:!1,isSubmittingRole:!1,isSubmittingReportTo:!1,noUserFound:!1,isLoading:!1,dropperId:"",editRoleDropperId:"",reportToDropperId:"",role:{role:"",error:[]},roleUser:{staff:[],error:[]},reportTo:{staff:[],error:[]},user:{firstName:"",middleName:"",lastName:"",username:"",status:"1"},userPersonalDetails:{avatar:"",title:"",firstName:"",middleName:"",lastName:"",staffId:"",otherId:"",birthDate:"",maritalStatus:"",nationality:"",gender:"",attachments:[]},userError:{firstName:[],middleName:[],lastName:[],username:[],password:[],confirmPassword:[],status:[]},statusData:""}},methods:g(g({},Object(n.b)(["dispatchUserAccount","dispatchRole","dispatchStaffCount"])),{},{openRoleDropper:function(){var t=this.$refs.roleDropper;t&&t.open()},closeRoleDropper:function(){var t=this.$refs.roleDropper;t&&(this.role.error=[],t.close())},openRoleUserDropper:function(t){var e=this.$refs.roleUserDropper;this.dropperId=t,e&&e.open()},closeRoleUserDropper:function(){var t=this.$refs.roleUserDropper;t&&(this.roleUser.error=[],t.close())},openEditRoleDropper:function(t){var e=this.$refs.editRoleDropper;this.editRoleDropperId=t.id,this.role.role=t.role,e&&e.open()},closeEditRoleDropper:function(){var t=this.$refs.editRoleDropper;t&&(this.role.error=[],t.close())},openReportToDropper:function(t){var e=this.$refs.reportToDropper;this.reportToDropperId=t.id,e&&e.open()},closeReportToDropper:function(){var t=this.$refs.reportToDropper;t&&t.close()},closeUserForm:function(){this.toggleUserForm=!this.toggleUserForm,this.setUserErrors()},openQueryForm:function(){this.toggleQueryForm=!this.toggleQueryForm},openAssignStatusForm:function(){this.showAssignStatusForm=!this.showAssignStatusForm},cancelAssignForm:function(){this.selectedUsers=[],this.statusData=""},addUser:function(){var t=this;this.setUserErrors(),this.isSubmitting=!0;var e={first_name:this.user.firstName,middle_name:this.user.middleName,last_name:this.user.lastName,email:this.user.username,status:this.user.status,userPersonalDetails:g(g({},this.userPersonalDetails),{},{firstName:this.user.firstName,middleName:this.user.middleName,lastName:this.user.lastName})};this.$axios.post("/dashboard/register",e).then((function(e){t.clearUserForm(),200===e.status&&(t.dispatchUserAccount({type:"ADD_NEW_USER",payload:e.data.user}),t.dispatchStaffCount({payload:e.data.staffCount}),setTimeout((function(){t.snackbar("User added successfully.","is-success"),t.isSubmitting=!1}),1e3))})).catch((function(e){422===e.response.status?setTimeout((function(){t.setUserErrors(e.response.data.errors),t.isSubmitting=!1}),1e3):console.log(e)}))},assignUserStatus:function(){var t=this,e=this.selectedUsers.map((function(t){return t.id}));this.$axios.put("/dashboard/assign-users-status",{ids:e,status:this.statusData}).then((function(a){a.data.assigned&&(t.dispatchUserAccount({type:"ASSIGN_STATUS",payload:{ids:e,status:t.statusData}}),t.selectedUsers=[],t.statusData="",setTimeout((function(){t.snackbar("Status assigned successfully.","is-success")}),1e3))})).catch((function(e){setTimeout((function(){t.snackbar("There was a problem assigning role.","is-danger")}),1e3)}))},deleteUser:function(t){var e=this;this.$confirm({auth:!0,message:"Are you sure you want to delete this user?",button:{no:"No",yes:"Yes"},callback:function(a,s){a&&e.$axios.get("/dashboard/check-user-password/".concat(e.authUser.id,"/").concat(s)).then((function(a){a.data.confirmed?e.$axios.delete("/dashboard/delete-user/".concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchUserAccount({type:"DELETE_USER",payload:t}),e.dispatchStaffCount({payload:a.data.staffCount}),setTimeout((function(){e.snackbar("User deleted successfully.","is-success")}),1e3))})).catch((function(t){setTimeout((function(){e.toast("There was a problem deleting user.","is-danger")}),1e3)})):setTimeout((function(){e.toast("Your password is incorrect!","is-danger")}),1e3)}))}})},deleteUsers:function(){var t=this,e=this.selectedUsers.map((function(t){return t.id}));this.$confirm({auth:!0,message:"Are you sure you want to delete this user?",button:{no:"No",yes:"Yes"},callback:function(a,s){a&&t.$axios.get("/dashboard/check-user-password/".concat(t.authUser.id,"/").concat(s)).then((function(a){a.data.confirmed?t.$axios.delete("/dashboard/delete-users/".concat(e)).then((function(a){200===a.status&&a.data.deleted&&(t.dispatchUserAccount({type:"DELETE_USERS",payload:e}),t.selectedUsers=[],setTimeout((function(){t.snackbar("User deleted successfully.","is-success")}),1e3))})).catch((function(e){setTimeout((function(){t.snackbar("There was a problem deleting user.","is-danger")}),1e3)})):setTimeout((function(){t.snackbar("Your password is incorrect!","is-danger")}),1e3)}))}})},addNewRole:function(){var t=this;this.isSubmittingRole=!0,this.role.error=[],this.$axios.post("/dashboard/add-role",{role:this.role.role}).then((function(e){t.isSubmittingRole=!1,200===e.status&&e.data.created&&(t.role.role="",t.dispatchRole({type:"ADD_NEW_ROLE",payload:e.data.role}),setTimeout((function(){t.snackbar("Role added successfully.","is-success"),t.isSubmitting=!1}),1e3))})).catch((function(e){t.isSubmittingRole=!1,422===e.response.status?(t.isSubmitting=!1,t.role.error=e.response.data.errors.role):console.log(e)}))},editRole:function(t){var e=this;this.isSubmittingRole=!0,this.role.error=[],this.$axios.put("/dashboard/update-role/".concat(t),{role:this.role.role}).then((function(a){e.isSubmittingRole=!1,200===a.status&&a.data.updated&&(e.dispatchRole({type:"UPDATE_ROLE",payload:{id:t,data:e.role.role}}),e.closeEditRoleDropper(),setTimeout((function(){e.snackbar("Role updated successfully.","is-success"),e.isSubmitting=!1}),1e3))})).catch((function(t){e.isSubmittingRole=!1,422===t.response.status?(e.isSubmitting=!1,e.role.error=t.response.data.errors.role):console.log(t)}))},deleteRole:function(t){var e=this;this.$axios.delete("/dashboard/delete-role/".concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchRole({type:"DELETE_ROLE",payload:t}),setTimeout((function(){e.snackbar("Role deleted successfully.","is-success")}),1e3))})).catch((function(t){console.log(t)}))},deleteRoles:function(){var t=this,e=this.selectedRoles.map((function(t){return t.id}));this.$axios.delete("/dashboard/delete-roles/".concat(e)).then((function(a){200===a.status&&a.data.deleted&&(t.dispatchRole({type:"DELETE_ROLES",payload:e}),t.selectedRoles=[],setTimeout((function(){t.snackbar("Roles deleted successfully.","is-success")}),1e3))})).catch((function(t){console.log(t)}))},addRoleUser:function(t){var e=this;this.isSubmittingRole=!0,this.roleUser.error=[],this.$axios.put("/dashboard/add-role-user/".concat(t),{staff:this.roleUser.staff}).then((function(a){200===a.status&&a.data.created&&(e.isSubmittingRole=!1,e.dispatchRole({type:"ADD_ROLE_USER",payload:{id:t,data:a.data.staff}}),e.roleUser.staff=[],e.closeRoleUserDropper(),setTimeout((function(){e.snackbar("Staff added successfully.","is-success")}),1e3))})).catch((function(t){e.isSubmittingRole=!1,422===t.response.status?e.roleUser.error=t.response.data.errors.staff:console.log(t)}))},deleteRoleUser:function(t){var e=this,a=this.getRoles.filter((function(e,a){return e.staff[a]&&e.staff[a].id===t.staff})).filter((function(e,a){return e.staff[a]&&e.id!==t.role})).map((function(t){return t.id}));this.$axios.put("/dashboard/delete-role-user/".concat(t.role,"/").concat(t.staff),{roles:a}).then((function(a){200===a.status&&a.data.created&&(e.dispatchRole({type:"ADD_ROLE_USER",payload:{id:t.role,data:a.data.staff}}),setTimeout((function(){e.snackbar("Staff removed from role successfully.","is-success")}),1e3))})).catch((function(t){console.log(t)}))},addPermission:function(t){this.$buefy.modal.open({parent:this,component:m,hasModalCard:!0,trapFocus:!0,canCancel:["escape"],props:{role:t}})},addReportToStaff:function(t){var e=this;this.isSubmittingReportTo=!0,this.reportTo.error=[],this.$axios.put("/dashboard/add-report-to-staff/".concat(t),{staff:this.reportTo.staff}).then((function(a){200===a.status&&a.data.created&&(e.dispatchRole({type:"ADD_REPORT_TO_STAFF",payload:{id:t,data:a.data.staff}}),e.isSubmittingReportTo=!1,e.reportTo.staff=[],e.closeReportToDropper(),setTimeout((function(){e.snackbar("Staff added successfully.","is-success")}),1e3))})).catch((function(t){e.isSubmittingReportTo=!1,422===t.response.status?e.reportTo.error=t.response.data.errors.staff||[]:console.log(t)}))},removeReportToStaff:function(t){var e=this;this.$axios.put("/dashboard/remove-report-to-staff/".concat(t.role,"/").concat(t.staff)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchRole({type:"ADD_REPORT_TO_STAFF",payload:{id:t.role,data:a.data.staff}}),setTimeout((function(){e.snackbar("Staff removed successfully.","is-success")}),1e3))})).catch((function(t){console.log(t)}))},setUserErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.userError={firstName:t.first_name||[],middleName:t.middle_name||[],lastName:t.last_name||[],username:t.email||[],status:t.status||[]}},clearUserForm:function(){this.user={firstName:"",middleName:"",lastName:"",username:"",status:"1"}},isNull:function(t){return"null"===t||null===t?"":t},getFullName:function(t){return"".concat(this.isNull(t.title)," ").concat(t.firstName," ").concat(this.isNull(t.middleName)," ").concat(t.lastName)}})},y=(a(123),Object(b.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-tabs",{attrs:{type:"is-toggle",size:"",animated:!1,expanded:""}},[a("b-tab-item",{attrs:{label:"Staff Account"}},[t.isPermission("create")?a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"querystaff"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"querystaff"}},[a("p",{staticClass:"card-header-title"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:"plus"}}),t._v(" "),a("span",{staticClass:"has-text-info"},[t._v(" Add New User")])],1),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}],null,!1,2441900739),model:{value:t.toggleUserForm,callback:function(e){t.toggleUserForm=e},expression:"toggleUserForm"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addUser()}}},[a("h5",{staticClass:"text-main"},[t._v("Full Name")]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:"Last Name",expanded:"",type:{"is-danger":t.userError.lastName.length>0},message:t.userError.lastName}},[a("b-input",{attrs:{expanded:"",placeholder:"Enter last name"},model:{value:t.user.lastName,callback:function(e){t.$set(t.user,"lastName",e)},expression:"user.lastName"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:"First Name",expanded:"",type:{"is-danger":t.userError.firstName.length>0},message:t.userError.firstName}},[a("b-input",{attrs:{expanded:"",placeholder:"Enter first name"},model:{value:t.user.firstName,callback:function(e){t.$set(t.user,"firstName",e)},expression:"user.firstName"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:"Middle Name",expanded:"",type:{"is-danger":t.userError.middleName.length>0},message:t.userError.middleName}},[a("b-input",{attrs:{expanded:"",placeholder:"Enter middle name"},model:{value:t.user.middleName,callback:function(e){t.$set(t.user,"middleName",e)},expression:"user.middleName"}})],1)],1)]),t._v(" "),a("h5",{staticClass:"text-main"},[t._v("Login Credentials")]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:"Username",expanded:"",type:{"is-danger":t.userError.username.length>0},message:t.userError.username}},[a("b-input",{attrs:{expanded:"",placeholder:"Enter email"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1)],1)]),t._v(" "),a("h5",{staticClass:"text-main"},[t._v("Account Status")]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("b-field",{attrs:{label:"Status",expanded:"",type:{"is-danger":t.userError.status.length>0},message:t.userError.status}},[a("div",{staticClass:"block"},[a("b-radio",{attrs:{type:"is-info",name:"status","native-value":"1"},model:{value:t.user.status,callback:function(e){t.$set(t.user,"status",e)},expression:"user.status"}},[t._v("\n                          Enable\n                        ")]),t._v(" "),a("b-radio",{attrs:{type:"is-info",name:"status","native-value":"0"},model:{value:t.user.status,callback:function(e){t.$set(t.user,"status",e)},expression:"user.status"}},[t._v("\n                          Disable\n                        ")])],1)])],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n                    "+t._s(t.isSubmitting?"Submitting...":"Add")+"\n                  ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.closeUserForm()}}},[t._v("Cancel")])],1)],1)])])])],1):t._e(),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header",attrs:{role:"button"}},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("User List")]),t._v(" "),a("section",{staticClass:"table__header__lists"},[a("div",{staticClass:"table__header__lists__item",on:{click:function(e){return t.openQueryForm()}}},[a("b-tooltip",{attrs:{label:"Query Users.",type:"is-dark"}},[a("b-icon",{staticClass:"icon--wrapper",attrs:{icon:"search"}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t.toggleQueryForm?a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{open:t.toggleQueryForm,animation:"slide","aria-id":"querystaff"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"querystaff"}},[a("p",{staticClass:"card-header-title"},[a("span",{staticClass:"has-text-info"},[t._v("Query Users")])]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}],null,!1,2710651610)},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:"Username",expanded:""}},[a("b-input",{attrs:{expanded:""}})],1)],1),t._v(" "),a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:"Staff Name",expanded:""}},[a("b-input",{attrs:{expanded:""}})],1)],1),t._v(" "),a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:"User Role",expanded:""}},[a("b-select",{attrs:{expanded:""}},[a("option",[t._v("Full-Time")]),t._v(" "),a("option",[t._v("Part-Time")]),t._v(" "),a("option",[t._v("Other")])])],1)],1),t._v(" "),a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:"Status",expanded:""}},[a("b-select",{attrs:{expanded:""}},[a("option",[t._v("Current Staff Only")]),t._v(" "),a("option",[t._v("Current and Past Staff Only")]),t._v(" "),a("option",[t._v("Past Staff Only")])])],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("b-button",{staticClass:"is-success is-light"},[t._v("Search")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light"},[t._v("Cancel")])],1)],1)])])])],1):t._e(),t._v(" "),a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.selectedUsers.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem",disabled:!t.isPermission("update")},on:{click:function(e){return t.openAssignStatusForm()}}},[t._v("Assign account status")]),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem",disabled:!t.isPermission("delete")},on:{click:function(e){return t.deleteUsers()}}},[t._v("Delete users")])],1),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.showAssignStatusForm&&t.selectedUsers.length>0?a("form",{attrs:{action:""}},[a("b-field",{attrs:{label:"Choose Status",expanded:""}},[a("div",{staticClass:"block"},[a("b-radio",{attrs:{type:"is-info",name:"status","native-value":"1"},model:{value:t.statusData,callback:function(e){t.statusData=e},expression:"statusData"}},[t._v("\n                          Enable\n                        ")]),t._v(" "),a("b-radio",{attrs:{type:"is-info",name:"status","native-value":"0"},model:{value:t.statusData,callback:function(e){t.statusData=e},expression:"statusData"}},[t._v("\n                          Disable\n                        ")])],1)]),t._v(" "),a("b-field",{staticClass:"buttons"},[a("b-button",{staticClass:"is-success is-light",on:{click:function(e){return t.assignUserStatus()}}},[t._v("Save")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelAssignForm()}}},[t._v("Cancel")])],1)],1):t._e()])],1),t._v(" "),a("b-table",{attrs:{data:t.getUsers.data,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"checked-rows":t.selectedUsers,loading:t.isLoading,checkable:"",striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.selectedUsers=e},"update:checked-rows":function(e){t.selectedUsers=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("paginate",{attrs:{state:t.getUsers,dispatch:t.dispatchUserAccount}})]},proxy:!0},t.noUserFound?{key:"empty",fn:function(){return[a("article",{staticClass:"table__data__notfound"},[a("b-icon",{attrs:{icon:"database",pack:"fas"}}),t._v(" "),a("strong",{staticClass:"pt-3"},[t._v("Ooops! No staff found.")])],1)]},proxy:!0}:null],null,!0)},[a("b-table-column",{staticClass:"is-info",attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"personal_details.avatar",label:"Avatar",sortable:""},scopedSlots:t._u([{key:"default",fn:function(t){return[a("figure",{staticClass:"table-avatar"},[a("img",{staticClass:"is-rounded",attrs:{src:"/storage/avatar/"+t.row.personal_details.avatar}})])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"email",label:"Username",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.email))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"personal_details.lastName",label:"Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getFullName(e.row.personal_details)))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"user_role",label:"User Role",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(JSON.parse(e.row.roles),(function(e){return a("b-tag",{key:e,staticClass:"mr-1",attrs:{type:"is-dark"}},[t._v(t._s(e))])}))}}])}),t._v(" "),a("b-table-column",{attrs:{field:"status",label:"Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-tag",{attrs:{type:(1===e.row.status?"is-success":"is-danger")+" is-light"}},[t._v(t._s(1===e.row.status?"Enabled":"Disabled"))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"View Profile",size:"is-small",type:"is-dark"}},[t.$page.props.authUser.id!==e.row.id?a("inertia-link",{attrs:{href:"/dashboard/ess/"+e.row.id+"/"+e.row.slug,"preserve-scroll":""}},[a("b-button",{staticClass:"is-light",attrs:{size:"is-small",pack:"fas","icon-right":"eye",disabled:!t.isPermission("read")}})],1):a("inertia-link",{attrs:{href:"/dashboard/ess","preserve-scroll":""}},[a("b-button",{staticClass:"is-light",attrs:{size:"is-small",pack:"fas","icon-right":"eye",disabled:!t.isPermission("read")}})],1)],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash",disabled:!t.isPermission("delete")},on:{click:function(a){return t.deleteUser(e.row.id)}}})],1)],1)]}}])})],1)],1)])])])]),t._v(" "),a("b-tab-item",{attrs:{label:"Roles & Permissions"}},[a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("Roles")]),t._v(" "),a("section",{staticClass:"table__header__lists"},[t.isPermission("create")?a("div",{staticClass:"table__header__lists__item",attrs:{id:"add-new-role"}},[a("b-tooltip",{attrs:{label:"Add new role",type:"is-dark"}},[a("b-icon",{staticClass:"icon--wrapper",attrs:{icon:"plus"}})],1)],1):t._e()])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.selectedRoles.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem",disabled:!t.isPermission("delete")},on:{click:function(e){return t.deleteRoles()}}},[t._v("Delete roles")])],1)],1),t._v(" "),a("b-table",{attrs:{data:t.getRoles,paginated:!0,"per-page":100,"current-page":1,"pagination-simple":!0,"pagination-position":"bottom","default-sort-direction":"desc","sort-icon":"arrow-up","sort-icon-size":"is-small","checked-rows":t.selectedRoles,checkable:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.selectedRoles=e},"update:checked-rows":function(e){t.selectedRoles=e}}},[a("b-table-column",{attrs:{field:"role",label:"Role",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.role)+"\n                ")]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"staff",label:"Staff",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.staff,(function(s,i){return a("div",{key:i,staticClass:"role-user"},[a("b-button",{attrs:{rounded:"",size:"",type:"is-danger is-light",disabled:!t.isPermission("delete")},on:{click:function(a){return t.deleteRoleUser({staff:s.user_id,role:e.row.id})}}},[a("b-icon",{attrs:{icon:"minus",size:"is-small"}})],1),t._v(" "),a("span",[t._v(t._s(t.getFullName(s)))])],1)})),t._v(" "),a("b-button",{attrs:{rounded:"","icon-left":"plus",size:"",type:"is-info is-light",id:"role-user-"+(e.row.id===t.getDropperId?t.getDropperId:""),disabled:!t.isPermission("create")},on:{click:function(a){return t.openRoleUserDropper(e.row.id)}}},[t._v("Add\n                  ")])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"permissions",label:"Permissions",sortable:"",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"block",staticStyle:{"margin-bottom":"-0.02rem"}},t._l(e.row.permissions.page,(function(e){return a("b-tag",{key:e,staticClass:"mr-2",attrs:{type:"is-success"}},[t._v("\n                      "+t._s(e)+"\n                    ")])})),1),t._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-bottom":"-0.02rem"}},t._l(e.row.permissions.tab,(function(e){return a("b-tag",{key:e,staticClass:"mr-2",attrs:{type:"is-success"}},[t._v("\n                      "+t._s(e)+"\n                    ")])})),1),t._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-bottom":"-0.02rem"}},t._l(e.row.permissions.other,(function(e){return a("b-tag",{key:e,staticClass:"mr-2",attrs:{type:"is-success"}},[t._v("\n                      "+t._s(e)+"\n                    ")])})),1),t._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-bottom":"-0.02rem"}},t._l(e.row.permissions.crud,(function(e){return a("b-tag",{key:e,staticClass:"mr-2",attrs:{type:"is-success"}},[t._v("\n                      "+t._s(e)+"\n                    ")])})),1),t._v(" "),a("div",{staticClass:"block"},t._l(e.row.permissions.organization,(function(e){return a("b-tag",{key:e,staticClass:"mr-2",attrs:{type:"is-success"}},[t._v("\n                      "+t._s(e)+"\n                    ")])})),1),t._v(" "),a("p",[a("b-button",{attrs:{"icon-left":"plus",rounded:"",size:"",type:"is-info is-light",disabled:!t.isPermission("create")},on:{click:function(a){return t.addPermission(e.row)}}},[a("span",{ref:"abs"},[t._v("Add")])])],1)]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"report-to",label:"Report to",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.report_to,(function(s,i){return a("div",{key:""+(i+s.user_id),staticClass:"role-user"},[a("b-button",{attrs:{rounded:"",size:"",type:"is-danger is-light"},on:{click:function(a){return t.removeReportToStaff({staff:s.user_id,role:e.row.id})}}},[a("b-icon",{attrs:{icon:"minus",size:"is-small"}})],1),t._v(" "),a("span",[t._v(t._s(t.getFullName(s)))])],1)})),t._v(" "),a("b-button",{attrs:{rounded:"","icon-left":"plus",size:"",type:"is-info is-light",id:("report-to-role-"+(e.row.id===t.getReportToDropperId?t.getReportToDropperId:"")).toString(),disabled:!t.isPermission("create")},on:{click:function(a){return t.openReportToDropper(e.row)}}},[t._v("Add\n                  ")])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Edit role",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-light is-info",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:"edit-role-"+(e.row.id===t.getEditRoleDropperId?t.getEditRoleDropperId:""),disabled:!t.isPermission("update")},on:{click:function(a){return t.openEditRoleDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete role",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-light is-danger",attrs:{size:"is-small",pack:"fas","icon-right":"trash",disabled:!t.isPermission("delete")},on:{click:function(a){return t.deleteRole(e.row.id)}}})],1)],1)]}}])})],1)],1)])])])])],1),t._v(" "),a("dropper",{ref:"roleDropper",staticClass:"dropper",attrs:{join:"#add-new-role","z-index":9999},on:{"esc-keydown":t.closeRoleDropper,"other-area-clicked":t.closeRoleDropper}},[a("h5",{staticClass:"text-main py-4"},[t._v("Add New Role")]),t._v(" "),a("form",{staticStyle:{width:"25rem"},on:{submit:function(e){return e.preventDefault(),t.addNewRole()}}},[a("b-field",{attrs:{type:{"is-danger":t.role.error.length>0},message:t.role.error}},[a("b-input",{staticClass:"is-info",attrs:{placeholder:"Enter new role",type:"text",expanded:""},model:{value:t.role.role,callback:function(e){t.$set(t.role,"role",e)},expression:"role.role"}})],1),t._v(" "),a("b-field",{staticClass:"buttons pt-4"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingRole}},[t._v("\n          "+t._s(t.isSubmittingRole?"Saving...":"Save")+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmittingRole},on:{click:function(e){return t.closeRoleDropper()}}},[t._v("\n          Cancel\n        ")])])],1)]),t._v(" "),a("dropper",{ref:"roleUserDropper",staticClass:"dropper",attrs:{join:("#role-user-"+t.getDropperId).toString(),"z-index":9999},on:{"esc-keydown":t.closeRoleUserDropper,"other-area-clicked":t.closeRoleUserDropper}},[a("h5",{staticClass:"text-main py-4"},[t._v("Add New Staff")]),t._v(" "),a("form",{staticStyle:{width:"25rem"},on:{submit:function(e){return e.preventDefault(),t.addRoleUser(t.getDropperId)}}},[a("b-field",{staticClass:"expand-input",attrs:{type:{"is-danger":t.roleUser.error.length>0},message:t.roleUser.error}},[a("treeselect",{attrs:{multiple:!0,options:t.getStaff,placeholder:"Select staff...","max-height":200},model:{value:t.roleUser.staff,callback:function(e){t.$set(t.roleUser,"staff",e)},expression:"roleUser.staff"}})],1),t._v(" "),a("b-field",{staticClass:"buttons pt-4"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingRole}},[t._v("\n          "+t._s(t.isSubmittingRole?"Saving...":"Save")+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmittingRole},on:{click:function(e){return t.closeRoleUserDropper()}}},[t._v("\n          Cancel\n        ")])])],1)]),t._v(" "),a("dropper",{ref:"editRoleDropper",staticClass:"dropper",attrs:{join:("#edit-role-"+t.editRoleDropperId).toString(),"z-index":9999},on:{"esc-keydown":t.closeEditRoleDropper,"other-area-clicked":t.closeEditRoleDropper}},[a("h5",{staticClass:"text-main py-4"},[t._v("Edit Role")]),t._v(" "),a("form",{staticStyle:{width:"25rem"},on:{submit:function(e){return e.preventDefault(),t.editRole(t.getEditRoleDropperId)}}},[a("b-field",{attrs:{type:{"is-danger":t.role.error.length>0},message:t.role.error}},[a("b-input",{staticClass:"is-info",attrs:{placeholder:"Enter new role",type:"text",expanded:""},model:{value:t.role.role,callback:function(e){t.$set(t.role,"role",e)},expression:"role.role"}})],1),t._v(" "),a("b-field",{staticClass:"buttons pt-4"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingRole}},[t._v("\n          "+t._s(t.isSubmittingRole?"Saving...":"Save")+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmittingRole},on:{click:function(e){return t.closeRoleDropper()}}},[t._v("\n          Cancel\n        ")])])],1)]),t._v(" "),a("dropper",{ref:"reportToDropper",staticClass:"dropper",attrs:{join:("#report-to-role-"+t.getReportToDropperId).toString(),"z-index":9999},on:{"esc-keydown":t.closeReportToDropper,"other-area-clicked":t.closeReportToDropper}},[a("h5",{staticClass:"text-main py-4"},[t._v("Assign Staff")]),t._v(" "),a("form",{staticStyle:{width:"25rem"},on:{submit:function(e){return e.preventDefault(),t.addReportToStaff(t.getReportToDropperId)}}},[a("b-field",{staticClass:"expand-input",attrs:{type:{"is-danger":t.reportTo.error.length>0},message:t.reportTo.error}},[a("treeselect",{attrs:{multiple:!0,options:t.getStaff,placeholder:"Select staff...","max-height":200},model:{value:t.reportTo.staff,callback:function(e){t.$set(t.reportTo,"staff",e)},expression:"reportTo.staff"}})],1),t._v(" "),a("b-field",{staticClass:"buttons pt-4"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingReportTo}},[t._v("\n          "+t._s(t.isSubmittingReportTo?"Saving...":"Save")+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmittingReportTo},on:{click:function(e){return t.closeReportToDropper()}}},[t._v("\n          Cancel\n        ")])])],1)])],1)}),[],!1,null,"3664c7b6",null).exports),S=a(14),C={name:"UpdateJobTitleModal",computed:{},props:{jobId:{required:!0,type:Number},jobTitle:{required:!0,type:Object},jobTitleErrors:{required:!0,type:Object},getJobCategories:{required:!0,type:Array},isSubmittingJobTitle:{required:!0,type:Boolean},cancelAddJobTitle:{required:!0,type:Function},updateJobTitle:{required:!0,type:Function}},data:function(){return{}},methods:{cancelModal:function(){this.$emit("close"),this.cancelAddJobTitle("modal")}}},k=Object(b.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){return e.preventDefault(),t.updateJobTitle(t.jobId)}}},[a("div",{staticClass:"modal-card py-4",staticStyle:{width:"50rem"}},[a("header",{staticClass:"modal-card-head"},[a("h4",{staticClass:"modal-card-title text-main label pt-2"},[t._v("Update job title")]),t._v(" "),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.cancelModal()}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"columns"},[t._m(0),t._v(" "),a("div",{staticClass:"column is-9"},[a("b-field",{attrs:{type:{"is-danger":t.jobTitleErrors.category.length>0},message:t.jobTitleErrors.category}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.jobTitle.category,callback:function(e){t.$set(t.jobTitle,"category",e)},expression:"jobTitle.category"}},t._l(t.getJobCategories,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v("\n                "+t._s(e.category)+"\n              ")])})),0)],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[t._m(1),t._v(" "),a("div",{staticClass:"column is-9"},[a("b-field",{attrs:{type:{"is-danger":t.jobTitleErrors.title.length>0},message:t.jobTitleErrors.title}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.jobTitle.title,callback:function(e){t.$set(t.jobTitle,"title",e)},expression:"jobTitle.title"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[t._m(2),t._v(" "),a("div",{staticClass:"column is-9"},[a("b-field",{attrs:{type:{"is-danger":t.jobTitleErrors.description.length>0},message:t.jobTitleErrors.description}},[a("b-input",{attrs:{size:"",type:"textarea",placeholder:"Job Description...",expanded:""},model:{value:t.jobTitle.description,callback:function(e){t.$set(t.jobTitle,"description",e)},expression:"jobTitle.description"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[t._m(3),t._v(" "),a("div",{staticClass:"column is-9"},[a("b-field",{attrs:{type:{"is-danger":t.jobTitleErrors.specification.length>0},message:t.jobTitleErrors.specification}},[a("b-field",{staticClass:"file is-dark",attrs:{expanded:""}},[a("b-upload",{staticClass:"file-label",attrs:{size:""},model:{value:t.jobTitle.specification,callback:function(e){t.$set(t.jobTitle,"specification",e)},expression:"jobTitle.specification"}},[a("span",{staticClass:"file-cta"},[a("b-icon",{staticClass:"file-icon",attrs:{icon:"upload",size:"is-small"}}),t._v(" "),a("span",{staticClass:"file-label"},[t._v("Upload")])],1),t._v(" "),t.jobTitle.specification?a("span",{staticClass:"file-name"},[t._v(t._s(t.jobTitle.specification.name))]):t._e()])],1)],1)],1)])]),t._v(" "),a("footer",{staticClass:"modal-card-foot buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmittingJobTitle}},[t._v("\n        "+t._s(t.isSubmittingJobTitle?"Saving...":"Save")+"\n      ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelModal()}}},[t._v("Cancel")])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3"},[e("label",{staticClass:"label"},[this._v("Job Category")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3"},[e("label",{staticClass:"label"},[this._v("Job Title")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3"},[e("label",{staticClass:"label"},[this._v("Job Description")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3"},[e("label",{staticClass:"label"},[this._v("Job Specification")])])}],!1,null,"d0431ff4",null).exports;function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){D(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function D(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var z={name:"JobComponent",components:{ViewPdf:S.a,UpdateJobTitleModal:k},props:{},computed:E(E({},Object(n.c)(["getUsers","getJobCategories","getJobTitles","getEmploymentStatus"])),{},{getDropperId:function(){return this.dropperId},getEmpStatusDropperId:function(){return this.empStatusDropperId}}),data:function(){return{openJobTitleDesc:void 0,isPaginated:!0,isPaginationSimple:!0,paginationPosition:"bottom",defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:50,checkedJobCats:[],checkedJobTitles:[],checkedEmpStatus:[],jobConfigurationsDta:[],toggleAddJobTitle:!1,toggleAddJobCategory:!1,toggleAddEmploymentStatus:!1,isviewSpecification:!1,isSubmittingJobCategory:!1,isSubmittingEmploymentStatus:!1,isSubmittingJobTitle:!1,isUpdateJobTitleModalActive:!1,dropperId:"",empStatusDropperId:"",jobCategory:{name:"",id:""},employmentStatus:{status:"",id:""},jobTitle:{category:"",title:"",description:"",specification:null},jobId:null,jobCategoryErrors:{name:[]},employmentStatusErrors:{status:[]},jobTitleErrors:{category:[],title:[],description:[],specification:[]}}},methods:E(E({},Object(n.b)(["dispatchJobCategory","dispatchJobTitle","dispatchEmploymentStatus"])),{},{openJobCatDropper:function(t){var e=this.$refs.jobCatDropper;this.dropperId=t.id,e&&(this.jobCategory={name:t.category,id:t.id},e.open())},closeJobCatDropper:function(){var t=this.$refs.jobCatDropper;t&&(this.jobCategory.id="",this.jobCategory.name="",this.jobCategoryErrors.name=[],t.close())},openEmpStatusDropper:function(t){var e=this.$refs.empStatusDropper;this.empStatusDropperId=t.id,e&&(this.employmentStatus={status:t.status,id:t.id},e.open())},closeEmpStatusDropper:function(){var t=this.$refs.empStatusDropper;t&&(this.employmentStatus.id="",this.employmentStatus.status="",this.employmentStatusErrors.status=[],t.close())},getFullName:function(){},addJobCategory:function(){var t=this;this.isSubmittingJobCategory=!0,this.jobCategoryErrors.name=[],this.$axios.post("/dashboard/create-job-catgory",{categoryName:this.jobCategory.name}).then((function(e){t.jobCategory.name="",201===e.status&&(t.dispatchJobCategory({type:"ADD_NEW_CATEGORY",payload:e.data}),setTimeout((function(){t.snackbar("Category added successfully","is-dark"),t.isSubmittingJobCategory=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.jobCategoryErrors.name=e.response.data.errors.categoryName?e.response.data.errors.categoryName:[],t.isSubmittingJobCategory=!1}),1e3)}))},updateJobCategory:function(){var t=this;this.isSubmittingJobCategory=!0,this.jobCategoryErrors.name=[],this.$axios.put("/dashboard/edit-job-catgory/".concat(this.jobCategory.id),{categoryName:this.jobCategory.name}).then((function(e){200===e.status&&e.data.updated&&(t.dispatchJobCategory({type:"UPDATE_CATEGORY",payload:e.data.category}),setTimeout((function(){t.snackbar("Category updated successfully","is-dark"),t.isSubmittingJobCategory=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.jobCategoryErrors.name=e.response.data.errors.categoryName?e.response.data.errors.categoryName:[],t.isSubmittingJobCategory=!1}),1e3)}))},deleteJobCategory:function(t){var e=this;this.$axios.delete("/dashboard/delete-job-catgory/".concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchJobCategory({type:"DELETE_CATEGORY",payload:t}),setTimeout((function(){e.snackbar("Category deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},deleteJobCategories:function(){var t=this,e=this.checkedJobCats.map((function(t){return t.id}));this.$axios.delete("/dashboard/delete-job-catgories/".concat(JSON.stringify(e))).then((function(a){200===a.status&&a.data.deleted&&(t.dispatchJobCategory({type:"DELETE_CATEGORIES",payload:e}),t.checkedJobCats=[],setTimeout((function(){t.snackbar("Category deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},addJobTitle:function(){var t=this;this.isSubmittingJobTitle=!0,this.setAddJobTitleErrors();var e=new FormData;e.append("category",this.jobTitle.category),e.append("title",this.jobTitle.title),e.append("description",this.jobTitle.description),e.append("specification",this.jobTitle.specification||""),this.$axios.post("/dashboard/create-job-title",e).then((function(e){t.cancelAddJobTitle(),t.dispatchJobTitle({type:"ADD_NEW_TITLE",payload:e.data}),setTimeout((function(){t.snackbar("Title successfully","is-dark"),t.isSubmittingJobTitle=!1}),1e3)})).catch((function(e){422===e.response.status&&setTimeout((function(){t.setAddJobTitleErrors(e.response.data.errors),t.isSubmittingJobTitle=!1}),1e3)}))},getJobTitleToEdit:function(t){this.jobId=t.id,this.jobTitle.category=t.job_category_id,this.jobTitle.title=t.title,this.jobTitle.description=t.description,this.isUpdateJobTitleModalActive=!0},updateJobTitle:function(t){var e=this;this.isSubmittingJobTitle=!0,this.setAddJobTitleErrors();var a=new FormData;a.append("_method","put"),a.append("category",this.jobTitle.category),a.append("title",this.jobTitle.title),a.append("description",this.jobTitle.description),null!==this.jobTitle.specification&&a.append("specification",this.jobTitle.specification),this.$axios.post("/dashboard/edit-job-title/".concat(t),a).then((function(t){200===t.status&&t.data.updated&&(e.isUpdateJobTitleModalActive=!1,e.cancelAddJobTitle("modal"),e.dispatchJobTitle({type:"UPDATE_TITLE",payload:t.data.job}),setTimeout((function(){e.snackbar("Status updated successfully","is-dark"),e.isSubmittingJobTitle=!1}),1e3))})).catch((function(t){422===t.response.status&&setTimeout((function(){e.setAddJobTitleErrors(t.response.data.errors),e.isSubmittingJobTitle=!1}),1e3)}))},deleteJobTitle:function(t){var e=this;this.$axios.delete("/dashboard/delete-job-title/".concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchJobTitle({type:"DELETE_TITLE",payload:t}),setTimeout((function(){e.snackbar("Job title deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},deleteJobTitles:function(){var t=this,e=this.checkedJobTitles.map((function(t){return t.id}));this.$axios.delete("/dashboard/delete-job-titles/".concat(JSON.stringify(e))).then((function(a){200===a.status&&a.data.deleted&&(t.dispatchJobTitle({type:"DELETE_TITLES",payload:e}),t.checkedJobTitles=[],setTimeout((function(){t.snackbar("Job title deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},addEmploymentStatus:function(){var t=this;this.isSubmittingEmploymentStatus=!0,this.employmentStatusErrors.status=[],this.$axios.post("/dashboard/create-employment-status",this.employmentStatus).then((function(e){201===e.status&&(t.dispatchEmploymentStatus({type:"ADD_NEW_EMP_STATUS",payload:e.data}),t.employmentStatus.status="",setTimeout((function(){t.snackbar("Status added successfully","is-dark"),t.isSubmittingEmploymentStatus=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.employmentStatusErrors.status=e.response.data.errors.status?e.response.data.errors.status:[],t.isSubmittingEmploymentStatus=!1}),1e3)}))},updateEmploymentStatus:function(){var t=this;this.isSubmittingEmploymentStatus=!0,this.employmentStatusErrors.status=[],this.$axios.put("/dashboard/edit-employment-status/".concat(this.employmentStatus.id),this.employmentStatus).then((function(e){200===e.status&&e.data.updated&&(t.dispatchEmploymentStatus({type:"UPDATE_EMP_STATUS",payload:e.data.status}),setTimeout((function(){t.snackbar("Status updated successfully","is-dark"),t.isSubmittingEmploymentStatus=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.employmentStatusErrors.status=e.response.data.errors.status?e.response.data.errors.status:[],t.isSubmittingEmploymentStatus=!1}),1e3)}))},deleteEmploymentStatus:function(t){var e=this;this.$axios.delete("/dashboard/delete-employment-status/".concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchEmploymentStatus({type:"DELETE_EMP_STATUS",payload:t}),setTimeout((function(){e.snackbar("Status deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},deleteEmploymentStatuses:function(){var t=this,e=this.checkedEmpStatus.map((function(t){return t.id}));this.$axios.delete("/dashboard/delete-employment-statuses/".concat(JSON.stringify(e))).then((function(a){200===a.status&&a.data.deleted&&(t.dispatchEmploymentStatus({type:"DELETE_EMP_STATUSES",payload:e}),t.checkedEmpStatus=[],setTimeout((function(){t.snackbar("Status deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},setAddJobTitleErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.jobTitleErrors.category=t.category||[],this.jobTitleErrors.title=t.title||[],this.jobTitleErrors.description=t.description||[],this.jobTitleErrors.specification=t.specification||[]},cancelAddJobCategory:function(){this.jobCategoryErrors.name=[],this.toggleAddJobCategory=!this.toggleAddJobCategory},cancelAddJobTitle:function(t){this.clearAddJobTitle(),this.setAddJobTitleErrors(),t||(this.toggleAddJobTitle=!this.toggleAddJobTitle)},cancelAddEmploymentStatus:function(){this.employmentStatusErrors.status=[],this.toggleAddEmploymentStatus=!this.toggleAddEmploymentStatus},clearAddJobTitle:function(){this.jobTitle.category="",this.jobTitle.title="",this.jobTitle.description="",this.jobTitle.specification=null},viewSpecification:function(t){this.$buefy.modal.open({parent:this,component:S.a,hasModalCard:!0,trapFocus:!0,props:{file:t}})}})},T=Object(b.a)(z,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("b-tabs",{attrs:{type:"is-toggle",size:"",animated:!1,expanded:""}},[a("b-tab-item",{attrs:{label:"Job Categories"}},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreason"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreason"}},[a("p",{staticClass:"card-header-title"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:"plus"}}),t._v(" "),a("span",{staticClass:"has-text-info"},[t._v(" Add New Job Category")])],1),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}]),model:{value:t.toggleAddJobCategory,callback:function(e){t.toggleAddJobCategory=e},expression:"toggleAddJobCategory"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addJobCategory()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Category Name")])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{type:{"is-danger":t.jobCategoryErrors.name.length>0},message:t.jobCategoryErrors.name}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.jobCategory.name,callback:function(e){t.$set(t.jobCategory,"name",e)},expression:"jobCategory.name"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmittingJobCategory}},[t._v("\n                    "+t._s(t.isSubmittingJobCategory?"Submitting...":"Add")+"\n                  ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelAddJobCategory()}}},[t._v("Cancel")])],1)],1)])])])],1),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("Job Categories")])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.checkedJobCats.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.deleteJobCategories()}}},[t._v("Delete job categories")])],1)],1),t._v(" "),a("b-table",{attrs:{data:t.getJobCategories,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"pagination-position":t.paginationPosition,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"checked-rows":t.checkedJobCats,checkable:"",striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.checkedJobCats=e},"update:checked-rows":function(e){t.checkedJobCats=e}}},[a("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"name",label:"Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.category))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Edit",size:"",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:("job-cat-id"+(e.row.id===t.getDropperId?t.getDropperId:"")).toString()},on:{click:function(a){return t.openJobCatDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",size:"",type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deleteJobCategory(e.row.id)}}})],1)],1)]}}])})],1)],1)])])])]),t._v(" "),a("b-tab-item",{attrs:{label:"Job Titles"}},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreason"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreason"}},[a("p",{staticClass:"card-header-title"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:"plus"}}),t._v(" "),a("span",{staticClass:"has-text-info"},[t._v(" Add New Job Title")])],1),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}]),model:{value:t.toggleAddJobTitle,callback:function(e){t.toggleAddJobTitle=e},expression:"toggleAddJobTitle"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addJobTitle()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Job Category")])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{type:{"is-danger":t.jobTitleErrors.category.length>0},message:t.jobTitleErrors.category}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.jobTitle.category,callback:function(e){t.$set(t.jobTitle,"category",e)},expression:"jobTitle.category"}},t._l(t.getJobCategories,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v("\n                          "+t._s(e.category)+"\n                        ")])})),0)],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Job Title")])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{type:{"is-danger":t.jobTitleErrors.title.length>0},message:t.jobTitleErrors.title}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.jobTitle.title,callback:function(e){t.$set(t.jobTitle,"title",e)},expression:"jobTitle.title"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Job Description")])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{type:{"is-danger":t.jobTitleErrors.description.length>0},message:t.jobTitleErrors.description}},[a("b-input",{attrs:{size:"",type:"textarea",placeholder:"Job Description...",expanded:""},model:{value:t.jobTitle.description,callback:function(e){t.$set(t.jobTitle,"description",e)},expression:"jobTitle.description"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Job Specification")])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{type:{"is-danger":t.jobTitleErrors.specification.length>0},message:t.jobTitleErrors.specification}},[a("b-field",{staticClass:"file is-dark",attrs:{expanded:""}},[a("b-upload",{staticClass:"file-label",attrs:{size:""},model:{value:t.jobTitle.specification,callback:function(e){t.$set(t.jobTitle,"specification",e)},expression:"jobTitle.specification"}},[a("span",{staticClass:"file-cta"},[a("b-icon",{staticClass:"file-icon",attrs:{icon:"upload",size:"is-small"}}),t._v(" "),a("span",{staticClass:"file-label"},[t._v("Upload")])],1),t._v(" "),t.jobTitle.specification?a("span",{staticClass:"file-name"},[t._v(t._s(t.jobTitle.specification.name))]):t._e()])],1)],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmittingJobTitle}},[t._v("\n                    "+t._s(t.isSubmittingJobTitle?"Submitting...":"Add")+"\n                  ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelAddJobTitle()}}},[t._v("Cancel")])],1)],1)])])])],1),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("Job Titles")])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.checkedJobTitles.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.deleteJobTitles()}}},[t._v("Delete job titles")])],1)],1),t._v(" "),a("b-table",{attrs:{data:t.getJobTitles,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"pagination-position":t.paginationPosition,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"checked-rows":t.checkedJobTitles,detailed:"","detail-key":"id","show-detail-icon":!1,checkable:"",striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.checkedJobTitles=e},"update:checked-rows":function(e){t.checkedJobTitles=e}},scopedSlots:t._u([{key:"detail",fn:function(e){return[a("article",[a("p",[a("strong",[t._v("Detail Description ")]),t._v(" "),a("br"),t._v("\n                      "+t._s(e.row.description)+"\n                    ")])])]}}])},[a("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"title",label:"Title",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.title))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"specification",label:"Specification",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{on:{click:function(a){return t.viewSpecification("/job-specifications/"+e.row.specification)}}},[t._v(t._s(e.row.specification))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"dsecription",label:"Description",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t.openJobTitleDesc!==e.row.id&&e.row.description?a("span",[t._v("\n                    "+t._s(e.row.description.substring(0,130)+"...")+"\n                  ")]):t._e(),t._v(" "),a("b-collapse",{attrs:{open:t.openJobTitleDesc===e.row.id,position:"is-bottom","aria-id":"contentIdForA11y1",animation:"slide"},on:{open:function(a){t.openJobTitleDesc=e.row.id},close:function(a){t.openJobTitleDesc=!e.row.id}},scopedSlots:t._u([e.row.description?{key:"trigger",fn:function(e){return[a("a",{attrs:{"aria-controls":"contentIdForA11y1"}},[t._v("\n                        "+t._s(e.open?"view less":"view more")+"\n                      ")])]}}:null],null,!0)},[t._v(" "),a("span",[t._v("\n                      "+t._s(e.row.description)+"\n                    ")])])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Edit",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen"},on:{click:function(a){return t.getJobTitleToEdit(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deleteJobTitle(e.row.id)}}})],1)],1)]}}])})],1)],1)])])])]),t._v(" "),a("b-tab-item",{attrs:{label:"Employment Status"}},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreason"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreason"}},[a("p",{staticClass:"card-header-title"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:"plus"}}),t._v(" "),a("span",{staticClass:"has-text-info"},[t._v(" Add New Eployment Status")])],1),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}]),model:{value:t.toggleAddEmploymentStatus,callback:function(e){t.toggleAddEmploymentStatus=e},expression:"toggleAddEmploymentStatus"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addEmploymentStatus()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Eployment Status")])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{type:{"is-danger":t.employmentStatusErrors.status.length>0},message:t.employmentStatusErrors.status}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.employmentStatus.status,callback:function(e){t.$set(t.employmentStatus,"status",e)},expression:"employmentStatus.status"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmittingEmploymentStatus}},[t._v("\n                    "+t._s(t.isSubmittingEmploymentStatus?"Submitting...":"Add")+"\n                  ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelAddEmploymentStatus()}}},[t._v("Cancel")])],1)],1)])])])],1),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("Employment Status")])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.checkedEmpStatus.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.deleteEmploymentStatuses()}}},[t._v("Delete employment statuses")])],1)],1),t._v(" "),a("b-table",{attrs:{data:t.getEmploymentStatus,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"pagination-position":t.paginationPosition,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"checked-rows":t.checkedEmpStatus,checkable:"",striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.checkedEmpStatus=e},"update:checked-rows":function(e){t.checkedEmpStatus=e}}},[a("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"status",label:"Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.status))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Edit",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:"emp-status-id"+(e.row.id===t.getEmpStatusDropperId?t.getEmpStatusDropperId:"".toString())},on:{click:function(a){return t.openEmpStatusDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deleteEmploymentStatus(e.row.id)}}})],1)],1)]}}])})],1)],1)])])])])],1),t._v(" "),a("dropper",{ref:"jobCatDropper",staticClass:"dropper",attrs:{join:"#job-cat-id"+t.getDropperId,"z-index":1e3},on:{"esc-keydown":t.closeJobCatDropper,"other-area-clicked":t.closeJobCatDropper}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateJobCategory()}}},[a("b-field",{attrs:{label:"Update Category Name",expanded:"",type:{"is-danger":t.jobCategoryErrors.name.length>0},message:t.jobCategoryErrors.name}},[a("b-input",{attrs:{type:"is-info"},model:{value:t.jobCategory.name,callback:function(e){t.$set(t.jobCategory,"name",e)},expression:"jobCategory.name"}})],1),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingJobCategory}},[t._v("\n          "+t._s(t.isSubmittingJobCategory?"Saving...":"Save")+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmittingJobCategory},on:{click:function(e){return t.closeJobCatDropper()}}},[t._v("\n          Cancel\n        ")])])],1)]),t._v(" "),a("dropper",{ref:"empStatusDropper",staticClass:"dropper",attrs:{join:"#emp-status-id"+t.getEmpStatusDropperId,"z-index":1e3},on:{"esc-keydown":t.closeEmpStatusDropper,"other-area-clicked":t.closeEmpStatusDropper}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateEmploymentStatus()}}},[a("b-field",{attrs:{label:"Update Employment Status",expanded:"",type:{"is-danger":t.employmentStatusErrors.status.length>0},message:t.employmentStatusErrors.status}},[a("b-input",{attrs:{type:"is-info"},model:{value:t.employmentStatus.status,callback:function(e){t.$set(t.employmentStatus,"status",e)},expression:"employmentStatus.status"}})],1),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingEmploymentStatus}},[t._v("\n          "+t._s(t.isSubmittingEmploymentStatus?"Saving...":"Save")+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmittingEmploymentStatus},on:{click:function(e){return t.closeEmpStatusDropper()}}},[t._v("\n          Cancel\n        ")])])],1)]),t._v(" "),a("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-label":"Example Modal","aria-modal":"","can-cancel":["escape"],"on-cancel":t.cancelAddJobTitle},scopedSlots:t._u([{key:"default",fn:function(e){return[a("UpdateJobTitleModal",t._b({on:{close:e.close}},"UpdateJobTitleModal",{jobId:t.jobId,jobTitle:t.jobTitle,jobTitleErrors:t.jobTitleErrors,isSubmittingJobTitle:t.isSubmittingJobTitle,getJobCategories:t.getJobCategories,cancelAddJobTitle:t.cancelAddJobTitle,updateJobTitle:t.updateJobTitle},!1))]}}]),model:{value:t.isUpdateJobTitleModalActive,callback:function(e){t.isUpdateJobTitleModalActive=e},expression:"isUpdateJobTitleModalActive"}})],1)}),[],!1,null,"52982136",null).exports;function P(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function O(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?P(Object(a),!0).forEach((function(e){x(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function x(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var U={name:"EditShiftModal",props:{shift:{require:!0}},mounted:function(){var t=this;this.setWorkShift(this.shift),this.$watch((function(){return t.workShift.from}),(function(e){var a=t.formatDurationInHours(e,t.workShift.to);t.workShift.duration=a})),this.$watch((function(){return t.workShift.to}),(function(e){var a=t.formatDurationInHours(t.workShift.from,e);t.workShift.duration=a}))},data:function(){return{isSubmittingWorkShift:!1,weekDefinitions:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturay","Sunday","Weekdays","Weekend","All"],workShift:{name:"",from:new Date,to:new Date,duration:"",days:[]},workShiftErrors:{name:[],from:[],to:[],duration:[],days:[]}}},methods:O(O({},Object(n.b)(["dispatchWorkShift"])),{},{updateWorkShift:function(){var t=this;this.isSubmittingWorkShift=!0,this.$axios.put("/dashboard/update-work-shift/".concat(this.shift.id),O(O({},this.workShift),{},{from:this.workShift.from.toISOString(),to:this.workShift.to.toISOString()})).then((function(e){t.$emit("close"),t.clearWorkShiftForm(),200===e.status&&e.data.created&&(t.dispatchWorkShift({type:"UPDATE_SHIFT",payload:e.data.data}),setTimeout((function(){t.snackbar("Shift updated successfully","is-dark"),t.isSubmittingWorkShift=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.setWorkShiftErrors(e.response.data.errors),t.isSubmittingWorkShift=!1}),1e3)}))},setWorkShift:function(t){this.workShift={name:t.name,from:new Date(t.from),to:new Date(t.to),duration:t.duration,days:t.days}},cancelWorkShiftForm:function(){this.$emit("close"),this.clearWorkShiftForm()},setWorkShiftErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.workShiftErrors.name=t.name||[],this.workShiftErrors.days=t.days||[],this.workShiftErrors.duration=t.duration||[]},clearWorkShiftForm:function(){this.setWorkShiftErrors(),this.workShift.name="",this.workShift.from=new Date,this.workShift.to=new Date,this.workShift.duration="",this.workShift.days=[]}})},j=Object(b.a)(U,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){return e.preventDefault(),t.updateWorkShift()}}},[a("div",{staticClass:"modal-card py-4",staticStyle:{width:"700px"}},[a("header",{staticClass:"modal-card-head"},[a("h4",{staticClass:"modal-card-title text-main label pt-2"},[t._v("Edit Work Shift")]),t._v(" "),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"Shift Name",horizontal:"",type:{"is-danger":t.workShiftErrors.name.length>0},message:t.workShiftErrors.name}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.workShift.name,callback:function(e){t.$set(t.workShift,"name",e)},expression:"workShift.name"}})],1),t._v(" "),a("b-field",{attrs:{label:"Work Hours",horizontal:""}},[a("b-field",{attrs:{label:"From",type:{"is-danger":t.workShiftErrors.from.length>0},message:t.workShiftErrors.from}},[a("b-timepicker",{attrs:{size:"","hour-format":"12",inline:"",expanded:""},model:{value:t.workShift.from,callback:function(e){t.$set(t.workShift,"from",e)},expression:"workShift.from"}})],1),t._v(" "),a("b-field",{attrs:{label:"To",type:{"is-danger":t.workShiftErrors.to.length>0},message:t.workShiftErrors.to}},[a("b-timepicker",{attrs:{size:"","hour-format":"12",inline:""},model:{value:t.workShift.to,callback:function(e){t.$set(t.workShift,"to",e)},expression:"workShift.to"}})],1),t._v(" "),a("b-field",{attrs:{label:"Duration",type:{"is-danger":t.workShiftErrors.duration.length>0},message:t.workShiftErrors.duration}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t._v("\n                "+t._s(t.workShift.duration)+"\n              ")])])])])],1),t._v(" "),a("b-field",{attrs:{label:"Week Definition",horizontal:""}},[a("div",{staticClass:"workshift__card"},[a("div",{staticClass:"workshift__card__header"},[a("strong",[t._v("Days")]),t._v(" "),t.workShiftErrors.days.length>0?a("p",{staticClass:"has-text-danger"},t._l(t.workShiftErrors.days,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),0):t._e()]),t._v(" "),a("div",{staticClass:"workshift__card__content"},[a("div",{staticClass:"checkbox__lists"},t._l(t.weekDefinitions,(function(e){return a("div",{key:e,staticClass:"checkbox__lists__list"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.workShift.days,expression:"workShift.days"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.workShift.days)?t._i(t.workShift.days,e)>-1:t.workShift.days},on:{change:function(a){var s=t.workShift.days,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=e,r=t._i(s,n);i.checked?r<0&&t.$set(t.workShift,"days",s.concat([n])):r>-1&&t.$set(t.workShift,"days",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.workShift,"days",o)}}}),t._v(" "),a("span",[t._v(t._s(e)+" ")])])])})),0)])])])],1),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light"},[t._v("\n          "+t._s(t.isSubmittingWorkShift?"Saving...":"Save")+"\n        ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelWorkShiftForm()}}},[t._v("Cancel")])],1)],1)])])}),[],!1,null,"036a3547",null).exports;function A(t){return function(t){if(Array.isArray(t))return N(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return N(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}function $(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function I(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$(Object(a),!0).forEach((function(e){J(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function J(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var R={name:"WorkShiftComponent",components:{EditShiftModal:j},computed:I(I({},Object(n.c)(["getUsers","getWorkShifts"])),{},{indeterminate:function(){return this.removedStaff.length===this.selectedStaff.length?(this.removedStaff.length>0&&this.selectedStaff.length>0&&(this.selectAllSectedStaff=!0),!1):0===this.removedStaff.length?(this.selectAllSectedStaff=!1,!1):this.removedStaff.length>0||void 0}}),watch:{selectAllSectedStaff:function(t){t&&(this.removedStaff=A(this.selectedStaff))}},mounted:function(){var t=this;this.$watch((function(){return t.workShift.from}),(function(e){var a=t.formatDurationInHours(e,t.workShift.to);t.workShift.duration=a})),this.$watch((function(){return t.workShift.to}),(function(e){var a=t.formatDurationInHours(t.workShift.from,e);t.workShift.duration=a}))},data:function(){return{isPaginated:!0,isPaginationSimple:!0,paginationPosition:"bottom",defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:50,toggleWorkShift:!1,isSubmittingWorkShift:!1,viewWorkShiftModal:!1,availableStaff:[],selectedStaff:[],removedStaff:[],selectAllSectedStaff:!1,shiftDropperId:"",selectedWorkShifts:[],weekDefinitions:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturay","Sunday","Weekdays","Weekend","All"],workShift:{assignedStaff:[],name:"",from:new Date,to:new Date,duration:"",days:[]},workShiftErrors:{assignedStaff:[],name:[],from:[],to:[],duration:[],days:[]}}},methods:I(I({},Object(n.b)(["dispatchWorkShift"])),{},{assignStaff:function(){this.selectedStaff=A(this.availableStaff),this.selectAllSectedStaff=!1},removeStaff:function(){var t=this;this.selectedStaff=this.selectedStaff.filter((function(e){if(!t.removedStaff.includes(e))return e})),this.removedStaff=[],0===this.selectedStaff.length&&(this.selectAllSectedStaff=!1)},addWorkShift:function(){var t=this;this.isSubmittingWorkShift=!0,this.$axios.post("/dashboard/add-work-shift",I(I({},this.workShift),{},{from:this.workShift.from.toISOString(),to:this.workShift.to.toISOString()})).then((function(e){t.clearWorkShiftForm(),200===e.status&&e.data.created&&(t.dispatchWorkShift({type:"ADD_NEW_SHIFT",payload:e.data.data}),setTimeout((function(){t.snackbar("Shift added successfully","is-dark"),t.isSubmittingWorkShift=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.setWorkShiftErrors(e.response.data.errors),t.isSubmittingWorkShift=!1}),1e3)}))},deleteWorkShift:function(t){var e=this;this.$axios.delete("/dashboard/delete-work-shift/".concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchWorkShift({type:"DELETE_SHIFT",payload:t}),setTimeout((function(){e.snackbar("Shift deleted successfully","is-dark")}),1e3))}))},deleteWorkShifts:function(){var t=this,e=this.selectedWorkShifts.map((function(t){return t.id}));this.$axios.delete("/dashboard/delete-work-shifts/".concat(e)).then((function(a){200===a.status&&a.data.deleted&&(t.dispatchWorkShift({type:"DELETE_SHIFTS",payload:e}),setTimeout((function(){t.snackbar("Shift deleted successfully","is-dark")}),1e3))}))},setShiftToEdit:function(t){this.$buefy.modal.open({parent:this,component:j,hasModalCard:!0,trapFocus:!0,canCancel:["escape"],props:{shift:t}})},cancelWorkShiftForm:function(){this.clearWorkShiftForm(),this.toggleWorkShift=!this.toggleWorkShift},setWorkShiftErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.workShiftErrors.name=t.name||[],this.workShiftErrors.days=t.days||[],this.workShiftErrors.duration=t.duration||[]},clearWorkShiftForm:function(){this.setWorkShiftErrors(),this.workShift.name="",this.workShift.from=new Date,this.workShift.to=new Date,this.workShift.duration="",this.workShift.days=[]}})},M=Object(b.a)(R,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("b-tabs",{attrs:{type:"is-toggle",size:"",animated:!1,expanded:""}},[a("b-tab-item",{attrs:{label:"Shifts"}},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreason"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreason"}},[a("p",{staticClass:"card-header-title"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:"plus"}}),t._v(" "),a("span",{staticClass:"has-text-info"},[t._v(" Add New Add Shift")])],1),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}]),model:{value:t.toggleWorkShift,callback:function(e){t.toggleWorkShift=e},expression:"toggleWorkShift"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addWorkShift()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Shift Name")])]),t._v(" "),a("div",{staticClass:"column is-5"},[a("b-field",{attrs:{type:{"is-danger":t.workShiftErrors.name.length>0},message:t.workShiftErrors.name}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.workShift.name,callback:function(e){t.$set(t.workShift,"name",e)},expression:"workShift.name"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Work Hours")])]),t._v(" "),a("div",{staticClass:"column is-5"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"From",type:{"is-danger":t.workShiftErrors.from.length>0},message:t.workShiftErrors.from}},[a("b-timepicker",{attrs:{size:"","hour-format":"12",inline:"",expanded:""},model:{value:t.workShift.from,callback:function(e){t.$set(t.workShift,"from",e)},expression:"workShift.from"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"To",type:{"is-danger":t.workShiftErrors.to.length>0},message:t.workShiftErrors.to}},[a("b-timepicker",{attrs:{size:"","hour-format":"12",inline:""},model:{value:t.workShift.to,callback:function(e){t.$set(t.workShift,"to",e)},expression:"workShift.to"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Duration",type:{"is-danger":t.workShiftErrors.duration.length>0},message:t.workShiftErrors.duration}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t._v("\n                                "+t._s(t.workShift.duration)+"\n                              ")])])])])],1)])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Week Definition")])]),t._v(" "),a("div",{staticClass:"column is-5"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("div",{staticClass:"workshift__card"},[a("div",{staticClass:"workshift__card__header"},[a("strong",[t._v("Days")]),t._v(" "),t.workShiftErrors.days.length>0?a("p",{staticClass:"has-text-danger"},t._l(t.workShiftErrors.days,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),0):t._e()]),t._v(" "),a("div",{staticClass:"workshift__card__content"},[a("div",{staticClass:"checkbox__lists"},t._l(t.weekDefinitions,(function(e){return a("div",{key:e,staticClass:"checkbox__lists__list"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.workShift.days,expression:"workShift.days"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.workShift.days)?t._i(t.workShift.days,e)>-1:t.workShift.days},on:{change:function(a){var s=t.workShift.days,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=e,r=t._i(s,n);i.checked?r<0&&t.$set(t.workShift,"days",s.concat([n])):r>-1&&t.$set(t.workShift,"days",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.workShift,"days",o)}}}),t._v(" "),a("span",[t._v(t._s(e)+" ")])])])})),0)])])])])])]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light"},[t._v("\n                    "+t._s(t.isSubmittingWorkShift?"Submitting...":"Add")+"\n                  ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelWorkShiftForm()}}},[t._v("Cancel")])],1)],1)])])])],1),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("Shift List")])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.selectedWorkShifts.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.deleteWorkShifts()}}},[t._v("Delete shifts")])],1)],1),t._v(" "),a("b-table",{attrs:{data:t.getWorkShifts,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"pagination-position":t.paginationPosition,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,checkable:"",hoverable:"","checked-rows":t.selectedWorkShifts,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.selectedWorkShifts=e},"update:checked-rows":function(e){t.selectedWorkShifts=e}}},[a("b-table-column",{attrs:{field:"name",label:"Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"from",label:"From",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatTime(e.row.from)))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"to",label:"To",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatTime(e.row.to)))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"hours",label:"Hours",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.duration))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"days",label:"Days",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.days.join(" | "))+"\n                ")]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Edit",type:" is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:"shift-id"+e.row.id},on:{click:function(a){return t.setShiftToEdit(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",type:" is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deleteWorkShift(e.row.id)}}})],1)],1)]}}])})],1)],1)])])])]),t._v(" "),a("b-tab-item",{attrs:{label:"Shift Rotation"}})],1)],1)}),[],!1,null,"3e37a4ba",null).exports,B={name:"UpdateBranchModal",computed:{},props:{branchId:{required:!0,type:Number},organizationBranch:{required:!0,type:Object},organizationBranchErrors:{required:!0,type:Object},isSubmittingNewBranch:{required:!0,type:Boolean},cancelAddOrganizationBranch:{required:!0,type:Function},updateBranch:{required:!0,type:Function}},data:function(){return{}},methods:{cancelModal:function(){this.$emit("close"),this.cancelAddOrganizationBranch("modal")}}};function F(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function W(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?F(Object(a),!0).forEach((function(e){L(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function L(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var q={name:"OrganizationComponent",components:{UpdateBranchModal:Object(b.a)(B,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){return e.preventDefault(),t.updateBranch(t.branchId)}}},[a("div",{staticClass:"modal-card py-4",staticStyle:{width:"50rem"}},[a("header",{staticClass:"modal-card-head"},[a("h4",{staticClass:"modal-card-title text-main label pt-2"},[t._v("Update branch")]),t._v(" "),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.cancelModal()}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"columns"},[t._m(0),t._v(" "),a("div",{staticClass:"column is-9"},[a("b-field",{attrs:{type:{"is-danger":t.organizationBranchErrors.name.length>0},message:t.organizationBranchErrors.name}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.organizationBranch.name,callback:function(e){t.$set(t.organizationBranch,"name",e)},expression:"organizationBranch.name"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[t._m(1),t._v(" "),a("div",{staticClass:"column is-9"},[a("b-field",{attrs:{type:{"is-danger":t.organizationBranchErrors.city.length>0},message:t.organizationBranchErrors.city}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.organizationBranch.city,callback:function(e){t.$set(t.organizationBranch,"city",e)},expression:"organizationBranch.city"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[t._m(2),t._v(" "),a("div",{staticClass:"column is-9"},[a("b-field",{attrs:{type:{"is-danger":t.organizationBranchErrors.telephone.length>0},message:t.organizationBranchErrors.telephone}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.organizationBranch.telephone,callback:function(e){t.$set(t.organizationBranch,"telephone",e)},expression:"organizationBranch.telephone"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[t._m(3),t._v(" "),a("div",{staticClass:"column is-9"},[a("b-field",{attrs:{type:{"is-danger":t.organizationBranchErrors.landmark.length>0},message:t.organizationBranchErrors.landmark}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.organizationBranch.landmark,callback:function(e){t.$set(t.organizationBranch,"landmark",e)},expression:"organizationBranch.landmark"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[t._m(4),t._v(" "),a("div",{staticClass:"column is-9"},[a("b-field",{attrs:{type:{"is-danger":t.organizationBranchErrors.email.length>0},message:t.organizationBranchErrors.email}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.organizationBranch.email,callback:function(e){t.$set(t.organizationBranch,"email",e)},expression:"organizationBranch.email"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[t._m(5),t._v(" "),a("div",{staticClass:"column is-9"},[a("b-field",{attrs:{type:{"is-danger":t.organizationBranchErrors.address.length>0},message:t.organizationBranchErrors.address}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.organizationBranch.address,callback:function(e){t.$set(t.organizationBranch,"address",e)},expression:"organizationBranch.address"}})],1)],1)])]),t._v(" "),a("footer",{staticClass:"modal-card-foot buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmittingNewBranch}},[t._v("\n        "+t._s(t.isSubmittingNewBranch?"Saving...":"Save")+"\n      ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelModal()}}},[t._v("Cancel")])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3"},[e("label",{staticClass:"label"},[this._v("Branch Name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3"},[e("label",{staticClass:"label"},[this._v("City")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3"},[e("label",{staticClass:"label"},[this._v("Telephone")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3"},[e("label",{staticClass:"label"},[this._v("Landmark/Location")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3"},[e("label",{staticClass:"label"},[this._v("Official Email")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-3"},[e("label",{staticClass:"label"},[this._v("Postal Address")])])}],!1,null,"2bf4cdb8",null).exports},props:{},computed:W(W({},Object(n.c)(["getBranches","getDepartments","getUnits","getPositions","getOrganizationProfile","getStaffCount"])),{},{getDropperId:function(){return this.dropperId},getUnitDropperId:function(){return this.unitDropperId},getPositionDropperId:function(){return this.positionDropperId}}),watch:{brandLogo:function(t){t?(this.isUploadingBrandLogo=!0,this.updateBranLogo(t)):this.isUploadingBrandLogo=!1}},beforeMount:function(){this.getOrganizationProfile&&(this.organizationMetadata=W(W({},this.organizationMetadata),{},{name:this.getOrganizationProfile.name,telephone:this.getOrganizationProfile.telephone,email:this.getOrganizationProfile.email,address:this.getOrganizationProfile.address,city:this.getOrganizationProfile.city,landmark:this.getOrganizationProfile.landmark,district:this.getOrganizationProfile.district,region:this.getOrganizationProfile.region,regNumber:this.getOrganizationProfile.reg_number,tin:this.getOrganizationProfile.tin})),this.organizationMetadata=W(W({},this.organizationMetadata),{},{currentStaff:this.getStaffCount.current,pastStaff:this.getStaffCount.past,totalStaff:this.getStaffCount.total})},data:function(){return{toggleAddOrganizationBranch:!1,toggleAddOrganizationDepartment:!1,toggleAddOrganizationUnit:!1,toggleAddOrganizationLeadership:!1,isSubmittingNewBranch:!1,isSubmittingPosition:!1,isSubmittingNewDepartment:!1,isSubmittingNewUnit:!1,isUdateDepartmentModalActive:!1,isUploadingBrandLogo:!1,isPaginated:!0,isPaginationSimple:!0,isEditOrganizationMetadata:!0,isSubmittingMetadata:!1,paginationPosition:"bottom",defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:50,checkedBranches:[],checkedDepartments:[],checkedUnits:[],checkedPositions:[],dropperId:"",unitDropperId:"",positionDropperId:"",branchId:null,brandLogo:null,brandLogoError:[],organizationBranch:{name:"",city:"",telephone:"",landmark:"",email:"",address:""},organizationDepartment:{name:"",id:""},organizationUnit:{name:"",department:"",id:""},organizationPosition:{name:"",id:""},organizationBranchErrors:{name:[],city:[],telephone:[],landmark:[],email:[],address:[]},organizationDepartmentErrors:{name:[]},organizationUnitErrors:{name:[],department:[]},organizationPositionErrors:{name:[]},organizationMetadata:{name:"",telephone:"",email:"",address:"",city:"",landmark:"",district:"",region:"",regNumber:"",tin:"",currentStaff:"",pastStaff:"",totalStaff:""},organizationMetadataErrors:{name:[],telephone:[],email:[],address:[],city:[],landmark:[],district:[],region:[],regNumber:[],tin:[]}}},methods:W(W({},Object(n.b)(["dispatchBranch","dispatchDepartment","dispatchUnit","dispatchPosition","dispatchOrgnizationProfile"])),{},{openDepartmentDropper:function(t){var e=this.$refs.departmentDropper;this.dropperId=t.id,e&&(this.organizationDepartment.id=t.id,this.organizationDepartment.name=t.name,e.open())},closeDepartmentDropper:function(){var t=this.$refs.departmentDropper;t&&(this.organizationDepartment.id="",this.organizationDepartment.name="",this.organizationDepartmentErrors.name=[],t.close())},openUnitDropper:function(t){var e=this.$refs.unitDropper;this.unitDropperId=t.id,e&&(this.organizationUnit.id=t.id,this.organizationUnit.name=t.name,this.organizationUnit.department=t.department_id,e.open())},closeUnitDropper:function(){var t=this.$refs.unitDropper;t&&(this.organizationUnit.id="",this.organizationUnit.name="",this.organizationUnit.department="",this.organizationUnitErrors.name=[],this.organizationUnitErrors.department=[],t.close())},openPositionDropper:function(t){var e=this.$refs.positionDropper;this.positionDropperId=t.id,e&&(this.organizationPosition.id=t.id,this.organizationPosition.name=t.name,e.open())},closePositionDropper:function(){var t=this.$refs.positionDropper;t&&(this.organizationPosition.id="",this.organizationPosition.name="",this.organizationPositionErrors.name=[],t.close())},updateBranLogo:function(t){var e=this;this.brandLogoError=[];var a=new FormData;a.append("logo",t),this.$axios.post("/dashboard/update-brand-logo",a).then((function(t){200===t.status&&t.data.updated&&(t.data.logo&&e.dispatchOrgnizationProfile({type:"UPDATE_LOGO",payload:t.data.logo}),t.data.org&&e.dispatchOrgnizationProfile({type:"UPDATE_INFO",payload:t.data.org}),setTimeout((function(){e.snackbar("Logo updated successfully","is-dark"),e.isUploadingBrandLogo=!1}),1e3))})).catch((function(t){422===t.response.status?setTimeout((function(){e.brandLogoError=t.response.data.errors.logo?t.response.data.errors.logo:[],e.isUploadingBrandLogo=!1}),1e3):console.log(t)}))},updateOrganizationMetadata:function(){var t=this;this.isSubmittingMetadata=!0,this.setOrganizationMetaDataErrors(),this.$axios.post("/dashboard/update-organization-metadata",this.organizationMetadata).then((function(e){t.clearAddOrganizationBranchForm(),200===e.status&&(t.dispatchOrgnizationProfile({type:"UPDATE_INFO",payload:e.data.info}),setTimeout((function(){t.snackbar("Metadata updated successfully","is-dark"),t.isSubmittingMetadata=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.setOrganizationMetaDataErrors(e.response.data.errors),t.isSubmittingMetadata=!1}),1e3)}))},addOrganizationBranch:function(){var t=this;this.isSubmittingNewBranch=!0,this.setAddOrganizationBranchErrors(),this.$axios.post("/dashboard/create-branch",this.organizationBranch).then((function(e){t.clearAddOrganizationBranchForm(),201===e.status&&(t.dispatchBranch({type:"ADD_NEW_BRANCH",payload:e.data}),setTimeout((function(){t.snackbar("Branch added successfully","is-dark"),t.isSubmittingNewBranch=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.setAddOrganizationBranchErrors(e.response.data.errors),t.isSubmittingNewBranch=!1}),1e3)}))},getBranchToEdit:function(t){this.branchId=t.id,this.organizationBranch.name=t.name,this.organizationBranch.city=t.city,this.organizationBranch.landmark=t.landmark,this.organizationBranch.address=t.address,this.organizationBranch.telephone=t.telephone,this.organizationBranch.email=t.email,this.isUdateDepartmentModalActive=!0},updateBranch:function(t){var e=this;this.isSubmittingNewBranch=!0,this.setAddOrganizationBranchErrors(),this.$axios.put("/dashboard/update-branch/".concat(t),this.organizationBranch).then((function(t){200===t.status&&t.data.updated&&(e.dispatchBranch({type:"UPDATE_BRANCH",payload:t.data.branch}),e.cancelAddOrganizationBranch("modal"),e.isUdateDepartmentModalActive=!1,setTimeout((function(){e.snackbar("Branch updated successfully","is-dark"),e.isSubmittingNewBranch=!1}),1e3))})).catch((function(t){422===t.response.status&&setTimeout((function(){e.setAddOrganizationBranchErrors(t.response.data.errors),e.isSubmittingNewBranch=!1}),1e3)}))},deleteBranch:function(t){var e=this;this.$axios.delete("/dashboard/delete-branch/".concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchBranch({type:"DELETE_BRANCH",payload:t}),setTimeout((function(){e.snackbar("Branch deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},deleteBranches:function(){var t=this,e=this.checkedBranches.map((function(t){return t.id}));this.$axios.delete("/dashboard/delete-branches/".concat(JSON.stringify(e))).then((function(a){200===a.status&&a.data.deleted&&(t.dispatchBranch({type:"DELETE_BRANCHES",payload:e}),t.checkedBranches=[],setTimeout((function(){t.snackbar("Branch deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},addOrganizationDepartment:function(){var t=this;this.isSubmittingNewDepartment=!0,this.organizationDepartmentErrors.name=[],this.$axios.post("/dashboard/create-department",this.organizationDepartment).then((function(e){t.organizationDepartment.name="",201===e.status&&(t.dispatchDepartment({type:"ADD_NEW_DEPARTMENT",payload:e.data}),setTimeout((function(){t.snackbar("Department added successfully","is-dark"),t.isSubmittingNewDepartment=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.organizationDepartmentErrors.name=e.response.data.errors.name?e.response.data.errors.name:[],t.isSubmittingNewDepartment=!1}),1e3)}))},addOrganizationUnit:function(){var t=this;this.isSubmittingNewUnit=!0,this.organizationUnitErrors.name=[],this.organizationUnitErrors.department=[],this.$axios.post("/dashboard/create-unit",this.organizationUnit).then((function(e){t.organizationUnit.name="",t.organizationUnit.department="",200===e.status&&e.data.created&&(t.dispatchUnit({type:"ADD_NEW_UNIT",payload:e.data.unit}),setTimeout((function(){t.snackbar("Unit added successfully","is-dark"),t.isSubmittingNewUnit=!1}),1e3))})).catch((function(e){422===e.response.status&&(t.isSubmittingNewUnit=!1,setTimeout((function(){t.organizationUnitErrors.name=e.response.data.errors.name||[],t.organizationUnitErrors.department=e.response.data.errors.name||[]}),1e3))}))},updateOrganizationDepartment:function(){var t=this;this.isSubmittingNewDepartment=!0,this.organizationDepartmentErrors.name=[],this.$axios.put("/dashboard/edit-department/".concat(this.organizationDepartment.id),this.organizationDepartment).then((function(e){200===e.status&&e.data.updated&&(t.dispatchDepartment({type:"UPDATE_DEPARTMENT",payload:e.data.department}),t.closeDepartmentDropper(),setTimeout((function(){t.snackbar("Department updated successfully","is-dark"),t.isSubmittingNewDepartment=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.organizationDepartmentErrors.name=e.response.data.errors.name?e.response.data.errors.name:[],t.isSubmittingNewDepartment=!1}),1e3)}))},updateOrganizationUnit:function(){var t=this;this.isSubmittingNewUnit=!0,this.organizationUnitErrors.name=[],this.organizationUnitErrors.department=[],this.$axios.put("/dashboard/edit-unit/".concat(this.organizationUnit.id),this.organizationUnit).then((function(e){t.organizationUnit.name="",t.organizationUnit.department="",200===e.status&&e.data.updated&&(t.dispatchUnit({type:"UPDATE_UNIT",payload:e.data.unit}),t.closeUnitDropper(),setTimeout((function(){t.snackbar("Unit updated successfully","is-dark"),t.isSubmittingNewUnit=!1}),1e3))})).catch((function(e){422===e.response.status&&(t.isSubmittingNewUnit=!1,setTimeout((function(){t.organizationUnitErrors.name=e.response.data.errors.name||[],t.organizationUnitErrors.department=e.response.data.errors.name||[]}),1e3))}))},deleteDepartment:function(t){var e=this;this.$axios.delete("/dashboard/delete-department/".concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchDepartment({type:"DELETE_DEPARTMENT",payload:t}),setTimeout((function(){e.snackbar("Department deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},deleteUnit:function(t){var e=this;this.$axios.delete("/dashboard/delete-unit/".concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchUnit({type:"DELETE_UNIT",payload:t}),setTimeout((function(){e.snackbar("Unit deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},deleteDepartments:function(){var t=this,e=this.checkedDepartments.map((function(t){return t.id}));this.$axios.delete("/dashboard/delete-departments/".concat(JSON.stringify(e))).then((function(a){200===a.status&&a.data.deleted&&(t.dispatchDepartment({type:"DELETE_DEPARTMENTS",payload:e}),t.checkedDepartments=[],setTimeout((function(){t.snackbar("Department deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},deleteUnits:function(){var t=this,e=this.checkedUnits.map((function(t){return t.id}));this.$axios.delete("/dashboard/delete-units/".concat(JSON.stringify(e))).then((function(a){200===a.status&&a.data.deleted&&(t.dispatchUnit({type:"DELETE_UNITS",payload:e}),t.checkedUnits=[],setTimeout((function(){t.snackbar("Units deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},addOrganizationPosition:function(){var t=this;this.isSubmittingPosition=!0,this.organizationPositionErrors.name=[],this.$axios.post("/dashboard/create-position",this.organizationPosition).then((function(e){t.organizationPosition.name="",201===e.status&&(t.dispatchPosition({type:"ADD_NEW_POSITION",payload:e.data}),setTimeout((function(){t.snackbar("Position added successfully","is-dark"),t.isSubmittingPosition=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.organizationPositionErrors.name=e.response.data.errors.name?e.response.data.errors.name:[],t.isSubmittingPosition=!1}),1e3)}))},updateOrganizationPosition:function(){var t=this;this.isSubmittingPosition=!0,this.organizationPositionErrors.name=[],this.$axios.put("/dashboard/edit-position/".concat(this.organizationPosition.id),this.organizationPosition).then((function(e){200===e.status&&e.data.updated&&(t.dispatchPosition({type:"UPDATE_POSITION",payload:e.data.position}),setTimeout((function(){t.snackbar("Position updated successfully","is-dark"),t.isSubmittingPosition=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.organizationPositionErrors.name=e.response.data.errors.name?e.response.data.errors.name:[],t.isSubmittingPosition=!1}),1e3)}))},deletePosition:function(t){var e=this;this.$axios.delete("/dashboard/delete-position/".concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchPosition({type:"DELETE_POSITION",payload:t}),setTimeout((function(){e.snackbar("Position deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},deletePositions:function(){var t=this,e=this.checkedPositions.map((function(t){return t.id}));this.$axios.delete("/dashboard/delete-positions/".concat(JSON.stringify(e))).then((function(a){200===a.status&&a.data.deleted&&(t.dispatchPosition({type:"DELETE_POSITIONS",payload:e}),t.checkedPositions=[],setTimeout((function(){t.snackbar("Position deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},assignStaff:function(){this.selectedStaff=this.availableStaff,this.workShift.assignedStaff=this.selectedStaff},removeStaff:function(){var t=this;this.assignedStaffIndex.forEach((function(e){t.selectedStaff.forEach((function(a,s){e===s&&t.selectedStaff.splice(s,t.assignedStaffIndex.length)}))}))},setAddOrganizationBranchErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.organizationBranchErrors.name=t.name?t.name:[],this.organizationBranchErrors.city=t.city?t.city:[],this.organizationBranchErrors.telephone=t.telephone?t.telephone:[],this.organizationBranchErrors.landmark=t.landmark?t.landmark:[],this.organizationBranchErrors.email=t.email?t.email:[],this.organizationBranchErrors.address=t.address?t.address:[]},setOrganizationMetaDataErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.organizationMetadataErrors={name:t.name?t.name:[],telephone:t.telephone?t.telephone:[],email:t.email?t.email:[],address:t.address?t.address:[],city:t.city?t.city:[],landmark:t.landmark?t.landmark:[],district:t.district?t.district:[],region:t.region?t.region:[],regNumber:t.regNumber?t.regNumber:[],tin:t.tin?t.tin:[]}},cancelAddOrganizationBranch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.clearAddOrganizationBranchForm(),this.setAddOrganizationBranchErrors(),t||(this.toggleAddOrganizationBranch=!this.toggleAddOrganizationBranch)},cancelAddOrganizationDepartment:function(){this.organizationDepartmentErrors.name=[],this.toggleAddOrganizationDepartment=!this.toggleAddOrganizationDepartment},cancelAddOrganizationUnit:function(){this.organizationUnitErrors.name=[],this.organizationUnitErrors.department=[],this.toggleAddOrganizationUnit=!this.toggleAddOrganizationUnit},cancelAddOrganizationPosition:function(){this.organizationPositionErrors.name=[],this.toggleAddOrganizationPosition=!this.toggleAddOrganizationPosition},clearAddOrganizationBranchForm:function(){this.organizationBranch.name="",this.organizationBranch.city="",this.organizationBranch.telephone="",this.organizationBranch.landmark="",this.organizationBranch.email="",this.organizationBranch.address=""},cancelOrganizationMetaData:function(){this.setOrganizationMetaDataErrors(),this.isEditOrganizationMetadata=!0}})},H=(a(131),Object(b.a)(q,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-tabs",{attrs:{type:"is-toggle",size:"",animated:!1,expanded:""}},[a("b-tab-item",{attrs:{label:"Organization Metadata"}},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreason"}},[a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreason"}},[a("p",{staticClass:"card-header-title"},[t._v("Metadata")])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("div",{staticClass:"brand-logo-container"},[a("div",{class:"brand-logo-overlay "+(t.isUploadingBrandLogo?"show-brand-logo-overlay":"hide-brand-logo-overlay")},[a("p",{staticClass:"text-withe"},[t._v("Uploading...")])]),t._v(" "),a("div",{staticClass:"brand-logo"},[a("img",{attrs:{src:"/storage/logo/"+(t.getOrganizationProfile&&t.getOrganizationProfile.logo),alt:"Brand Logo"}})]),t._v(" "),a("b-field",{attrs:{type:{"is-danger":t.brandLogoError.length>0},message:t.brandLogoError}},[a("b-field",{staticClass:"file is-info is-light",class:{"has-name":!!t.brandLogo}},[a("b-upload",{staticClass:"file-label",attrs:{rounded:"",disabled:t.isUploadingBrandLogo},model:{value:t.brandLogo,callback:function(e){t.brandLogo=e},expression:"brandLogo"}},[a("span",{staticClass:"file-cta"},[a("b-icon",{staticClass:"file-icon",attrs:{icon:"upload"}}),t._v(" "),a("span",{staticClass:"file-label"},[t._v("Upload Logo")])],1)])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"column is-9"},[a("fieldset",{attrs:{disabled:t.isEditOrganizationMetadata}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateOrganizationMetadata()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("h3",{staticClass:"label text-main is-pulled-right is-size-6"},[t._v("\n                            Profile\n                          ")])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("Organization Name")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-field",{attrs:{type:{"is-danger":t.organizationMetadataErrors.name.length>0},message:t.organizationMetadataErrors.name}},[a("b-input",{attrs:{expanded:""},model:{value:t.organizationMetadata.name,callback:function(e){t.$set(t.organizationMetadata,"name",e)},expression:"organizationMetadata.name"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("Telephone")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-field",{attrs:{type:{"is-danger":t.organizationMetadataErrors.telephone.length>0},message:t.organizationMetadataErrors.telephone}},[a("b-input",{attrs:{expanded:""},model:{value:t.organizationMetadata.telephone,callback:function(e){t.$set(t.organizationMetadata,"telephone",e)},expression:"organizationMetadata.telephone"}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("Email")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-field",{attrs:{type:{"is-danger":t.organizationMetadataErrors.email.length>0},message:t.organizationMetadataErrors.email}},[a("b-input",{attrs:{expanded:""},model:{value:t.organizationMetadata.email,callback:function(e){t.$set(t.organizationMetadata,"email",e)},expression:"organizationMetadata.email"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("Address")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-field",{attrs:{type:{"is-danger":t.organizationMetadataErrors.address.length>0},message:t.organizationMetadataErrors.address}},[a("b-input",{attrs:{expanded:""},model:{value:t.organizationMetadata.address,callback:function(e){t.$set(t.organizationMetadata,"address",e)},expression:"organizationMetadata.address"}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("City")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-field",{attrs:{type:{"is-danger":t.organizationMetadataErrors.city.length>0},message:t.organizationMetadataErrors.city}},[a("b-input",{attrs:{expanded:""},model:{value:t.organizationMetadata.city,callback:function(e){t.$set(t.organizationMetadata,"city",e)},expression:"organizationMetadata.city"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("Landmark")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-field",{attrs:{type:{"is-danger":t.organizationMetadataErrors.landmark.length>0},message:t.organizationMetadataErrors.landmark}},[a("b-input",{attrs:{expanded:""},model:{value:t.organizationMetadata.landmark,callback:function(e){t.$set(t.organizationMetadata,"landmark",e)},expression:"organizationMetadata.landmark"}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("Municipal/District")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-field",{attrs:{type:{"is-danger":t.organizationMetadataErrors.district.length>0},message:t.organizationMetadataErrors.district}},[a("b-input",{attrs:{expanded:""},model:{value:t.organizationMetadata.district,callback:function(e){t.$set(t.organizationMetadata,"district",e)},expression:"organizationMetadata.district"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("Region")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-field",{attrs:{type:{"is-danger":t.organizationMetadataErrors.region.length>0},message:t.organizationMetadataErrors.region}},[a("b-input",{attrs:{expanded:""},model:{value:t.organizationMetadata.region,callback:function(e){t.$set(t.organizationMetadata,"region",e)},expression:"organizationMetadata.region"}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("h3",{staticClass:"label text-main is-pulled-right is-size-6"},[t._v("\n                            Business Details\n                          ")])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("Registration Number")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-field",{attrs:{type:{"is-danger":t.organizationMetadataErrors.regNumber.length>0},message:t.organizationMetadataErrors.regNumber}},[a("b-input",{attrs:{expanded:""},model:{value:t.organizationMetadata.regNumber,callback:function(e){t.$set(t.organizationMetadata,"regNumber",e)},expression:"organizationMetadata.regNumber"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("TIN")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-field",{attrs:{type:{"is-danger":t.organizationMetadataErrors.tin.length>0},message:t.organizationMetadataErrors.tin}},[a("b-input",{attrs:{expanded:""},model:{value:t.organizationMetadata.tin,callback:function(e){t.$set(t.organizationMetadata,"tin",e)},expression:"organizationMetadata.tin"}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("h3",{staticClass:"label text-main is-pulled-right is-size-6"},[t._v("\n                            Staff Details\n                          ")])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("Current Staff")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-input",{attrs:{expanded:"",disabled:""},model:{value:t.organizationMetadata.currentStaff,callback:function(e){t.$set(t.organizationMetadata,"currentStaff",e)},expression:"organizationMetadata.currentStaff"}})],1)])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("Past Staff")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-input",{attrs:{expanded:"",disabled:""},model:{value:t.organizationMetadata.pastStaff,callback:function(e){t.$set(t.organizationMetadata,"pastStaff",e)},expression:"organizationMetadata.pastStaff"}})],1)])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("label",{staticClass:"label"},[t._v("Total Staff")])]),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-input",{attrs:{expanded:"",disabled:""},model:{value:t.organizationMetadata.totalStaff,callback:function(e){t.$set(t.organizationMetadata,"totalStaff",e)},expression:"organizationMetadata.totalStaff"}})],1)])])]),t._v(" "),a("hr"),t._v(" "),t.isEditOrganizationMetadata?t._e():a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingMetadata}},[t._v("\n                          "+t._s(t.isSubmittingMetadata?"Saving...":"Save")+"\n                        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmittingMetadata},on:{click:function(e){return t.cancelOrganizationMetaData()}}},[t._v("\n                          Cancel\n                        ")])])],1)]),t._v(" "),t.isEditOrganizationMetadata?a("b-field",[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-pack":"fas","icon-left":"pen"},on:{click:function(e){t.isEditOrganizationMetadata=!t.isEditOrganizationMetadata}}},[t._v("Edit Metadata")])],1):t._e()],1)])])])])],1)]),t._v(" "),a("b-tab-item",{attrs:{label:"Departments"}},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreason"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreason"}},[a("p",{staticClass:"card-header-title"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:"plus"}}),t._v(" "),a("span",{staticClass:"has-text-info"},[t._v("Add New Department")])],1),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}]),model:{value:t.toggleAddOrganizationDepartment,callback:function(e){t.toggleAddOrganizationDepartment=e},expression:"toggleAddOrganizationDepartment"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addOrganizationDepartment()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Department Name")])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{type:{"is-danger":t.organizationDepartmentErrors.name.length>0},message:t.organizationDepartmentErrors.name}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.organizationDepartment.name,callback:function(e){t.$set(t.organizationDepartment,"name",e)},expression:"organizationDepartment.name"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmittingNewDepartment}},[t._v("\n                    "+t._s(t.isSubmittingNewDepartment?"Submitting...":"Add")+"\n                  ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelAddOrganizationDepartment()}}},[t._v("Cancel")])],1)],1)])])])],1),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("Departments")])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.checkedDepartments.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.deleteDepartments()}}},[t._v("Delete departments")])],1)],1),t._v(" "),a("b-table",{attrs:{data:t.getDepartments,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"pagination-position":t.paginationPosition,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"checked-rows":t.checkedDepartments,checkable:"",striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.checkedDepartments=e},"update:checked-rows":function(e){t.checkedDepartments=e}}},[a("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"name",label:"Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Edit",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:("department-id"+(e.row.id===t.getDropperId?t.getDropperId:"")).toString()},on:{click:function(a){return t.openDepartmentDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deleteDepartment(e.row.id)}}})],1)],1)]}}])})],1)],1)])])])]),t._v(" "),a("b-tab-item",{attrs:{label:"Unit"}},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreason"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreason"}},[a("p",{staticClass:"card-header-title"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:"plus"}}),t._v(" "),a("span",{staticClass:"has-text-info"},[t._v("Add New Unit")])],1),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}]),model:{value:t.toggleAddOrganizationUnit,callback:function(e){t.toggleAddOrganizationUnit=e},expression:"toggleAddOrganizationUnit"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addOrganizationUnit()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Unit Name")])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{type:{"is-danger":t.organizationUnitErrors.name.length>0},message:t.organizationUnitErrors.name}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.organizationUnit.name,callback:function(e){t.$set(t.organizationUnit,"name",e)},expression:"organizationUnit.name"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Select Department")])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{type:{"is-danger":t.organizationUnitErrors.department.length>0},message:t.organizationUnitErrors.department}},[a("b-select",{attrs:{type:"is-info",expanded:""},model:{value:t.organizationUnit.department,callback:function(e){t.$set(t.organizationUnit,"department",e)},expression:"organizationUnit.department"}},t._l(t.getDepartments,(function(e,s){return a("option",{key:e.name+s,domProps:{value:e.id}},[t._v("\n                          "+t._s(e.name)+"\n                        ")])})),0)],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmittingNewUnit}},[t._v("\n                    "+t._s(t.isSubmittingNewUnit?"Submitting...":"Add")+"\n                  ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelAddOrganizationUnit()}}},[t._v("Cancel")])],1)],1)])])])],1),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("Units")])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.checkedUnits.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.deleteUnits()}}},[t._v("Delete units")])],1)],1),t._v(" "),a("b-table",{attrs:{data:t.getUnits,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"pagination-position":t.paginationPosition,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"checked-rows":t.checkedUnits,checkable:"",striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.checkedUnits=e},"update:checked-rows":function(e){t.checkedUnits=e}}},[a("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"name",label:"Unit",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"department",label:"Department",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.department))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Edit",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:("unit-id"+(t.getUnitDropperId==t.getUnitDropperId?t.getUnitDropperId:"")).toString()},on:{click:function(a){return t.openUnitDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deleteUnit(e.row.id)}}})],1)],1)]}}])})],1)],1)])])])]),t._v(" "),a("b-tab-item",{attrs:{label:"Leadership"}},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreason"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreason"}},[a("p",{staticClass:"card-header-title"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:"plus"}}),t._v(" "),a("span",{staticClass:"has-text-info"},[t._v("Define Organization Positions")])],1),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}]),model:{value:t.toggleAddOrganizationLeadership,callback:function(e){t.toggleAddOrganizationLeadership=e},expression:"toggleAddOrganizationLeadership"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addOrganizationPosition()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"},[a("label",{staticClass:"label"},[t._v("Position Name")])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{type:{"is-danger":t.organizationPositionErrors.name.length>0},message:t.organizationPositionErrors.name}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.organizationPosition.name,callback:function(e){t.$set(t.organizationPosition,"name",e)},expression:"organizationPosition.name"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmittingPosition}},[t._v("\n                    "+t._s(t.isSubmittingPosition?"Submitting...":"Add")+"\n                  ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelAddOrganizationPosition()}}},[t._v("Cancel")])],1)],1)])])])],1),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("Leader Positions")])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.checkedPositions.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.deletePositions()}}},[t._v("Delete postions")])],1)],1),t._v(" "),a("b-table",{attrs:{data:t.getPositions,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"pagination-position":t.paginationPosition,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"checked-rows":t.checkedPositions,checkable:"",striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.checkedPositions=e},"update:checked-rows":function(e){t.checkedPositions=e}}},[a("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"name",label:"Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Edit",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:("position-id"+(e.row.id===t.getPositionDropperId?t.getPositionDropperId:"")).toString()},on:{click:function(a){return t.openPositionDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deletePosition(e.row.id)}}})],1)],1)]}}])})],1)],1)])])])])],1),t._v(" "),a("dropper",{ref:"departmentDropper",staticClass:"dropper",attrs:{join:"#department-id"+t.getDropperId,"z-index":1e3},on:{"esc-keydown":t.closeDepartmentDropper,"other-area-clicked":t.closeDepartmentDropper}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateOrganizationDepartment()}}},[a("h5",{staticClass:"text-main pb-3"},[t._v("Update Department")]),t._v(" "),a("b-field",{attrs:{label:"Department",type:{"is-danger":t.organizationDepartmentErrors.name.length>0},message:t.organizationDepartmentErrors.name}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.organizationDepartment.name,callback:function(e){t.$set(t.organizationDepartment,"name",e)},expression:"organizationDepartment.name"}})],1),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingNewDepartment}},[t._v("\n          "+t._s(t.isSubmittingNewDepartment?"Saving...":"Save")+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmittingNewDepartment},on:{click:function(e){return t.closeDepartmentDropper()}}},[t._v("\n          Cancel\n        ")])])],1)]),t._v(" "),a("dropper",{ref:"unitDropper",staticClass:"dropper",attrs:{join:"#unit-id"+t.getUnitDropperId,"z-index":1e3},on:{"esc-keydown":t.closeUnitDropper,"other-area-clicked":t.closeUnitDropper}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateOrganizationUnit()}}},[a("h5",{staticClass:"text-main pb-3"},[t._v("Update Unit")]),t._v(" "),a("b-field",{attrs:{label:"Unit",type:{"is-danger":t.organizationUnitErrors.name.length>0},message:t.organizationUnitErrors.name}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.organizationUnit.name,callback:function(e){t.$set(t.organizationUnit,"name",e)},expression:"organizationUnit.name"}})],1),t._v(" "),a("b-field",{attrs:{label:"Department",type:{"is-danger":t.organizationUnitErrors.department.length>0},message:t.organizationUnitErrors.department}},[a("b-select",{attrs:{type:"is-info",expanded:""},model:{value:t.organizationUnit.department,callback:function(e){t.$set(t.organizationUnit,"department",e)},expression:"organizationUnit.department"}},t._l(t.getDepartments,(function(e,s){return a("option",{key:e.name+s,domProps:{value:e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])})),0)],1),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingNewUnit}},[t._v("\n          "+t._s(t.isSubmittingNewUnit?"Saving...":"Save")+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmittingNewUnit},on:{click:function(e){return t.closeUnitDropper()}}},[t._v("\n          Cancel\n        ")])])],1)]),t._v(" "),a("dropper",{ref:"positionDropper",staticClass:"dropper",attrs:{join:"#position-id"+t.getPositionDropperId,"z-index":1e3},on:{"esc-keydown":t.closePositionDropper,"other-area-clicked":t.closePositionDropper}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateOrganizationPosition()}}},[a("h5",{staticClass:"text-main pb-3"},[t._v("Update Position")]),t._v(" "),a("b-field",{attrs:{label:"Position",type:{"is-danger":t.organizationPositionErrors.name.length>0},message:t.organizationPositionErrors.name}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.organizationPosition.name,callback:function(e){t.$set(t.organizationPosition,"name",e)},expression:"organizationPosition.name"}})],1),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingPosition}},[t._v("\n          "+t._s(t.isSubmittingPosition?"Saving...":"Save")+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmittingPosition},on:{click:function(e){return t.closePositionDropper()}}},[t._v("\n          Cancel\n        ")])])],1)]),t._v(" "),a("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-label":"Example Modal","aria-modal":"","can-cancel":["escape"],"on-cancel":t.cancelAddOrganizationBranch},scopedSlots:t._u([{key:"default",fn:function(e){return[a("UpdateBranchModal",t._b({on:{close:e.close}},"UpdateBranchModal",{branchId:t.branchId,organizationBranch:t.organizationBranch,organizationBranchErrors:t.organizationBranchErrors,isSubmittingNewBranch:t.isSubmittingNewBranch,cancelAddOrganizationBranch:t.cancelAddOrganizationBranch,updateBranch:t.updateBranch},!1))]}}]),model:{value:t.isUdateDepartmentModalActive,callback:function(e){t.isUdateDepartmentModalActive=e},expression:"isUdateDepartmentModalActive"}})],1)}),[],!1,null,"c58b63fc",null).exports);function Q(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(a),!0).forEach((function(e){G(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function G(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var V={name:"Administration",metaInfo:function(){return{title:"Admin"}},components:{Tab:i.a,Tabs:o.a,ManageUserComponent:y,JobComponent:T,WorkShiftComponent:M,OrganizationComponent:H},layout:s.a,props:{authUser:Object,userRoles:Array,users:Object,jobCategories:Array,jobTitles:Array,employmentStatuses:Array,departments:Array,units:Array,positions:Array,staffCount:Object,workShifts:Array,roles:Array,permissions:Object},computed:{},created:function(){this.dispatchUserAccount({payload:1}),this.dispatchRole({payload:this.roles}),this.dispatchRole({type:"ADD_PERMISSIONS",payload:this.permissions}),this.dispatchJobCategory({payload:this.jobCategories}),this.dispatchJobTitle({payload:this.jobTitles}),this.dispatchEmploymentStatus({payload:this.employmentStatuses}),this.dispatchDepartment({payload:this.departments}),this.dispatchUnit({payload:this.units}),this.dispatchPosition({payload:this.positions}),this.dispatchStaffCount({payload:this.staffCount}),this.dispatchWorkShift({payload:this.workShifts})},data:function(){return{tabIndex:0,test:""}},methods:Y(Y({},Object(n.b)(["dispatchUserAccount","dispatchRole","dispatchJobCategory","dispatchJobTitle","dispatchEmploymentStatus","dispatchBranch","dispatchDepartment","dispatchUnit","dispatchPosition","dispatchOrgnizationProfile","dispatchStaffCount","dispatchWorkShift"])),{},{changeLang:function(t){localStorage.setItem("lang",t),window.location.reload()}})},K=Object(b.a)(V,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"main__content"},[a("tabs",{attrs:{stickyTab:"main__content__sticky"}},[t.isPermission("user_management")?a("tab",{attrs:{label:"User Management"}},[a("ManageUserComponent")],1):t._e(),t._v(" "),t.isPermission("job")?a("tab",{attrs:{label:"Job"}},[a("JobComponent")],1):t._e(),t._v(" "),t.isPermission("organization")?a("tab",{attrs:{label:"Organization"}},[a("OrganizationComponent")],1):t._e()],1)],1)}),[],!1,null,null,null);e.default=K.exports},8:function(t,e,a){"use strict";var s=a(13),i=a(0);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l={name:"Dashboard",metaInfo:{title:"ADU Staff Portal",titleTemplate:"%s | ADU Staff Portal"},props:{userPermissions:{require:!0,type:Array}},computed:n(n({},Object(i.c)(["getDepartments","getOrganizationProfile","getProfile","getAuthUser","getJobTitles"])),{},{authUserName:function(){return"".concat(this.isNull(this.getAuthUser.title)," ").concat(this.getAuthUser.lastName," ").concat(this.getAuthUser.firstName," ").concat(this.isNull(this.getAuthUser.middleName))},authJobTitle:function(){var t=this;if(this.getAuthUser.jobTitle&&this.getJobTitles.length){var e=this.getJobTitles.find((function(e){return e.id===parseInt(t.getAuthUser.jobTitle)}));return e?e.title:""}return""},getLogo:function(){if(this.getOrganizationProfile)return this.getOrganizationProfile.logo},getOrgName:function(){if(this.getOrganizationProfile)return this.getOrganizationProfile.name}}),beforeMount:function(){var t=this;this.activePage=this.$page.url,s.Inertia.on("navigate",(function(e){t.activePage=e.detail.page.url})),localStorage.getItem("locale")?this.$lang.setLocale(localStorage.getItem("locale")):this.$lang.setLocale("en")},created:function(){this.dispatchAuthUser({payload:this.$page.props.authUser}),this.dispatchOrgnizationProfile({payload:this.$page.props.orgInfo})},mounted:function(){},data:function(){return{activePage:"",regex:new RegExp("^/dashboard/ess/[0-9]+/[a-z-]*$")}},methods:n(n({},Object(i.b)(["dispatchOrgnizationProfile","dispatchAuthUser"])),{},{isNull:function(t){return"null"===t?"":t}})},c=(a(85),a(1)),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"v-cloak"},[a("div",{staticClass:"brand__logo"},[a("div",{staticClass:"brand__logo__main"},[a("img",{attrs:{src:"/storage/logo/"+t.getLogo,alt:"Brand Logo",srcset:""}})])]),t._v(" "),a("header",{staticClass:"header"},[a("nav",{staticClass:"header__nav"},[a("ul",{staticClass:"header__nav__list header__nav__list--left"},[a("li",{class:"header__nav__list__item "+("/dashboard"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard","preserve-scroll":"",headers:{"Custom-Header":"poopjpo"}}},[t._v(t._s(t.$t("app.dashboard")))])],1),t._v(" "),a("li",{class:"header__nav__list__item "+("/dashboard/ess"===t.activePage||t.regex.test(t.activePage)?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/ess","preserve-scroll":""}},[t._v(t._s(t.$t("app.employee")))])],1),t._v(" "),t.isPermission("view_admin")?a("li",{class:"header__nav__list__item "+("/dashboard/admin"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/admin","preserve-scroll":""}},[t._v(t._s(t.$t("app.admin")))])],1):t._e(),t._v(" "),t.isPermission("view_pim")?a("li",{class:"header__nav__list__item "+("/dashboard/pim"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/pim","preserve-scroll":""}},[t._v(t._s(t.$t("app.pim")))])],1):t._e(),t._v(" "),a("li",{class:"header__nav__list__item "+("/dashboard/kpi"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/kpi","preserve-scroll":""}},[t._v(t._s(t.$t("app.kpi")))])],1),t._v(" "),a("li",{class:"header__nav__list__item "+("/dashboard/staff-directory"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/staff-directory","preserve-scroll":""}},[t._v(t._s(t.$t("app.staff_directory")))])],1)]),t._v(" "),a("ul",{staticClass:"header__nav__list header__nav__list--right"},[a("li",{staticClass:"header__nav__list__item"},[a("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[a("p",{attrs:{slot:"trigger",role:"button"},slot:"trigger"},[a("b-icon",{attrs:{pack:"fas",icon:"exclamation-circle",size:"is-small"}})],1),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("a",{staticClass:"default",attrs:{href:"#"}},[t._v(" Notifications")])]),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("a",{staticClass:"default",attrs:{href:"#"}},[t._v(" Notifications")])]),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("a",{staticClass:"default",attrs:{href:"#"}},[t._v(" Notifications")])]),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("a",{staticClass:"default",attrs:{href:"#"}},[t._v(" Notifications")])])],1)],1),t._v(" "),a("li",{staticClass:"header__nav__list__item"},[a("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[a("p",{attrs:{slot:"trigger",role:"button"},slot:"trigger"},[a("b-icon",{attrs:{pack:"fas",icon:"cogs",size:"is-small"}})],1),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("inertia-link",{attrs:{href:"/dashboard/ess","preserve-scroll":""}},[a("b-icon",{attrs:{pack:"fas",icon:"user",size:"is-small"}}),t._v("\n                  "+t._s(t.$t("app.profile"))+"\n              ")],1)],1),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("inertia-link",{staticClass:"logout-btn",attrs:{href:"/logout",method:"POST",as:"button"}},[a("b-icon",{attrs:{pack:"fas",icon:"sign-out-alt",size:"is-small"}}),t._v("\n                  "+t._s(t.$t("app.logout")))],1)],1)],1)],1)])]),t._v(" "),a("div",{staticClass:"header__details"},[a("div",{staticClass:"header__details__avatar"},[a("div",{staticClass:"header__details__avatar__round"},[a("img",{attrs:{src:"/storage/avatar/"+t.getAuthUser.avatar,alt:"avatar",srcset:""}})])]),t._v(" "),a("div",{staticClass:"header__details__staff"},[a("strong",{staticClass:"header__details__staff__name"},[a("span",[t._v(t._s(t.authUserName))])]),t._v(" "),a("h4",{staticClass:"header__details__staff__title"},[a("span",[t._v(t._s(t.authJobTitle))])])]),t._v(" "),a("div",{staticClass:"header__details__brand__name"},[a("h4",[t._v(t._s(t.getOrgName))])])])]),t._v(" "),[t._t("default")],t._v(" "),a("vue-confirm-dialog")],2)}),[],!1,null,"591b84e2",null);e.a=d.exports},85:function(t,e,a){"use strict";a(29)},86:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,"[v-cloak][data-v-591b84e2]{display:none}.logout-btn[data-v-591b84e2]{border:none;background-color:transparent;color:#686767;cursor:pointer}.logout-btn[data-v-591b84e2]:active{border:none}",""])},87:function(t,e,a){"use strict";a(30)},88:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".s__tabs__content[data-v-1f542e2b]{width:100%}",""])},89:function(t,e,a){"use strict";a(31)},90:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".s__tabs[data-v-c7d6371c]{width:100%}.s__tabs__tab>ul[data-v-c7d6371c]{width:100%;display:flex;justify-content:flex-start;align-items:flex-start;list-style-type:none}.s__tabs__tab>ul>li[data-v-c7d6371c]{cursor:pointer;font-size:1rem;padding:.15rem .3rem;background-color:#99001c;color:#fff;border-radius:3px}.s__tabs__tab>ul>li[data-v-c7d6371c]:not(:last-child){margin-right:.3rem}.s__tabs__tab>ul>li>span[data-v-c7d6371c]{letter-spacing:.05rem;transition:color .2s ease-in}.isActive[data-v-c7d6371c]{color:#fff!important;background-color:#262626!important}",""])}}]);