(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{132:function(t,e,a){"use strict";a(41)},133:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,"",""])},134:function(t,e,a){"use strict";a(42)},135:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".is-capitalized[data-v-72e01fa9]{text-transform:capitalize}",""])},14:function(t,e,a){"use strict";var s=a(48),i=a.n(s),n=(a(90),{name:"ViewPdf",components:{VuePdfApp:i.a},computed:{getFile:function(){return this.file}},props:{file:{required:!0}},data:function(){return{}},methods:{pagesRendered:function(t){setTimeout((function(){return t.pdfViewer.currentScaleValue="page-height"}))}}}),r=a(1),o=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[e("vue-pdf-app",{staticStyle:{height:"100vh",width:"960px"},attrs:{pdf:"/storage"+this.getFile},on:{"pages-rendered":this.pagesRendered}})],1)}),[],!1,null,"1286b77c",null);e.a=o.exports},140:function(t,e,a){"use strict";a(43)},141:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".change-password-btns[data-v-52dbef8a]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}",""])},15:function(t,e,a){"use strict";var s={name:"Tab",props:{label:{require:!0,type:String}},data:function(){return{activeTab:!0}}},i=(a(86),a(1)),n=Object(i.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.activeTab,expression:"activeTab"}],staticClass:"s__tabs__content"},[this._t("default")],2)}),[],!1,null,"1f542e2b",null);e.a=n.exports},16:function(t,e,a){"use strict";var s={name:"Tabs",components:{Fragment:a(21).a},props:{tabIndex:{type:Number,default:0},stickyTab:{type:String,default:""}},created:function(){this.tabs=this.$children},mounted:function(){this.selectTab(this.tabIndex)},data:function(){return{selectedIndex:0,tabs:[]}},methods:{selectTab:function(t){this.selectedIndex=t,this.tabs.forEach((function(e,a){e.activeTab=a===t}))}}},i=(a(88),a(1)),n=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Fragment",[a("div",{staticClass:"s__tabs",class:t.stickyTab},[a("div",{staticClass:"s__tabs__tab"},[a("ul",t._l(t.tabs,(function(e,s){return a("li",{key:s,class:s===t.selectedIndex&&"isActive",on:{click:function(e){return t.selectTab(s)}}},[a("span",[t._v(t._s(e.label))])])})),0)])]),t._v(" "),t._t("default")],2)}),[],!1,null,"c7d6371c",null);e.a=n.exports},29:function(t,e,a){var s=a(85);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},3:function(t,e,a){"use strict";var s={name:"Paginate",props:{state:{require:!0,type:Object},dispatch:{require:!0,type:Function},dispatchAction:{default:"",type:String}},computed:{currentPage:{get:function(){return this.state.current_page||0},set:function(t){this.dispatchAction?this.dispatch({type:this.dispatchAction,payload:t||0}):this.dispatch({payload:t||0})}},perPage:{get:function(){return this.state.per_page||0}},totalPage:{get:function(){return this.state.total||0}}},watch:{},data:function(){return{order:"is-right",size:"",isSimple:!0,isRounded:!0,prevIcon:"chevron-left",nextIcon:"chevron-right"}}},i=a(1),n=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-pagination",{attrs:{total:t.totalPage,order:t.order,size:t.size,simple:t.isSimple,"per-page":t.perPage,"icon-prev":t.prevIcon,"icon-next":t.nextIcon,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)}),[],!1,null,null,null);e.a=n.exports},30:function(t,e,a){var s=a(87);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},31:function(t,e,a){var s=a(89);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},41:function(t,e,a){var s=a(133);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},42:function(t,e,a){var s=a(135);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},43:function(t,e,a){var s=a(141);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},49:function(t,e,a){"use strict";a.r(e);var s=a(2),i=a.n(s),n=a(8),r=a(15),o=a(16),l=a(0),c=a(14);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){d(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var _={name:"PersonalDetails",components:{ViewPdf:c.a},computed:u(u({},Object(l.c)(["getProfile","getCountries"])),{},{getPersonalAttachments:function(){return"string"==typeof this.getProfile.personal_details.attachments?JSON.parse(this.getProfile.personal_details.attachments):[]},getAttachmentDropperId:function(){return this.attachmentDropperId}}),created:function(){var t=this;this.$watch((function(){return t.personalDetails.avatar}),(function(e){e&&t.uploadUserAvatar(e)}))},beforeMount:function(){this.setPersonalDetails(this.getProfile.personal_details)},data:function(){return{isEditPersonalDetails:!0,isEditPersonalDetailsAttachment:!0,isSubmittingPersonalDetails:!1,isSubmittingPersonalDetailsAttachment:!1,isUploadingPhoto:!1,isUpdatingFileComment:!1,attachmentDropperId:"",attachmentUpdateType:"",personalDetails:{avatar:null,title:"",firstName:"",middleName:"",lastName:"",staffId:"",birthDate:new Date,maritalStatus:"",gender:"",attachment:{file:null,comment:""}},userAvatarError:[],personalDetailsAttachmentError:{file:[],comment:[]},personalDetailsErrors:{title:[],firstName:[],middleName:[],lastName:[],staffId:[],birthDate:[],maritalStatus:[],gender:[]}}},methods:u(u({},Object(l.b)(["dispatchAuthUser","dispatchProfile"])),{},{openAttachmentDropper:function(t,e){var a=this.$refs.attachmentDropper;this.attachmentDropperId=t.id,this.attachmentUpdateType=e,a&&(this.personalDetails.attachment.comment=t.comment,a.open())},closeAttachmentDropper:function(){var t=this.$refs.attachmentDropper;this.attachmentUpdateType="",t&&(this.personalDetails.attachment.comment="",this.personalDetails.attachment.file=null,t.close())},setPersonalDetails:function(t){this.personalDetails=u(u({},this.personalDetails),{},{title:t.title||"",firstName:t.firstName||"",middleName:t.middleName||"",lastName:t.lastName||"",staffId:t.staffId||"",birthDate:t.birthDate?new Date(t.birthDate):new Date,maritalStatus:t.maritalStatus||"",gender:t.gender||""})},uploadUserAvatar:function(t){var e=this;this.userAvatarError=[],this.isUploadingPhoto=!0;var a=new FormData;a.append("avatar",t),a.append("id",this.getProfile.user_id),this.$axios.post("/dashboard/ess/upload-avatar",a).then((function(t){200===t.status&&t.data.uploaded&&(e.isUploadingPhoto=!1,e.$page.props.authUser.id===e.getProfile.user_id&&e.dispatchAuthUser({type:"UPDATE_AVATAR",payload:t.data.avatar}),e.dispatchProfile({type:"UPDATE_AVATAR",payload:t.data.avatar}))})).catch((function(t){}))},updatePersonalDetails:function(){var t=this;this.setPersonalDetailsErrors(),this.isSubmittingPersonalDetails=!0,this.$axios.put("/dashboard/ess/update-personal-details/".concat(this.getProfile.user_id),u(u({},this.personalDetails),{},{birthDate:this.personalDetails.birthDate.toISOString()})).then((function(e){200===e.status&&e.data.updated&&(t.$page.props.authUser.id===t.getProfile.user_id&&t.dispatchAuthUser({payload:e.data.authUser}),t.dispatchProfile({type:"UPDATE_PERSONAL_DETAILS",payload:e.data.profile}),setTimeout((function(){t.snackbar("Personal details updated successfully","is-dark"),t.isSubmittingPersonalDetails=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.isSubmittingPersonalDetails=!1,t.setPersonalDetailsErrors(e.response.data.errors)}),1e3)}))},updatePersonalDetailsAttachment:function(){var t=this;this.isSubmittingPersonalDetailsAttachment=!0,this.personalDetailsAttachmentError={file:[],comment:[]};var e=new FormData;e.append("file",this.personalDetails.attachment.file),e.append("comment",this.personalDetails.attachment.comment),this.$axios.post("/dashboard/ess/update-personal-details-attachment/".concat(this.getProfile.user_id),e).then((function(e){200===e.status&&(t.personalDetails.attachment={file:null,comment:""},t.dispatchProfile({type:"UPDATE_PERSONAL_DETAILS_ATTACHMENT",payload:e.data.attachments}),setTimeout((function(){t.snackbar("Attachment updated successfully","is-dark"),t.isSubmittingPersonalDetailsAttachment=!1}),1e3))})).catch((function(e){422==e.response.status&&setTimeout((function(){t.setPersonalDetailsAttachmentErrors(e.response.data.errors),t.isSubmittingPersonalDetailsAttachment=!1}),1e3)}))},replacePersonalDetailsAttachment:function(t){var e=this;this.isSubmittingPersonalDetailsAttachment=!0,this.personalDetailsAttachmentError={file:[],comment:[]};var a=new FormData;"comment"===t&&(a.append("id",this.attachmentDropperId),a.append("comment",this.personalDetails.attachment.comment)),"attachment"===t&&(a.append("id",this.attachmentDropperId),a.append("file",this.personalDetails.attachment.file)),this.$axios.post("/dashboard/ess/replace-personal-details-attachment/".concat(this.getProfile.user_id),a).then((function(a){200===a.status&&(e.personalDetails.attachment.file=null,e.dispatchProfile({type:"UPDATE_PERSONAL_DETAILS_ATTACHMENT",payload:a.data.attachments}),setTimeout((function(){"comment"===t&&e.snackbar("Comment updated successfully","is-dark"),"attachment"===t&&e.snackbar("Attachment updated successfully","is-dark"),e.isSubmittingPersonalDetailsAttachment=!1}),1e3))})).catch((function(t){422==t.response.status&&setTimeout((function(){e.setPersonalDetailsAttachmentErrors(t.response.data.errors),e.isSubmittingPersonalDetailsAttachment=!1}),1e3)}))},deletePersonalDetailsAttachment:function(t){var e=this;this.$axios.delete("/dashboard/ess/delete-personal-details-attachment/".concat(this.getProfile.user_id,"/").concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchProfile({type:"DELETE_ATTACHMENT",payload:t}),setTimeout((function(){e.snackbar("Attachment deleted successfully","is-dark"),e.isSubmittingPersonalDetailsAttachment=!1}),1e3))})).catch((function(t){}))},viewAttachment:function(t){this.$buefy.modal.open({parent:this,component:c.a,hasModalCard:!0,trapFocus:!0,props:{file:t}})},setPersonalDetailsErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.personalDetailsErrors.title=t.title||[],this.personalDetailsErrors.firstName=t.firstName||[],this.personalDetailsErrors.middleName=t.middleName||[],this.personalDetailsErrors.lastName=t.lastName||[],this.personalDetailsErrors.staffId=t.staffId||[],this.personalDetailsErrors.birthDate=t.birthDate||[],this.personalDetailsErrors.maritalStatus=t.maritalStatus||[],this.personalDetailsErrors.gender=t.gender||[]},cancelPersonalDetailsForm:function(){this.setPersonalDetailsErrors(),this.isEditPersonalDetails=!this.isEditPersonalDetails},setPersonalDetailsAttachmentErrors:function(t){this.personalDetailsAttachmentError={file:t.file||[],comment:t.comment||[]},this.isSubmittingPersonalDetailsAttachment=!1},cancelPersonalDetailsAttachmentForm:function(){this.personalDetails.attachment={file:null,comment:""},this.personalDetailsAttachmentError={file:[],comment:[]},this.isEditPersonalDetailsAttachment=!this.isEditPersonalDetailsAttachment}})},v=a(1),m=Object(v.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"}),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"personal__details"},[a("div",{staticClass:"personal__details__photo"},[a("div",{staticClass:"p-text"},[a("p",[t._v("\n                  "+t._s(t.$t("app.personal_detail_cta"))+"\n                ")])]),t._v(" "),a("div",{staticClass:"personal__details__photo__display"},[t.userOrPermission("update",t.getProfile.user_id)?a("div",{staticClass:"profile__photo__overlay"},[a("b-field",[a("b-tooltip",{attrs:{label:t.$t("app.upload_profile_photo"),type:"is-dark"}},[a("b-upload",{staticClass:"file-label",model:{value:t.personalDetails.avatar,callback:function(e){t.$set(t.personalDetails,"avatar",e)},expression:"personalDetails.avatar"}},[a("span",{staticClass:"file-cta"},[a("b-icon",{staticClass:"file-icon",attrs:{icon:"camera",size:"large"}})],1)])],1)],1)],1):t._e(),t._v(" "),a("div",{staticClass:"photo__wrapper"},[a("b-loading",{attrs:{"can-cancel":!0,"is-full-page":!1},model:{value:t.isUploadingPhoto,callback:function(e){t.isUploadingPhoto=e},expression:"isUploadingPhoto"}}),t._v(" "),a("img",{attrs:{src:"/storage/avatar/"+t.getProfile.personal_details.avatar,alt:t.$t("app.profile_photo"),srcset:""}})],1)])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"personal__details__detail"},[t.userOrPermission("update",t.getProfile.user_id)?[t.isEditPersonalDetails?a("b-field",{staticClass:"mb-4"},[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"pen"},on:{click:function(e){t.isEditPersonalDetails=!t.isEditPersonalDetails}}},[t._v(t._s(t.$t("app.edit")))])],1):t._e()]:t._e(),t._v(" "),a("fieldset",{staticClass:"mb-4",attrs:{disabled:t.isEditPersonalDetails}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updatePersonalDetails()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.title"),type:{"is-danger":t.personalDetailsErrors.title.length>0},message:t.personalDetailsErrors.title}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.personalDetails.title,callback:function(e){t.$set(t.personalDetails,"title",e)},expression:"personalDetails.title"}},[a("option",{attrs:{value:"Mr."}},[t._v(t._s(t.$tc("app.mr",1)))]),t._v(" "),a("option",{attrs:{value:"Miss"}},[t._v("\n                            "+t._s(t.$t("app.miss"))+"\n                          ")]),t._v(" "),a("option",{attrs:{value:"Mrs."}},[t._v("\n                            "+t._s(t.$t("app.mrs"))+"\n                          ")]),t._v(" "),a("option",{attrs:{value:"Ms"}},[t._v("\n                            "+t._s(t.$t("app.ms"))+"\n                          ")]),t._v(" "),a("option",{attrs:{value:"Hon."}},[t._v("\n                            "+t._s(t.$t("app.hon"))+"\n                          ")]),t._v(" "),a("option",{attrs:{value:"Rev."}},[t._v("\n                            "+t._s(t.$t("app.rev"))+"\n                          ")]),t._v(" "),a("option",{attrs:{value:"Dr."}},[t._v(t._s(t.$t("app.dr")))]),t._v(" "),a("option",{attrs:{value:"Prof."}},[t._v("\n                            "+t._s(t.$t("app.prof"))+"\n                          ")]),t._v(" "),a("option",{attrs:{value:"Other"}},[t._v("\n                            "+t._s(t.$tc("app.other",1))+"\n                          ")])])],1)],1),t._v(" "),a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.firstName"),expanded:"",type:{"is-danger":t.personalDetailsErrors.firstName.length>0},message:t.personalDetailsErrors.firstName}},[a("b-input",{attrs:{size:""},model:{value:t.personalDetails.firstName,callback:function(e){t.$set(t.personalDetails,"firstName",e)},expression:"personalDetails.firstName"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.middleName"),expanded:"",type:{"is-danger":t.personalDetailsErrors.middleName.length>0},message:t.personalDetailsErrors.middleName}},[a("b-input",{attrs:{size:""},model:{value:t.personalDetails.middleName,callback:function(e){t.$set(t.personalDetails,"middleName",e)},expression:"personalDetails.middleName"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.lastName"),expanded:"",type:{"is-danger":t.personalDetailsErrors.lastName.length>0},message:t.personalDetailsErrors.lastName}},[a("b-input",{attrs:{size:""},model:{value:t.personalDetails.lastName,callback:function(e){t.$set(t.personalDetails,"lastName",e)},expression:"personalDetails.lastName"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.birthDate"),type:{"is-danger":t.personalDetailsErrors.birthDate.length>0},message:t.personalDetailsErrors.birthDate}},[a("b-datepicker",{attrs:{placeholder:t.$t("placeholder_birthdate"),pack:"fas",icon:"calendar","trap-focus":""},model:{value:t.personalDetails.birthDate,callback:function(e){t.$set(t.personalDetails,"birthDate",e)},expression:"personalDetails.birthDate"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.maritalStatus"),type:{"is-danger":t.personalDetailsErrors.maritalStatus.length>0},message:t.personalDetailsErrors.maritalStatus}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.personalDetails.maritalStatus,callback:function(e){t.$set(t.personalDetails,"maritalStatus",e)},expression:"personalDetails.maritalStatus"}},[a("option",{domProps:{value:t.$tc("app.single",1)}},[t._v("\n                            "+t._s(t.$tc("app.single",1))+"\n                          ")]),t._v(" "),a("option",{domProps:{value:t.$tc("app.married",1)}},[t._v("\n                            "+t._s(t.$tc("app.married",1))+"\n                          ")]),t._v(" "),a("option",{domProps:{value:t.$tc("app.divorced",1)}},[t._v("\n                            "+t._s(t.$tc("app.divorced",1))+"\n                          ")]),t._v(" "),a("option",{domProps:{value:t.$tc("app.widowed",1)}},[t._v("\n                            "+t._s(t.$tc("app.widowed",1))+"\n                          ")]),t._v(" "),a("option",{domProps:{value:t.$tc("app.other",1)}},[t._v("\n                            "+t._s(t.$tc("app.other",1))+"\n                          ")])])],1)],1),t._v(" "),a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$tc("app.staffId"),expanded:"",type:{"is-danger":t.personalDetailsErrors.staffId.length>0},message:t.personalDetailsErrors.staffId}},[a("b-input",{attrs:{size:""},model:{value:t.personalDetails.staffId,callback:function(e){t.$set(t.personalDetails,"staffId",e)},expression:"personalDetails.staffId"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:""+t.$tc("app.gender",1),type:{"is-danger":t.personalDetailsErrors.gender.length>0},message:t.personalDetailsErrors.gender}},[a("div",{staticClass:"block",staticStyle:{"margin-bottom":"-0.2rem"}},[a("b-radio",{attrs:{name:"gender",type:"is-info","native-value":"Male",size:""},model:{value:t.personalDetails.gender,callback:function(e){t.$set(t.personalDetails,"gender",e)},expression:"personalDetails.gender"}},[t._v(t._s(t.$tc("app.male",1)))]),t._v(" "),a("b-radio",{attrs:{name:"gender",type:"is-info","native-value":"Female",size:""},model:{value:t.personalDetails.gender,callback:function(e){t.$set(t.personalDetails,"gender",e)},expression:"personalDetails.gender"}},[t._v(t._s(t.$tc("app.female",1)))])],1)])],1)]),t._v(" "),t.isEditPersonalDetails?t._e():a("b-field",[a("div",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingPersonalDetails}},[t._v("\n                        "+t._s(t.isSubmittingPersonalDetails?t.$t("app.saving")+"...":t.$t("app.save"))+"\n                      ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelPersonalDetailsForm()}}},[t._v(t._s(t.$t("app.cancel")))])],1)])],1)]),t._v(" "),t.userOrPermission("update",t.getProfile.user_id)?[t.isEditPersonalDetails?a("b-field",[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"pen"},on:{click:function(e){t.isEditPersonalDetails=!t.isEditPersonalDetails}}},[t._v(t._s(t.$t("app.edit")))])],1):t._e()]:t._e()],2)])])])])]),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title"},[t._v("\n          "+t._s(t.$tc("app.attachment",2))+"\n          "),a("span",{staticStyle:{color:"#686767c5"}},[t._v("Â ("+t._s(t.$t("app.pdAttachmentDesc"))+")")])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t.userOrPermission("update",t.getProfile.user_id)?a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{open:!1,animation:"slide","aria-id":"addattachment"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"Add Attachment"}},[a("p",{staticClass:"card-header-title has-text-info"},[t._v("\n                  "+t._s(t.$t("app.addAttament"))+"\n                ")]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}],null,!1,1106428251)},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("fieldset",{attrs:{disabled:t.isEditPersonalDetailsAttachment}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updatePersonalDetailsAttachment(e)}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",[a("b-upload",{attrs:{"drag-drop":"",size:"is-small"},model:{value:t.personalDetails.attachment.file,callback:function(e){t.$set(t.personalDetails.attachment,"file",e)},expression:"personalDetails.attachment.file"}},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"upload",size:"is-small"}})],1),t._v(" "),a("p",[t._v("\n                                    "+t._s(t.$t("app.placeholder_attachment"))+"\n                                  ")])])])])],1),t._v(" "),t.personalDetails.attachment.file?a("div",{staticClass:"tags"},[a("span",{staticClass:"tag is-large is-info is-light"},[t._v("\n                              "+t._s(t.personalDetails.attachment.file.name)+"\n                              "),a("button",{staticClass:"delete is-small",attrs:{type:"button"},on:{click:function(e){t.personalDetails.attachment.file=null}}})])]):t._e(),t._v(" "),a("b-field",{attrs:{type:{"is-danger":t.personalDetailsAttachmentError.file.length>0},message:t.personalDetailsAttachmentError.file}})],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{type:{"is-danger":t.personalDetailsAttachmentError.comment.length>0},message:t.personalDetailsAttachmentError.comment}},[a("b-input",{attrs:{type:"textarea",placeholder:t.$tc("app.placeholder_comment")+"..."},model:{value:t.personalDetails.attachment.comment,callback:function(e){t.$set(t.personalDetails.attachment,"comment",e)},expression:"personalDetails.attachment.comment"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),t.isEditPersonalDetailsAttachment?t._e():a("b-field",[a("div",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingPersonalDetailsAttachment}},[t._v("\n                            "+t._s(t.isSubmittingPersonalDetailsAttachment?t.$t("app.submitting")+"...":t.$t("app.submit"))+"\n                          ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelPersonalDetailsAttachmentForm()}}},[t._v(t._s(t.$t("app.cancel")))])],1)])],1)]),t._v(" "),t.isEditPersonalDetailsAttachment?a("b-field",[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"plus"},on:{click:function(e){t.isEditPersonalDetailsAttachment=!t.isEditPersonalDetailsAttachment}}},[t._v(t._s(t.$t("app.add")))])],1):t._e()],1)])])],1):t._e(),t._v(" "),a("b-table",{attrs:{data:t.getPersonalAttachments,paginated:!0,"per-page":5,"current-page":1,"pagination-simple":!0,"pagination-position":"bottom"}},[a("b-table-column",{attrs:{field:"file",label:""+t.$tc("app.file",1),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{on:{click:function(a){return t.viewAttachment("/attachments/personal/"+e.row.file)}}},[t._v(t._s(e.row.file))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"comment",label:t.$tc("app.comment",1),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.comment))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:t.$tc("app.action",2)},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:t.$t("app.replaceAttachment"),type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"upload",id:"comment-id"+(t.getAttachmentDropperId===e.row.id?t.getAttachmentDropperId:"")},on:{click:function(a){return t.openAttachmentDropper(e.row,"attachment")}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:t.$t("app.editComment"),type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{id:"comment-id"+(t.getAttachmentDropperId===e.row.id?t.getAttachmentDropperId:""),size:"is-small",pack:"fas","icon-right":"pen"},on:{click:function(a){return t.openAttachmentDropper(e.row,"comment")}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:t.$t("app.delete"),type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deletePersonalDetailsAttachment(e.row.id)}}})],1)],1)]}}])})],1)],1)])])]),t._v(" "),a("dropper",{ref:"attachmentDropper",staticClass:"dropper",attrs:{join:"#comment-id"+t.getAttachmentDropperId,"z-index":9999},on:{"esc-keydown":t.closeAttachmentDropper,"other-area-clicked":t.closeAttachmentDropper}},["comment"===t.attachmentUpdateType?a("form",{staticClass:"p-4",staticStyle:{width:"30rem"},on:{submit:function(e){return e.preventDefault(),t.replacePersonalDetailsAttachment(t.attachmentUpdateType)}}},[a("h3",{staticClass:"label text-main"},[t._v("\n        "+t._s(t.$t("app.edit")+" "+t.$tc("app.comment",1))+"\n      ")]),t._v(" "),a("b-field",{attrs:{type:{"is-danger":t.personalDetailsAttachmentError.comment.length>0},message:t.personalDetailsAttachmentError.comment}},[a("b-input",{attrs:{type:"textarea",placeholder:t.$t("app.placeholder_comment")+"...",expanded:""},model:{value:t.personalDetails.attachment.comment,callback:function(e){t.$set(t.personalDetails.attachment,"comment",e)},expression:"personalDetails.attachment.comment"}})],1),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isUpdatingFileComment}},[t._v("\n          "+t._s(t.isUpdatingFileComment?t.$t("app.saving")+"...":t.$t("app.save"))+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isUpdatingFileComment},on:{click:function(e){return t.closeAttachmentDropper()}}},[t._v("\n          "+t._s(t.$t("app.cancel"))+"\n        ")])])],1):t._e(),t._v(" "),"attachment"===t.attachmentUpdateType?a("form",{staticClass:"p-4",staticStyle:{width:"30rem"},on:{submit:function(e){return e.preventDefault(),t.replacePersonalDetailsAttachment(t.attachmentUpdateType)}}},[a("h3",{staticClass:"label text-main"},[t._v("\n        "+t._s(t.$tc("app.replace",1)+" "+t.$tc("app.attachment",1))+"\n      ")]),t._v(" "),a("b-field",[a("b-upload",{staticStyle:{cursor:"pointer"},attrs:{size:"is-small"},model:{value:t.personalDetails.attachment.file,callback:function(e){t.$set(t.personalDetails.attachment,"file",e)},expression:"personalDetails.attachment.file"}},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"upload",size:"is-small"}})],1),t._v(" "),a("p",[t._v(t._s(t.$t("app.placeholder_attachment1")))])])])])],1),t._v(" "),t.personalDetails.attachment.file?a("div",{staticClass:"tags"},[a("span",{staticClass:"tag is-large is-info is-light"},[t._v("\n          "+t._s(t.personalDetails.attachment.file.name)+"\n          "),a("button",{staticClass:"delete is-small",attrs:{type:"button"},on:{click:function(e){t.personalDetails.attachment.file=null}}})])]):t._e(),t._v(" "),a("b-field",{attrs:{type:{"is-danger":t.personalDetailsAttachmentError.file.length>0},message:t.personalDetailsAttachmentError.file}}),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isUpdatingFileComment}},[t._v("\n          "+t._s(t.isUpdatingFileComment?t.$t("app.saving")+"...":t.$t("app.save"))+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isUpdatingFileComment},on:{click:function(e){return t.closeAttachmentDropper()}}},[t._v("\n          "+t._s(t.$t("app.cancel"))+"\n        ")])])],1):t._e()])],1)}),[],!1,null,"ded5fdd6",null).exports;function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){h(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var g={name:"ContactDetails",computed:b({},Object(l.c)(["getProfile","getCountries"])),created:function(){},beforeMount:function(){this.setContactDetails(this.getProfile.contact_details),this.setPContactDetails(this.getProfile.p_contact_details)},data:function(){return{locale:this.$lang.getLocale(),isEditContactDetails:!0,isSubmittingContactDetails:!1,isSubmittingPContactDetails:!1,contactDetails:{address:"",city:"",region:"",country:"",mobile:"",telephone:"",email:"",otherEmail:""},p_contactDetails:{address:"",city:"",region:"",country:"",mobile:"",telephone:"",email:"",otherEmail:""},contactDetailsErrors:{address:[],city:[],region:[],country:[],mobile:[],telephone:[],email:[],otherEmail:[]},p_contactDetailsErrors:{address:[],city:[],region:[],country:[],mobile:[],telephone:[],email:[],otherEmail:[]}}},methods:b(b({},Object(l.b)(["dispatchProfile"])),{},{updateContactDetails:function(){var t=this;this.setContactDetailsErrors(),this.isSubmittingContactDetails=!0,this.$axios.put("/dashboard/ess/update-contact-details/".concat(this.getProfile.user_id),this.contactDetails,{headers:{contactType:"c_contact"}}).then((function(e){200===e.status&&e.data.updated&&(t.isSubmittingContactDetails=!1,t.dispatchProfile({type:"UPDATE_CONTACT_DETAILS",payload:t.contactDetails}),t.snackbar("Contact details updated successfully","is-dark"))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.isSubmittingContactDetails=!1,t.setContactDetailsErrors(e.response.data.errors)}),1e3)}))},updatePContactDetails:function(){var t=this;this.setPContactDetailsErrors(),this.isSubmittingPContactDetails=!0,this.$axios.put("/dashboard/ess/update-contact-details/".concat(this.getProfile.user_id),this.p_contactDetails,{headers:{contactType:"p_contact"}}).then((function(e){200===e.status&&e.data.updated&&(t.isSubmittingPContactDetails=!1,t.snackbar("Contact details updated successfully","is-dark"))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.isSubmittingPContactDetails=!1,t.setPContactDetailsErrors(e.response.data.errors)}),1e3)}))},setContactDetailsErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.contactDetailsErrors.address=t.address?t.address:[],this.contactDetailsErrors.city=t.city?t.city:[],this.contactDetailsErrors.region=t.region?t.region:[],this.contactDetailsErrors.country=t.country?t.country:[],this.contactDetailsErrors.mobile=t.mobile?t.mobile:[],this.contactDetailsErrors.telephone=t.telephone?t.telephone:[],this.contactDetailsErrors.email=t.email?t.email:[],this.contactDetailsErrors.otherEmail=t.otherEmail?t.otherEmail:[]},setPContactDetailsErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.contactDetailsErrors.address=t.address?t.address:[],this.contactDetailsErrors.city=t.city?t.city:[],this.contactDetailsErrors.region=t.region?t.region:[],this.contactDetailsErrors.country=t.country?t.country:[],this.contactDetailsErrors.mobile=t.mobile?t.mobile:[],this.contactDetailsErrors.telephone=t.telephone?t.telephone:[],this.contactDetailsErrors.email=t.email?t.email:[],this.contactDetailsErrors.otherEmail=t.otherEmail?t.otherEmail:[]},cancelContactDetailsForm:function(){this.contactDetailsErrors.address=[],this.contactDetailsErrors.city=[],this.contactDetailsErrors.region=[],this.contactDetailsErrors.country=[],this.contactDetailsErrors.mobile=[],this.contactDetailsErrors.telephone=[],this.contactDetailsErrors.email=[],this.contactDetailsErrors.otherEmail=[],this.isEditContactDetails=!this.isEditContactDetails},cancelPContactDetailsForm:function(){this.contactDetailsErrors.address=[],this.contactDetailsErrors.city=[],this.contactDetailsErrors.region=[],this.contactDetailsErrors.country=[],this.contactDetailsErrors.mobile=[],this.contactDetailsErrors.telephone=[],this.contactDetailsErrors.email=[],this.contactDetailsErrors.otherEmail=[],this.isEditContactDetails=!this.isEditContactDetails},setContactDetails:function(t){null!==t&&(this.contactDetails={address:t.address,city:t.city,region:t.region,country:t.country,mobile:t.mobile,telephone:t.telephone,email:t.email,otherEmail:t.otherEmail})},setPContactDetails:function(t){null!==t&&(this.p_contactDetails={address:t.address,city:t.city,region:t.region,country:t.country,mobile:t.mobile,telephone:t.telephone,email:t.email,otherEmail:t.otherEmail})}})},C=Object(v.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"}),t._v(" "),a("div",{staticClass:"profile-detail-bar"},[a("p",{staticClass:"p-text"},[t._v(t._s(t.$t("app.contact_detail_cta")))])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t.userOrPermission("update",t.getProfile.user_id)?[t.isEditContactDetails?a("b-field",{staticClass:"mb-4"},[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"pen"},on:{click:function(e){t.isEditContactDetails=!t.isEditContactDetails}}},[t._v(t._s(t.$t("app.edit")))])],1):t._e()]:t._e(),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("h5",{staticClass:"text-main"},[t._v("Current Address")]),t._v(" "),a("fieldset",{attrs:{disabled:t.isEditContactDetails}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateContactDetails()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("b-field",{attrs:{label:" "+t.$t("app.address"),type:{"is-danger":t.contactDetailsErrors.address.length>0},message:t.contactDetailsErrors.address}},[a("b-input",{attrs:{type:"textarea",placeholder:" "+t.$t("app.address_placehoder")+"...",size:""},model:{value:t.contactDetails.address,callback:function(e){t.$set(t.contactDetails,"address",e)},expression:"contactDetails.address"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("b-field",{attrs:{label:t.$tc("app.country",1),expanded:"",type:{"is-danger":t.contactDetailsErrors.country.length>0},message:t.contactDetailsErrors.country}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.contactDetails.country,callback:function(e){t.$set(t.contactDetails,"country",e)},expression:"contactDetails.country"}},t._l(t.getCountries,(function(e){return a("option",{key:e.name,domProps:{value:e.name}},[t._v("\n                          "+t._s("en"!==t.locale?e.translations[""+t.locale]:e.name)+"\n                        ")])})),0)],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.city"),expanded:"",type:{"is-danger":t.contactDetailsErrors.city.length>0},message:t.contactDetailsErrors.city}},[a("b-input",{attrs:{size:""},model:{value:t.contactDetails.city,callback:function(e){t.$set(t.contactDetails,"city",e)},expression:"contactDetails.city"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.state")+"/"+t.$t("app.region"),expanded:"",type:{"is-danger":t.contactDetailsErrors.region.length>0},message:t.contactDetailsErrors.region}},[a("b-input",{attrs:{size:""},model:{value:t.contactDetails.region,callback:function(e){t.$set(t.contactDetails,"region",e)},expression:"contactDetails.region"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.mobile"),expanded:"",type:{"is-danger":t.contactDetailsErrors.mobile.length>0},message:t.contactDetailsErrors.mobile}},[a("b-input",{attrs:{size:""},model:{value:t.contactDetails.mobile,callback:function(e){t.$set(t.contactDetails,"mobile",e)},expression:"contactDetails.mobile"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.work_tel"),expanded:"",type:{"is-danger":t.contactDetailsErrors.telephone.length>0},message:t.contactDetailsErrors.telephone}},[a("b-input",{attrs:{size:""},model:{value:t.contactDetails.telephone,callback:function(e){t.$set(t.contactDetails,"telephone",e)},expression:"contactDetails.telephone"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.work_email"),expanded:"",type:{"is-danger":t.contactDetailsErrors.email.length>0},message:t.contactDetailsErrors.email}},[a("b-input",{attrs:{size:""},model:{value:t.contactDetails.email,callback:function(e){t.$set(t.contactDetails,"email",e)},expression:"contactDetails.email"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.other_email"),expanded:"",type:{"is-danger":t.contactDetailsErrors.otherEmail.length>0},message:t.contactDetailsErrors.otherEmail}},[a("b-input",{attrs:{size:""},model:{value:t.contactDetails.otherEmail,callback:function(e){t.$set(t.contactDetails,"otherEmail",e)},expression:"contactDetails.otherEmail"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),t.isEditContactDetails?t._e():a("b-field",[a("div",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingContactDetails}},[t._v("\n                      "+t._s(t.isSubmittingContactDetails?t.$t("app.saving")+"...":t.$t("app.save"))+"\n                    ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelContactDetailsForm()}}},[t._v(t._s(t.$t("app.cancel")))])],1)])],1)])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("h5",{staticClass:"text-main"},[t._v("Home Address")]),t._v(" "),a("fieldset",{attrs:{disabled:t.isEditContactDetails}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updatePContactDetails()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("b-field",{attrs:{label:" "+t.$t("app.address"),type:{"is-danger":t.p_contactDetailsErrors.address.length>0},message:t.p_contactDetailsErrors.address}},[a("b-input",{attrs:{type:"textarea",placeholder:" "+t.$t("app.address_placehoder")+"...",size:""},model:{value:t.p_contactDetails.address,callback:function(e){t.$set(t.p_contactDetails,"address",e)},expression:"p_contactDetails.address"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("b-field",{attrs:{label:t.$tc("app.country",1),expanded:"",type:{"is-danger":t.p_contactDetailsErrors.country.length>0},message:t.p_contactDetailsErrors.country}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.p_contactDetails.country,callback:function(e){t.$set(t.p_contactDetails,"country",e)},expression:"p_contactDetails.country"}},t._l(t.getCountries,(function(e){return a("option",{key:e.name,domProps:{value:e.name}},[t._v("\n                          "+t._s("en"!==t.locale?e.translations[""+t.locale]:e.name)+"\n                        ")])})),0)],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.city"),expanded:"",type:{"is-danger":t.p_contactDetailsErrors.city.length>0},message:t.p_contactDetailsErrors.city}},[a("b-input",{attrs:{size:""},model:{value:t.p_contactDetails.city,callback:function(e){t.$set(t.p_contactDetails,"city",e)},expression:"p_contactDetails.city"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.state")+"/"+t.$t("app.region"),expanded:"",type:{"is-danger":t.p_contactDetailsErrors.region.length>0},message:t.p_contactDetailsErrors.region}},[a("b-input",{attrs:{size:""},model:{value:t.p_contactDetails.region,callback:function(e){t.$set(t.p_contactDetails,"region",e)},expression:"p_contactDetails.region"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.mobile"),expanded:"",type:{"is-danger":t.p_contactDetailsErrors.mobile.length>0},message:t.p_contactDetailsErrors.mobile}},[a("b-input",{attrs:{size:""},model:{value:t.p_contactDetails.mobile,callback:function(e){t.$set(t.p_contactDetails,"mobile",e)},expression:"p_contactDetails.mobile"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.work_tel"),expanded:"",type:{"is-danger":t.p_contactDetailsErrors.telephone.length>0},message:t.p_contactDetailsErrors.telephone}},[a("b-input",{attrs:{size:""},model:{value:t.p_contactDetails.telephone,callback:function(e){t.$set(t.p_contactDetails,"telephone",e)},expression:"p_contactDetails.telephone"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.work_email"),expanded:"",type:{"is-danger":t.p_contactDetailsErrors.email.length>0},message:t.p_contactDetailsErrors.email}},[a("b-input",{attrs:{size:""},model:{value:t.p_contactDetails.email,callback:function(e){t.$set(t.p_contactDetails,"email",e)},expression:"p_contactDetails.email"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.other_email"),expanded:"",type:{"is-danger":t.p_contactDetailsErrors.otherEmail.length>0},message:t.p_contactDetailsErrors.otherEmail}},[a("b-input",{attrs:{size:""},model:{value:t.p_contactDetails.otherEmail,callback:function(e){t.$set(t.p_contactDetails,"otherEmail",e)},expression:"p_contactDetails.otherEmail"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),t.isEditContactDetails?t._e():a("b-field",[a("div",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingPContactDetails}},[t._v("\n                      "+t._s(t.isSubmittingPContactDetails?t.$t("app.saving")+"...":t.$t("app.save"))+"\n                    ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelPContactDetailsForm()}}},[t._v(t._s(t.$t("app.cancel")))])],1)])],1)])])]),t._v(" "),t.userOrPermission("update",t.getProfile.user_id)?[t.isEditContactDetails?a("b-field",[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"pen"},on:{click:function(e){t.isEditContactDetails=!t.isEditContactDetails}}},[t._v(t._s(t.$t("app.edit")))])],1):t._e()]:t._e()],2)])])])}),[],!1,null,"467e6b11",null).exports;function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function D(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(Object(a),!0).forEach((function(e){q(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function q(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var E={name:"ContactDetails",computed:D(D({},Object(l.c)(["getProfile"])),{},{getContactDropperId:function(){return this.contactDropperId}}),created:function(){},data:function(){return{defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",closeEmergencyContactDetailsForm:!1,isSubmittingEmergencyContact:!1,contactDropperId:"",emergencyContact:{name:"",relationship:"",mobile:"",homeTelephone:"",workTelephone:""},emergencyContactErrors:{name:[],relationship:[],mobile:[],homeTelephone:[],workTelephone:[]}}},methods:D(D({},Object(l.b)(["dispatchProfile"])),{},{openContactDropper:function(t){this.contactDropperId=t.id;var e=this.$refs.contactDropper;e&&(this.emergencyContact={name:t.name,relationship:t.relationship,mobile:t.mobile,homeTelephone:t.homeTelephone,workTelephone:t.workTelephone},e.open())},closeContactDropper:function(){var t=this.$refs.contactDropper;t&&(this.cancelEmergencyContactDetailsForm(),t.close())},addEmergencyContact:function(){var t=this;this.setEmergencyContactErrors(),this.isSubmittingEmergencyContact=!0,this.$axios.put("/dashboard/ess/add-emergency-contact/".concat(this.getProfile.user_id),this.emergencyContact).then((function(e){200===e.status&&e.data.added&&(t.clearEmergencyForm(),t.isSubmittingEmergencyContact=!1,t.dispatchProfile({type:"ADD_EMERGENCY_CONTACT_DETAILS",payload:JSON.parse(e.data.contacts)}),t.snackbar("Contact added successfully","is-dark"))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.setEmergencyContactErrors(e.response.data.errors),t.isSubmittingEmergencyContact=!1}),1e3)}))},updateEmergencyContact:function(){var t=this;this.setEmergencyContactErrors(),this.isSubmittingEmergencyContact=!0,this.$axios.put("/dashboard/ess/update-emergency-contact/".concat(this.getProfile.user_id,"/").concat(this.contactDropperId),this.emergencyContact).then((function(e){200===e.status&&e.data.updated&&(t.isSubmittingEmergencyContact=!1,t.dispatchProfile({type:"UPDATE_EMERGENCY_CONTACT_DETAILS",payload:D(D({},t.emergencyContact),{},{id:t.contactDropperId})}),t.closeContactDropper(),t.snackbar("Contact updated successfully","is-dark"))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.setEmergencyContactErrors(e.response.data.errors),t.isSubmittingEmergencyContact=!1}),1e3)}))},deleteEmergencyContact:function(t){var e=this;this.$axios.delete("/dashboard/ess/delete-emergency-contact/".concat(this.getProfile.user_id,"/").concat(t)).then((function(t){200===t.status&&t.data.deleted&&(e.dispatchProfile({type:"DELETE_EMERGENCY_CONTACT_DETAILS",payload:e.contactDropperId}),e.snackbar("Contact deleted successfully","is-dark"))})).catch((function(t){}))},cancelEmergencyContactDetailsForm:function(){this.emergencyContactErrors.name=[],this.emergencyContactErrors.relationship=[],this.emergencyContactErrors.mobile=[],this.emergencyContactErrors.homeTelephone=[],this.emergencyContactErrors.workTelephone=[],this.closeEmergencyContactDetailsForm=!1,this.clearEmergencyForm()},clearEmergencyForm:function(){this.emergencyContact.name="",this.emergencyContact.relationship="",this.emergencyContact.mobile="",this.emergencyContact.homeTelephone="",this.emergencyContact.workTelephone=""},setEmergencyContactErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.emergencyContactErrors={name:t.name||[],relationship:t.relationship||[],mobile:t.mobile||[],homeTelephone:t.homeTelephone||[],workTelephone:t.workTelephone||[]}}})},x=Object(v.a)(E,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"}),t._v(" "),a("div",{staticClass:"profile-detail-bar"},[a("p",{staticClass:"p-text"},[t._v(t._s(t.$t("app.emergency_contact_cta")))])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t.userOrPermission("create",t.getProfile.user_id)?a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreportingmethod"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreportingmethod"}},[a("p",{staticClass:"card-header-title has-text-info"},[t._v("\n                "+t._s(t.$t("app.add_emergency_contact"))+"\n              ")]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{pack:"fas",type:"is-info",icon:e.open?"angle-down":"angle-up"}})],1)])}}],null,!1,1740276904),model:{value:t.closeEmergencyContactDetailsForm,callback:function(e){t.closeEmergencyContactDetailsForm=e},expression:"closeEmergencyContactDetailsForm"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addEmergencyContact()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.name"),expanded:"",type:{"is-danger":t.emergencyContactErrors.name.length>0},message:t.emergencyContactErrors.name}},[a("b-input",{attrs:{size:""},model:{value:t.emergencyContact.name,callback:function(e){t.$set(t.emergencyContact,"name",e)},expression:"emergencyContact.name"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.relationship"),expanded:"",type:{"is-danger":t.emergencyContactErrors.relationship.length>0},message:t.emergencyContactErrors.relationship}},[a("b-input",{attrs:{size:""},model:{value:t.emergencyContact.relationship,callback:function(e){t.$set(t.emergencyContact,"relationship",e)},expression:"emergencyContact.relationship"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:t.$t("app.mobile"),expanded:"",type:{"is-danger":t.emergencyContactErrors.mobile.length>0},message:t.emergencyContactErrors.mobile}},[a("b-input",{attrs:{size:""},model:{value:t.emergencyContact.mobile,callback:function(e){t.$set(t.emergencyContact,"mobile",e)},expression:"emergencyContact.mobile"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:t.$t("app.home_tel"),expanded:"",type:{"is-danger":t.emergencyContactErrors.homeTelephone.length>0},message:t.emergencyContactErrors.homeTelephone}},[a("b-input",{attrs:{size:""},model:{value:t.emergencyContact.homeTelephone,callback:function(e){t.$set(t.emergencyContact,"homeTelephone",e)},expression:"emergencyContact.homeTelephone"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:t.$t("app.work_tel"),expanded:"",type:{"is-danger":t.emergencyContactErrors.workTelephone.length>0},message:t.emergencyContactErrors.workTelephone}},[a("b-input",{attrs:{size:""},model:{value:t.emergencyContact.workTelephone,callback:function(e){t.$set(t.emergencyContact,"workTelephone",e)},expression:"emergencyContact.workTelephone"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingEmergencyContact}},[t._v("\n                      "+t._s(t.isSubmittingEmergencyContact?t.$t("app.submitting")+"...":t.$t("app.submit"))+"\n                    ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelEmergencyContactDetailsForm()}}},[t._v(t._s(t.$t("app.cancel")))])],1)])])])])],1):t._e(),t._v(" "),a("b-table",{attrs:{data:t.getProfile.emergency_contacts||[],paginated:!0,"per-page":10,"current-page":1,"pagination-simple":!0,"default-sort-direction":"desc","sort-icon":"arrow-up","sort-icon-size":"is-small",striped:"",hoverable:"","default-sort":"id","pagination-position":"bottom","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"}},[a("b-table-column",{attrs:{field:"name",label:t.$t("app.name"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"relationship",label:t.$t("app.relationship"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.relationship))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"mobile",label:t.$t("app.mobile"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.mobile))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"worktelephone",label:t.$t("app.work_tel"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.workTelephone))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"telephone",label:t.$t("app.home_tel"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.homeTelephone))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:t.$tc("app.action",2)},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:t.$t("app.editContact"),type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:"contact-id"+(t.getContactDropperId===e.row.id?t.getContactDropperId:""),disabled:!t.userOrPermission("update",t.getProfile.user_id)},on:{click:function(a){return t.openContactDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:t.$t("app.delete"),type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash",disabled:!t.userOrPermission("delete",t.getProfile.user_id)},on:{click:function(a){return t.deleteEmergencyContact(e.row.id)}}})],1)],1)]}}])})],1)],1)])]),t._v(" "),a("dropper",{ref:"contactDropper",staticClass:"dropper",attrs:{join:"#contact-id"+t.getContactDropperId,"z-index":9999},on:{"esc-keydown":t.closeContactDropper,"other-area-clicked":t.closeContactDropper}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateEmergencyContact()}}},[a("h3",{staticClass:"label text-main"},[t._v("Edit Emergency Contact")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Name",expanded:"",type:{"is-danger":t.emergencyContactErrors.name.length>0},message:t.emergencyContactErrors.name}},[a("b-input",{attrs:{size:""},model:{value:t.emergencyContact.name,callback:function(e){t.$set(t.emergencyContact,"name",e)},expression:"emergencyContact.name"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Relationship",expanded:"",type:{"is-danger":t.emergencyContactErrors.relationship.length>0},message:t.emergencyContactErrors.relationship}},[a("b-input",{attrs:{size:""},model:{value:t.emergencyContact.relationship,callback:function(e){t.$set(t.emergencyContact,"relationship",e)},expression:"emergencyContact.relationship"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Mobile",expanded:"",type:{"is-danger":t.emergencyContactErrors.mobile.length>0},message:t.emergencyContactErrors.mobile}},[a("b-input",{attrs:{size:""},model:{value:t.emergencyContact.mobile,callback:function(e){t.$set(t.emergencyContact,"mobile",e)},expression:"emergencyContact.mobile"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Home Telephone",expanded:"",type:{"is-danger":t.emergencyContactErrors.homeTelephone.length>0},message:t.emergencyContactErrors.homeTelephone}},[a("b-input",{attrs:{size:""},model:{value:t.emergencyContact.homeTelephone,callback:function(e){t.$set(t.emergencyContact,"homeTelephone",e)},expression:"emergencyContact.homeTelephone"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("b-field",{attrs:{label:"Work Telephone",expanded:"",type:{"is-danger":t.emergencyContactErrors.workTelephone.length>0},message:t.emergencyContactErrors.workTelephone}},[a("b-input",{attrs:{size:""},model:{value:t.emergencyContact.workTelephone,callback:function(e){t.$set(t.emergencyContact,"workTelephone",e)},expression:"emergencyContact.workTelephone"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingEmergencyContact}},[t._v("\n          "+t._s(t.isSubmittingEmergencyContact?"Saving...":"Save")+"\n        ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.closeContactDropper()}}},[t._v("Cancel")])],1)])])],1)}),[],!1,null,"37a53315",null).exports;function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(Object(a),!0).forEach((function(e){$(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function $(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var P={name:"JobDetails",components:{ViewPdf:c.a},computed:w(w({},Object(l.c)(["getProfile","getJobCategories","getJobTitles","getEmploymentStatus","getDepartments","getUnits","getPositions"])),{},{filteredJobTitles:function(){return this.jTitles}}),created:function(){},mounted:function(){var t=this;this.setJob(this.getProfile.job),this.$nextTick((function(){t.$watch((function(){return t.job.category}),(function(e){t.job.specification="",t.jTitles=t.getJobTitles.filter((function(t){return t.job_category_id===parseInt(e)}))}),{immediate:!0}),t.$watch((function(){return t.job.title}),(function(e){var a=t.getJobTitles.find((function(t){return t.id===parseInt(e)}));a&&(t.job.specification=a.specification||"")}),{immediate:!0}),t.$watch((function(){return t.job.department}),(function(e){t.departmentUnits=t.getUnits.filter((function(t){return t.department_id===parseInt(e)})),t.getProfile.job.unit&&(0===t.departmentUnits.length&&(t.departmentUnits=t.getUnits.filter((function(e){return e.id===parseInt(t.getProfile.job.unit)}))),t.job.unit=parseInt(t.getProfile.job.unit)),0===t.departmentUnits.length&&(t.job.unit="")}),{immediate:!0})}))},data:function(){return{showUserUnit:!0,jTitles:[],departmentUnits:[],jobSpecification:"",contractDetailsControl:"kc",isEditJob:!0,isSubmittingJob:!1,isAwardingContract:!1,job:{category:"",title:"",specification:"",employmentStatus:"",department:"",unit:"",position:"",startDate:null,endDate:null,contractDetails:null,contractDetailsAvailable:"",contractStatus:null},jobErrors:{title:[],specification:[],category:[],employmentStatus:[],department:[],unit:[],position:[],startDate:[],endDate:[],contractDetails:[]}}},methods:w(w({},Object(l.b)(["dispatchProfile"])),{},{setJob:function(t){t&&(this.job=w(w({},this.job),{},{category:t.category,title:t.title?parseInt(t.title):t.title,employmentStatus:t.employmentStatus,department:t.department||"none",unit:t.unit||"",position:t.position||"",startDate:new Date(t.startDate),endDate:t.endDate?new Date(t.endDate):null,contractDetailsAvailable:t.contractDetails,contractStatus:t.contractStatus?t.contractStatus:null}))},updateJob:function(){var t=this;this.setJobErrors(),this.isSubmittingJob=!0;var e=new FormData;e.append("category",this.job.category),e.append("title",this.job.title),e.append("employmentStatus",this.job.employmentStatus),e.append("department",this.job.department),e.append("unit",this.job.unit),e.append("position",this.job.position),e.append("startDate",this.job.startDate?this.job.startDate.toISOString():""),e.append("endDate",this.job.endDate?this.job.endDate.toISOString():""),e.append("contractStatus",this.job.contractStatus),e.append("contractDetailsControl",this.contractDetailsControl),this.job.contractDetailsAvailable&&e.append("contractDetails",this.job.contractDetailsAvailable),"rc"!==this.contractDetailsControl&&this.job.contractDetailsAvailable||e.append("contractDetails",this.job.contractDetails),this.$axios.post("/dashboard/ess/update-job/".concat(this.getProfile.user_id),e,this.axiosConfig).then((function(e){200===e.status&&e.data.updated&&(t.dispatchProfile({type:"ADD_JOB",payload:e.data.data}),t.setJob(t.getProfile.job),t.contractDetailsControl="kc",t.job.contractDetails=null,setTimeout((function(){t.snackbar("Job updated successfully","is-dark"),t.isSubmittingJob=!1}),1e3))})).catch((function(e){422===e.response.status&&setTimeout((function(){t.isSubmittingJob=!1,t.setJobErrors(e.response.data.errors)}),1e3)}))},awardContract:function(t){var e=this;this.isAwardingContract=!0,this.$axios.put("/dashboard/ess/award-job-contract/".concat(this.getProfile.user_id,"/").concat(t)).then((function(a){200===a.status&&a.data.updated&&(e.dispatchProfile({type:"ADD_JOB",payload:a.data.data}),e.setJob(e.getProfile.job),setTimeout((function(){e.snackbar("Contract ".concat(t?"termindated":"awarded"," successfully"),"is-dark"),e.isAwardingContract=!1}),1e3))})).catch((function(t){e.isAwardingContract=!1}))},viewSpecification:function(t){this.$buefy.modal.open({parent:this,component:c.a,hasModalCard:!0,trapFocus:!0,props:{file:t}})},clearJobForm:function(){this.job.title="",this.job.specification="",this.job.category="",this.job.employmentStatus="",this.job.department="",this.job.unit="",this.job.position="",this.job.startDate=null,this.job.endDate=null,this.job.contractDetails=null,this.job.contractDetailsAvailable="",this.job.contractStatus=null},setJobErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.jobErrors.title=t.title||[],this.jobErrors.specification=t.specification||[],this.jobErrors.category=t.category||[],this.jobErrors.employmentStatus=t.employmentStatus||[],this.jobErrors.department=t.department||[],this.jobErrors.unit=t.unit||[],this.jobErrors.position=t.position||[],this.jobErrors.startDate=t.startDate||[],this.jobErrors.endDate=t.endDate||[],this.jobErrors.contractDetails=t.contractDetails||[]},cancelJobForm:function(){this.setJobErrors(),this.isEditJob=!this.isEditJob}})},A=Object(v.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"}),t._v(" "),a("div",{staticClass:"profile-detail-bar"},[a("p",{staticClass:"p-text"},[t._v(t._s(t.$t("app.job_details_cta")))])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t.userOrPermission("update",t.getProfile.id)?[t.isEditJob?a("div",{staticClass:"buttons mb-4"},[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"pen"},on:{click:function(e){t.isEditJob=!t.isEditJob}}},[t._v(t._s(t.$t("app.edit")))])],1):t._e()]:t._e(),t._v(" "),a("fieldset",{attrs:{disabled:t.isEditJob}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateJob()}}},[a("h5",{staticClass:"text-main"},[t._v(t._s(t.$t("app.job")))]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.jobCategory"),expanded:""}})],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{expanded:"",type:{"is-danger":t.jobErrors.category.length>0},message:t.jobErrors.category}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.job.category,callback:function(e){t.$set(t.job,"category",e)},expression:"job.category"}},t._l(t.getJobCategories,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v("\n                      "+t._s(e.category)+"\n                    ")])})),0)],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.jobTitle"),expanded:""}})],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"",expanded:"",type:{"is-danger":t.jobErrors.title.length>0},message:t.jobErrors.title}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.job.title,callback:function(e){t.$set(t.job,"title",e)},expression:"job.title"}},t._l(t.filteredJobTitles,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v("\n                      "+t._s(e.title)+"\n                    ")])})),0)],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.jobSpec"),expanded:""}})],1),t._v(" "),a("div",{staticClass:"column is-8"},[a("b-field",{attrs:{label:"",expanded:""}},[a("p",[""===t.job.specification||t.jobSpecification?a("span",[t._v(t._s(t.$t("app.notDefined")))]):!t.jobSpecification&&t.job.specification?a("a",{on:{click:function(e){return t.viewSpecification("/job-specifications/"+t.job.specification)}}},[t._v(t._s(t.job.specification))]):t._e()])])],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.empStatus"),expanded:""}})],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"",expanded:"",type:{"is-danger":t.jobErrors.employmentStatus.length>0},message:t.jobErrors.employmentStatus}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.job.employmentStatus,callback:function(e){t.$set(t.job,"employmentStatus",e)},expression:"job.employmentStatus"}},t._l(t.getEmploymentStatus,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v("\n                      "+t._s(e.status)+"\n                    ")])})),0)],1)],1)]),t._v(" "),a("h5",{staticClass:"text-main"},[t._v(t._s(t.$t("app.organization")))]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.department"),expanded:""}})],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"",expanded:"",type:{"is-danger":t.jobErrors.department.length>0},message:t.jobErrors.department}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.job.department,callback:function(e){t.$set(t.job,"department",e)},expression:"job.department"}},[a("option",{attrs:{value:"none"}},[t._v("None")]),t._v(" "),t._l(t.getDepartments,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])}))],2)],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.unit"),expanded:""}})],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"",expanded:"",type:{"is-danger":t.jobErrors.unit.length>0},message:t.jobErrors.unit}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.job.unit,callback:function(e){t.$set(t.job,"unit",e)},expression:"job.unit"}},[a("option",{attrs:{value:""}},[t._v("None")]),t._v(" "),t._l(t.departmentUnits,(function(e,s){return a("option",{key:e+s,domProps:{value:e.id}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])}))],2)],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.position"),expanded:""}})],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"",expanded:"",type:{"is-danger":t.jobErrors.position.length>0},message:t.jobErrors.position}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.job.position,callback:function(e){t.$set(t.job,"position",e)},expression:"job.position"}},[a("option",{attrs:{value:""}},[t._v("None")]),t._v(" "),t._l(t.getPositions,(function(e,s){return a("option",{key:e+s,domProps:{value:e.id}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])}))],2)],1)],1)]),t._v(" "),a("h5",{staticClass:"text-main"},[t._v(t._s(t.$t("app.empContract")))]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.sDate"),expanded:""}})],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"",expanded:"",type:{"is-danger":t.jobErrors.startDate.length>0},message:t.jobErrors.startDate}},[a("b-datetimepicker",{attrs:{timepicker:{hourFormat:"12"},"horizontal-time-picker":"",placeholder:"Click to select...",pack:"fas",icon:"calendar","trap-focus":"",size:""},model:{value:t.job.startDate,callback:function(e){t.$set(t.job,"startDate",e)},expression:"job.startDate"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.eDate"),expanded:""}})],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{expanded:"",type:{"is-danger":t.jobErrors.endDate.length>0},message:t.jobErrors.endDate}},[a("b-datetimepicker",{attrs:{timepicker:{hourFormat:"12"},"horizontal-time-picker":"",placeholder:"Click to select...",pack:"fas",icon:"calendar","trap-focus":"",size:""},model:{value:t.job.endDate,callback:function(e){t.$set(t.job,"endDate",e)},expression:"job.endDate"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.conStatus"),expanded:""}})],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"",expanded:""}},[a("p",[t._v("\n                    "+t._s("award"===t.job.contractStatus?t.$t("app.active"):"terminate"===t.job.contractStatus?t.$t("app.terminated"):t.$t("app.notDefined"))+"\n                  ")])])],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("b-field",{attrs:{label:t.$t("app.conDetails"),expanded:""}})],1),t._v(" "),a("div",{staticClass:"column is-4"},[t.isNull(t.job.contractDetailsAvailable)?t._e():a("b-field",{attrs:{expanded:""}},[a("p",[t._v(t._s(t.$t("app.notDefined")))])]),t._v(" "),t.isNull(t.job.contractDetailsAvailable)?a("b-field",{attrs:{expanded:""}},[a("p",[a("a",{on:{click:function(e){return t.viewSpecification("/job-contracts/"+t.job.contractDetailsAvailable)}}},[t._v(t._s(t.job.contractDetailsAvailable))])])]):t._e(),t._v(" "),t.job.contractDetailsAvailable?t._e():a("b-field",{attrs:{type:{"is-danger":t.jobErrors.contractDetails.length>0},message:t.jobErrors.contractDetails}},[a("b-field",{staticClass:"file is-dark",attrs:{expanded:""}},[a("b-upload",{staticClass:"file-label",attrs:{size:"is-small"},model:{value:t.job.contractDetails,callback:function(e){t.$set(t.job,"contractDetails",e)},expression:"job.contractDetails"}},[a("span",{staticClass:"file-cta"},[a("b-icon",{staticClass:"file-icon",attrs:{icon:"upload",size:"is-small"}}),t._v(" "),a("span",{staticClass:"file-label"},[t._v("Upload")])],1),t._v(" "),t.job.contractDetails?a("span",{staticClass:"file-name"},[t._v(t._s(t.job.contractDetails.name))]):t._e()])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"}),t._v(" "),a("div",{staticClass:"column is-5"},[t.job.contractDetailsAvailable?a("div",{staticClass:"block"},[a("b-radio",{attrs:{size:"",type:"is-info",name:"contractDetailsControl","native-value":"kc"},model:{value:t.contractDetailsControl,callback:function(e){t.contractDetailsControl=e},expression:"contractDetailsControl"}},[t._v(t._s(t.$t("app.keepCurrent")))]),t._v(" "),a("b-radio",{attrs:{size:"",type:"is-info",name:"contractDetailsControl","native-value":"dc"},model:{value:t.contractDetailsControl,callback:function(e){t.contractDetailsControl=e},expression:"contractDetailsControl"}},[t._v(t._s(t.$t("app.deleteCurrent")))]),t._v(" "),a("b-radio",{attrs:{size:"",type:"is-info",name:"contractDetailsControl","native-value":"rc"},model:{value:t.contractDetailsControl,callback:function(e){t.contractDetailsControl=e},expression:"contractDetailsControl"}},[t._v(t._s(t.$t("app.replaceCurrent")))])],1):t._e(),t._v(" "),"rc"===t.contractDetailsControl?a("b-field",{attrs:{type:{"is-danger":t.jobErrors.contractDetails.length>0},message:t.jobErrors.contractDetails}},[a("b-field",{staticClass:"file is-dark",attrs:{expanded:""}},[a("b-upload",{staticClass:"file-label",attrs:{size:"is-small"},model:{value:t.job.contractDetails,callback:function(e){t.$set(t.job,"contractDetails",e)},expression:"job.contractDetails"}},[a("span",{staticClass:"file-cta"},[a("b-icon",{staticClass:"file-icon",attrs:{icon:"upload",size:"is-small"}}),t._v(" "),a("span",{staticClass:"file-label"},[t._v(t._s(t.$t("app.upload")))])],1),t._v(" "),t.job.contractDetails?a("span",{staticClass:"file-name"},[t._v(t._s(t.job.contractDetails.name))]):t._e()])],1)],1):t._e()],1)]),t._v(" "),a("hr"),t._v(" "),t.isEditJob?t._e():a("div",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmittingJob}},[t._v("\n                "+t._s(t.isSubmittingJob?t.$t("app.submitting")+"...":t.$t("app.save"))+"\n              ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelJobForm()}}},[t._v(t._s(t.$t("app.cancel")))]),t._v(" "),t.isPermission("update")?["award"===t.job.contractStatus?a("b-button",{staticClass:"is-dark is-light",on:{click:function(e){return t.awardContract("terminate")}}},[t._v("\n                  "+t._s(t.isAwardingContract?t.$t("app.terminatingContract"):t.$t("app.terminateContract"))+"\n                ")]):t._e(),t._v(" "),"terminate"===t.job.contractStatus||null===t.job.contractStatus?a("b-button",{staticClass:"is-info is-light",on:{click:function(e){return t.awardContract("award")}}},[t._v("\n                  "+t._s(t.isAwardingContract?t.$t("app.awardingContract"):t.$t("app.awardContract"))+"\n                ")]):t._e()]:t._e()],2)])]),t._v(" "),t.userOrPermission("update",t.getProfile.id)?[t.isEditJob?a("div",{staticClass:"buttons"},[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"pen"},on:{click:function(e){t.isEditJob=!t.isEditJob}}},[t._v(t._s(t.$t("app.edit")))])],1):t._e()]:t._e()],2)])])])}),[],!1,null,"6ccff12e",null).exports;function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function O(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){j(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function j(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var I={name:"QualificayionDetails",components:{},computed:O(O({},Object(l.c)(["getProfile"])),{},{getEducation:function(){return"string"==typeof this.getProfile.qualifications.education?JSON.parse(this.getProfile.qualifications.education):[]},getContinuousDev:function(){return"string"==typeof this.getProfile.qualifications.continuousDev?JSON.parse(this.getProfile.qualifications.continuousDev):[]},getExpertise:function(){return"string"==typeof this.getProfile.qualifications.expertise?JSON.parse(this.getProfile.qualifications.expertise):[]},getLanguages:function(){return"string"==typeof this.getProfile.qualifications.languages?JSON.parse(this.getProfile.qualifications.languages):[]},getAttachmentDropperId:function(){return this.attachmentDropperId}}),created:function(){},data:function(){return{isEditEducation:!1,isEditExpertise:!1,isEditLanguage:!1,isEditContinuousDev:!1,isSubmitting:!1,attachmentUpdateType:"",attachmentDropperId:"",isSubmittingEducation:!1,isSubmittingContinuousDev:!1,isSubmittingExpertise:!1,isSubmittingLanguage:!1,qualifications:{education:{institution:"",specialization:"",started:null,completed:null},continuousDev:{institution:"",specialization:"",started:null,completed:null},expertise:{expertise:"",yearOfExperience:"",comment:""},languages:{language:"",fluency:"",comment:""}},qualificationsErrors:{education:{institution:[],specialization:[],started:[],completed:[]},continuousDev:{institution:[],specialization:[],started:[],completed:[]},expertise:{expertise:[],yearOfExperience:[],comment:[]},languages:{language:[],fluency:[],comment:[]}}}},methods:O(O({},Object(l.b)(["dispatchProfile"])),{},{openEducationDropper:function(t){var e=this.$refs.educationDropper;this.attachmentDropperId=t.id,e&&(this.qualifications.education={institution:t.institution,specialization:t.specialization,gpa:t.gpa,started:t.started?new Date(t.started):t.started,completed:t.completed?new Date(t.completed):t.completed},e.open())},closeEducationDropper:function(){var t=this.$refs.educationDropper;this.attachmentUpdateType="",this.attachmentDropperId="",t&&(this.cancelEducationForm(),t.close())},openContinuousDevDropper:function(t){var e=this.$refs.continuousDevDropper;this.attachmentDropperId=t.id,e&&(this.qualifications.continuousDev={institution:t.institution,specialization:t.specialization,started:t.started?new Date(t.started):t.started,completed:t.completed?new Date(t.completed):t.completed},e.open())},closeContinuousDevDropper:function(){var t=this.$refs.continuousDevDropper;this.attachmentUpdateType="",this.attachmentDropperId="",t&&(this.cancelContinuousDevForm(),t.close())},openExpertiseDropper:function(t){var e=this.$refs.expertiseDropper;this.attachmentDropperId=t.id,e&&(this.qualifications.expertise={expertise:t.expertise,yearOfExperience:t.yearOfExperience,comment:t.comment},e.open())},closeExpertiseDropper:function(){var t=this.$refs.expertiseDropper;this.attachmentUpdateType="",this.attachmentDropperId="",t&&(this.cancelExpertiseForm(),t.close())},openLanguageDropper:function(t){var e=this.$refs.languageDropper;this.attachmentDropperId=t.id,e&&(this.qualifications.languages={language:t.language,fluency:t.fluency,comment:t.comment},e.open())},closeLanguageDropper:function(){var t=this.$refs.languageDropper;this.attachmentUpdateType="",this.attachmentDropperId="",t&&(this.cancelLanguageForm(),t.close())},addEducation:function(){var t=this;this.isSubmittingEducation=!0,this.setEducationErrors(),this.$axios.put("/dashboard/ess/add-education/".concat(this.getProfile.user_id),this.qualifications.education).then((function(e){200===e.status&&e.data.added&&(t.dispatchProfile({type:"ADD_EDUCATION",payload:e.data.data}),t.clearEducationForm(),setTimeout((function(){t.snackbar("Education added successfully","is-dark"),t.isSubmittingEducation=!1}),1e3))})).catch((function(e){422===e.response.status&&t.setEducationErrors(e.response.data.errors),t.isSubmittingEducation=!1}))},updateEducation:function(){var t=this;this.isSubmittingEducation=!0,this.setEducationErrors(),this.$axios.put("/dashboard/ess/update-education/".concat(this.getProfile.user_id,"/").concat(this.attachmentDropperId),this.qualifications.education).then((function(e){200===e.status&&e.data.updated&&(t.closeEducationDropper(),t.dispatchProfile({type:"ADD_EDUCATION",payload:e.data.data}),setTimeout((function(){t.snackbar("Education updated successfully","is-dark"),t.isSubmittingEducation=!1}),1e3))})).catch((function(e){422===e.response.status&&t.setEducationErrors(e.response.data.errors),t.isSubmittingEducation=!1}))},addContinuousDev:function(){var t=this;this.isSubmittingContinuousDev=!0,this.setContinuousDevErrors(),this.$axios.put("/dashboard/ess/add-continuous-dev/".concat(this.getProfile.user_id),this.qualifications.continuousDev).then((function(e){200===e.status&&e.data.added&&(t.dispatchProfile({type:"ADD_CONTINUOUS_DEV",payload:e.data.data}),t.clearContinuousDevForm(),setTimeout((function(){t.snackbar("Development added successfully","is-dark"),t.isSubmittingContinuousDev=!1}),1e3))})).catch((function(e){422===e.response.status&&t.setContinuousDevErrors(e.response.data.errors),t.isSubmittingContinuousDev=!1}))},updateContinuousDev:function(){var t=this;this.isSubmittingContinuousDev=!0,this.setContinuousDevErrors(),this.$axios.put("/dashboard/ess/update-continuous-dev/".concat(this.getProfile.user_id,"/").concat(this.attachmentDropperId),this.qualifications.continuousDev).then((function(e){200===e.status&&e.data.updated&&(t.closeContinuousDevDropper(),t.dispatchProfile({type:"ADD_CONTINUOUS_DEV",payload:e.data.data}),setTimeout((function(){t.snackbar("Development updated successfully","is-dark"),t.isSubmittingContinuousDev=!1}),1e3))})).catch((function(e){422===e.response.status&&t.setContinuousDevErrors(e.response.data.errors),t.isSubmittingContinuousDev=!1}))},addExpertise:function(){var t=this;this.isSubmittingExpertise=!0,this.setExpertiseErrors(),this.$axios.put("/dashboard/ess/add-expertise/".concat(this.getProfile.user_id),this.qualifications.expertise).then((function(e){200===e.status&&e.data.added&&(t.clearExpertiseForm(),t.dispatchProfile({type:"ADD_EXPERTISE",payload:e.data.data}),setTimeout((function(){t.snackbar("Expertise added successfully","is-dark"),t.isSubmittingExpertise=!1}),1e3))})).catch((function(e){422===e.response.status&&t.setExpertiseErrors(e.response.data.errors),t.isSubmittingExpertise=!1}))},updateExpertise:function(){var t=this;this.isSubmittingExpertise=!0,this.setExpertiseErrors(),this.$axios.put("/dashboard/ess/update-expertise/".concat(this.getProfile.user_id,"/").concat(this.attachmentDropperId),this.qualifications.expertise).then((function(e){200===e.status&&e.data.updated&&(t.closeExpertiseDropper(),t.dispatchProfile({type:"ADD_EXPERTISE",payload:e.data.data}),setTimeout((function(){t.snackbar("Expertise updated successfully","is-dark"),t.isSubmittingExpertise=!1}),1e3))})).catch((function(e){422===e.response.status&&t.setExpertiseErrors(e.response.data.errors),t.isSubmittingExpertise=!1}))},addLanguage:function(){var t=this;this.isSubmittingLanguage=!0,this.setLanguageErrors(),this.$axios.put("/dashboard/ess/add-language/".concat(this.getProfile.user_id),this.qualifications.languages).then((function(e){200===e.status&&e.data.added&&(t.clearLanguageForm(),t.dispatchProfile({type:"ADD_LANGUAGE",payload:e.data.data}),setTimeout((function(){t.snackbar("Laguage added successfully","is-dark"),t.isSubmittingLanguage=!1}),1e3))})).catch((function(e){422===e.response.status&&t.setLanguageErrors(e.response.data.errors),t.isSubmittingLanguage=!1}))},updateLanguage:function(){var t=this;this.isSubmittingLanguage=!0,this.setLanguageErrors(),this.$axios.put("/dashboard/ess/update-language/".concat(this.getProfile.user_id,"/").concat(this.attachmentDropperId),this.qualifications.languages).then((function(e){200===e.status&&e.data.added&&(t.closeLanguageDropper(),t.dispatchProfile({type:"ADD_LANGUAGE",payload:e.data.data}),setTimeout((function(){t.snackbar("Laguage updated successfully","is-dark"),t.isSubmittingLanguage=!1}),1e3))})).catch((function(e){422===e.response.status&&t.setLanguageErrors(e.response.data.errors),t.isSubmittingLanguage=!1}))},deleteHandler:function(t,e){var a=this;this.$axios.delete("/dashboard/ess/delete-qualification/".concat(this.getProfile.user_id,"/").concat(e,"/").concat(t)).then((function(e){200===e.status&&e.data.deleted&&(a.dispatchProfile({type:"UDATE_QUALIFICATION",payload:{type:t,data:e.data.data}}),setTimeout((function(){a.snackbar("Data successfully deleted","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},clearEducationForm:function(){this.qualifications.education.institution="",this.qualifications.education.specialization="",this.qualifications.education.started=null,this.qualifications.education.completed=null},clearContinuousDevForm:function(){this.qualifications.continuousDev.institution="",this.qualifications.continuousDev.specialization="",this.qualifications.continuousDev.started=null,this.qualifications.continuousDev.completed=null},clearExpertiseForm:function(){this.qualifications.expertise.expertise="",this.qualifications.expertise.yearOfExperience="",this.qualifications.expertise.comment=""},clearLanguageForm:function(){this.qualifications.languages.language="",this.qualifications.languages.fluency="",this.qualifications.languages.comment=""},cancelEducationForm:function(){this.isEditEducation=!1,this.clearEducationForm(),this.setEducationErrors()},cancelContinuousDevForm:function(){this.isEditContinuousDev=!1,this.clearContinuousDevForm(),this.setContinuousDevErrors()},cancelLanguageForm:function(){this.isEditLanguage=!1,this.clearLanguageForm(),this.setLanguageErrors()},cancelExpertiseForm:function(){this.isEditExpertise=!1,this.clearExpertiseForm(),this.setExpertiseErrors()},setEducationErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.qualificationsErrors.education={institution:t.institution||[],specialization:t.specialization||[],started:t.started||[],completed:t.completed||[]}},setContinuousDevErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.qualificationsErrors.continuousDev={institution:t.institution||[],specialization:t.specialization||[],started:t.started||[],completed:t.completed||[]}},setExpertiseErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.qualificationsErrors.expertise.expertise=t.expertise?t.expertise:[],this.qualificationsErrors.expertise.yearOfExperience=t.yearOfExperience||[],this.qualificationsErrors.expertise.comment=t.comment||[]},setLanguageErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.qualificationsErrors.languages.language=t.language||[],this.qualificationsErrors.languages.fluency=t.fluency||[],this.qualificationsErrors.languages.comment=t.comment||[]}})},T=Object(v.a)(I,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"}),t._v(" "),a("div",{staticClass:"profile-detail-bar"},[a("p",{staticClass:"p-text"},[t._v(t._s(t.$t("app.qualification_cta")))])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t.userOrPermission("create",t.getProfile.user_id)?a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreportingmethod"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreportingmethod"}},[a("p",{staticClass:"card-header-title has-text-info"},[t._v("\n                  "+t._s(t.$t("app.add_education"))+"\n                ")]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{pack:"fas",type:"is-info",icon:e.open?"angle-down":"angle-up"}})],1)])}}],null,!1,1913714004),model:{value:t.isEditEducation,callback:function(e){t.isEditEducation=e},expression:"isEditEducation"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addEducation()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.institution"),expanded:"",type:{"is-danger":t.qualificationsErrors.education.institution.length>0},message:t.qualificationsErrors.education.institution}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.education.institution,callback:function(e){t.$set(t.qualifications.education,"institution",e)},expression:"qualifications.education.institution"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.major_spec"),expanded:"",type:{"is-danger":t.qualificationsErrors.education.specialization.length>0},message:t.qualificationsErrors.education.specialization}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.education.specialization,callback:function(e){t.$set(t.qualifications.education,"specialization",e)},expression:"qualifications.education.specialization"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.started"),expanded:"",type:{"is-danger":t.qualificationsErrors.education.started.length>0},message:t.qualificationsErrors.education.started}},[a("b-datepicker",{attrs:{type:"month",placeholder:t.$t("app.selectYear"),icon:"calendar","trap-focus":"",expanded:""},model:{value:t.qualifications.education.started,callback:function(e){t.$set(t.qualifications.education,"started",e)},expression:"qualifications.education.started"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.completed"),expanded:"",type:{"is-danger":t.qualificationsErrors.education.completed.length>0},message:t.qualificationsErrors.education.completed}},[a("b-datepicker",{attrs:{type:"month",placeholder:t.$t("app.selectYear"),icon:"calendar","trap-focus":"",expanded:""},model:{value:t.qualifications.education.completed,callback:function(e){t.$set(t.qualifications.education,"completed",e)},expression:"qualifications.education.completed"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingEducation}},[t._v("\n                        "+t._s(t.isSubmittingEducation?""+t.$t("app.submitting"):t.$t("app.add"))+"\n                      ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelEducationForm()}}},[t._v(t._s(t.$t("app.cancel")))])],1)],1)])])])],1):t._e(),t._v(" "),a("b-table",{attrs:{data:t.getEducation,paginated:!0,"per-page":5,"current-page":1,"pagination-simple":!0,"pagination-position":"bottom","default-sort":"id","default-sort-direction":"desc"}},[a("b-table-column",{attrs:{field:"institution",label:t.$t("app.institution"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.institution))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"specialization",label:t.$t("app.specialization"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.specialization))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"started",label:t.$t("app.started"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.started?t.formatMonthYear(e.row.started):""))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"completed",label:t.$t("app.completed"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.completed?t.formatMonthYear(e.row.completed):""))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:t.$tc("app.action",2)},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:t.$t("app.edit_education"),type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:"education-id"+(t.getAttachmentDropperId===e.row.id?t.getAttachmentDropperId:""),disabled:!t.userOrPermission("update",t.getProfile.user_id)},on:{click:function(a){return t.openEducationDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:t.$t("app.delete"),type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash",disabled:!t.userOrPermission("delete",t.getProfile.user_id)},on:{click:function(a){return t.deleteHandler("education",e.row.id)}}})],1)],1)]}}])})],1)],1)])])]),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title"},[t._v("\n          "+t._s(t.$tc("app.expertise",1))+"\n        ")])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t.userOrPermission("create",t.getProfile.user_id)?a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreportingmethod"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreportingmethod"}},[a("p",{staticClass:"card-header-title has-text-info"},[t._v("\n                  "+t._s(t.$t("app.add_expertise"))+"\n                ")]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{pack:"fas",type:"is-info",icon:e.open?"angle-down":"angle-up"}})],1)])}}],null,!1,3298448367),model:{value:t.isEditExpertise,callback:function(e){t.isEditExpertise=e},expression:"isEditExpertise"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addExpertise()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$tc("app.expertise",1),expanded:"",type:{"is-danger":t.qualificationsErrors.expertise.expertise.length>0},message:t.qualificationsErrors.expertise.expertise}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.expertise.expertise,callback:function(e){t.$set(t.qualifications.expertise,"expertise",e)},expression:"qualifications.expertise.expertise"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.year_of_expe"),expanded:"",type:{"is-danger":t.qualificationsErrors.expertise.yearOfExperience.length>0},message:t.qualificationsErrors.expertise.yearOfExperience}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.expertise.yearOfExperience,callback:function(e){t.$set(t.qualifications.expertise,"yearOfExperience",e)},expression:"\n                              qualifications.expertise.yearOfExperience\n                            "}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingExpertise}},[t._v("\n                        "+t._s(t.isSubmittingExpertise?""+t.$t("app.submitting"):t.$t("app.add"))+"\n                      ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelExpertiseForm()}}},[t._v(t._s(t.$t("app.cancel")))])],1)],1)])])])],1):t._e(),t._v(" "),a("b-table",{attrs:{data:t.getExpertise,paginated:!0,"per-page":5,"current-page":1,"pagination-simple":!0,"pagination-position":"bottom"}},[a("b-table-column",{attrs:{field:"expertise",label:t.$tc("app.expertise",1),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.expertise))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"yoe",label:t.$t("app.year_of_expe"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.yearOfExperience))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:t.$tc("app.action",2)},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:t.$t("app.edit_expertise"),type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:"expertise-id"+(t.getAttachmentDropperId===e.row.id?t.getAttachmentDropperId:""),disabled:!t.userOrPermission("update",t.getProfile.user_id)},on:{click:function(a){return t.openExpertiseDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:t.$t("app.delete"),type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash",disabled:!t.userOrPermission("delete",t.getProfile.user_id)},on:{click:function(a){return t.deleteHandler("expertise",e.row.id)}}})],1)],1)]}}])})],1)],1)])])]),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title"},[t._v(t._s(t.$tc("app.language",2)))])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t.userOrPermission("create",t.getProfile.user_id)?a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreportingmethod"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreportingmethod"}},[a("p",{staticClass:"card-header-title has-text-info"},[t._v("\n                  "+t._s(t.$t("app.add_language"))+"\n                ")]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{pack:"fas",type:"is-info",icon:e.open?"angle-down":"angle-up"}})],1)])}}],null,!1,2403258220),model:{value:t.isEditLanguage,callback:function(e){t.isEditLanguage=e},expression:"isEditLanguage"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addLanguage()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$tc("app.language",1),expanded:"",type:{"is-danger":t.qualificationsErrors.languages.language.length>0},message:t.qualificationsErrors.languages.language}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.languages.language,callback:function(e){t.$set(t.qualifications.languages,"language",e)},expression:"qualifications.languages.language"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.fluency"),expanded:"",type:{"is-danger":t.qualificationsErrors.languages.fluency.length>0},message:t.qualificationsErrors.languages.fluency}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.qualifications.languages.fluency,callback:function(e){t.$set(t.qualifications.languages,"fluency",e)},expression:"qualifications.languages.fluency"}},[a("option",{domProps:{value:t.$t("app.poor")}},[t._v("\n                              "+t._s(t.$t("app.poor"))+"\n                            ")]),t._v(" "),a("option",{domProps:{value:t.$t("app.good")}},[t._v("\n                              "+t._s(t.$t("app.good"))+"\n                            ")]),t._v(" "),a("option",{domProps:{value:t.$t("app.very_good")}},[t._v("\n                              "+t._s(t.$t("app.very_good"))+"\n                            ")]),t._v(" "),a("option",{domProps:{value:t.$t("app.mother_tongue")}},[t._v("\n                              "+t._s(t.$t("app.mother_tongue"))+"\n                            ")])])],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingLanguage}},[t._v("\n                        "+t._s(t.isSubmittingLanguage?""+t.$t("app.submitting"):t.$t("app.add"))+"\n                      ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelLanguageForm()}}},[t._v(t._s(t.$t("app.cancel")))])],1)],1)])])])],1):t._e(),t._v(" "),a("b-table",{attrs:{data:t.getLanguages,paginated:!0,"per-page":5,"current-page":1,"pagination-simple":!0,"pagination-position":"bottom"}},[a("b-table-column",{attrs:{field:"language",label:t.$tc("app.language",1),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.language))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"fluency",label:t.$t("app.fluency"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.fluency))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:t.$tc("app.action",2)},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:t.$t("app.edit_language"),type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:"language-id"+(t.getAttachmentDropperId===e.row.id?t.getAttachmentDropperId:""),disabled:!t.userOrPermission("update",t.getProfile.user_id)},on:{click:function(a){return t.openLanguageDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:t.$t("app.delete"),type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash",disabled:!t.userOrPermission("delete",t.getProfile.user_id)},on:{click:function(a){return t.deleteHandler("languages",e.row.id)}}})],1)],1)]}}])})],1)],1)])])]),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title"},[t._v("\n          "+t._s(t.$t("app.continuous_dev"))+"\n        ")])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t.userOrPermission("create",t.getProfile.user_id)?a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreportingmethod"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreportingmethod"}},[a("p",{staticClass:"card-header-title has-text-info"},[t._v("\n                  "+t._s(t.$t("app.add_continuous_dev"))+"\n                ")]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{pack:"fas",type:"is-info",icon:e.open?"angle-down":"angle-up"}})],1)])}}],null,!1,3950233307),model:{value:t.isEditContinuousDev,callback:function(e){t.isEditContinuousDev=e},expression:"isEditContinuousDev"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addContinuousDev()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.institution"),expanded:"",type:{"is-danger":t.qualificationsErrors.continuousDev.institution.length>0},message:t.qualificationsErrors.continuousDev.institution}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.continuousDev.institution,callback:function(e){t.$set(t.qualifications.continuousDev,"institution",e)},expression:"qualifications.continuousDev.institution"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.major_spec"),expanded:"",type:{"is-danger":t.qualificationsErrors.continuousDev.specialization.length>0},message:t.qualificationsErrors.continuousDev.specialization}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.continuousDev.specialization,callback:function(e){t.$set(t.qualifications.continuousDev,"specialization",e)},expression:"\n                              qualifications.continuousDev.specialization\n                            "}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.started"),expanded:"",type:{"is-danger":t.qualificationsErrors.continuousDev.started.length>0},message:t.qualificationsErrors.continuousDev.started}},[a("b-datepicker",{attrs:{type:"month",placeholder:t.$t("app.selectYear"),icon:"calendar","trap-focus":"",expanded:""},model:{value:t.qualifications.continuousDev.started,callback:function(e){t.$set(t.qualifications.continuousDev,"started",e)},expression:"qualifications.continuousDev.started"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:t.$t("app.completed"),expanded:"",type:{"is-danger":t.qualificationsErrors.continuousDev.completed.length>0},message:t.qualificationsErrors.continuousDev.completed}},[a("b-datepicker",{attrs:{type:"month",placeholder:t.$t("app.selectYear"),icon:"calendar","trap-focus":"",expanded:""},model:{value:t.qualifications.continuousDev.completed,callback:function(e){t.$set(t.qualifications.continuousDev,"completed",e)},expression:"qualifications.continuousDev.completed"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingContinuousDev}},[t._v("\n                        "+t._s(t.isSubmittingContinuousDev?""+t.$t("app.submitting"):t.$t("app.add"))+"\n                      ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelContinuousDevForm()}}},[t._v(t._s(t.$t("app.cancel")))])],1)],1)])])])],1):t._e(),t._v(" "),a("b-table",{attrs:{data:t.getContinuousDev,paginated:!0,"per-page":5,"current-page":1,"pagination-simple":!0,"pagination-position":"bottom","default-sort":"id","default-sort-direction":"desc"}},[a("b-table-column",{attrs:{field:"institution",label:t.$t("app.institution"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.institution))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"specialization",label:t.$t("app.specialization"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.specialization))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"started",label:t.$t("app.started"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.started?t.formatMonthYear(e.row.started):""))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"completed",label:t.$t("app.completed"),sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.completed?t.formatMonthYear(e.row.completed):"")+"\n            ")]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:t.$tc("app.action",2)},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:t.$t("app.edit_education"),type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:"continuous-dev-id"+(t.getAttachmentDropperId===e.row.id?t.getAttachmentDropperId:""),disabled:!t.userOrPermission("update",t.getProfile.user_id)},on:{click:function(a){return t.openContinuousDevDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:t.$t("app.delete"),type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash",disabled:!t.userOrPermission("delete",t.getProfile.user_id)},on:{click:function(a){return t.deleteHandler("continuousDev",e.row.id)}}})],1)],1)]}}])})],1)],1)])])]),t._v(" "),a("dropper",{ref:"educationDropper",staticClass:"dropper",attrs:{join:"#education-id"+t.getAttachmentDropperId,"z-index":9999},on:{"esc-keydown":t.closeEducationDropper,"other-area-clicked":t.closeEducationDropper}},[a("form",{staticStyle:{width:"30rem"},on:{submit:function(e){return e.preventDefault(),t.updateEducation()}}},[a("h3",{staticClass:"label text-main"},[t._v("Edit Educational Details")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("b-field",{attrs:{label:"Institution",expanded:"",type:{"is-danger":t.qualificationsErrors.education.institution.length>0},message:t.qualificationsErrors.education.institution}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.education.institution,callback:function(e){t.$set(t.qualifications.education,"institution",e)},expression:"qualifications.education.institution"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("b-field",{attrs:{label:"Major/Specialization",expanded:"",type:{"is-danger":t.qualificationsErrors.education.specialization.length>0},message:t.qualificationsErrors.education.specialization}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.education.specialization,callback:function(e){t.$set(t.qualifications.education,"specialization",e)},expression:"qualifications.education.specialization"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Started",expanded:"",type:{"is-danger":t.qualificationsErrors.education.started.length>0},message:t.qualificationsErrors.education.started}},[a("b-datepicker",{attrs:{type:"month",placeholder:t.$t("app.selectYear"),icon:"calendar","trap-focus":"",expanded:""},model:{value:t.qualifications.education.started,callback:function(e){t.$set(t.qualifications.education,"started",e)},expression:"qualifications.education.started"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Completed",expanded:"",type:{"is-danger":t.qualificationsErrors.education.completed.length>0},message:t.qualificationsErrors.education.completed}},[a("b-datepicker",{attrs:{type:"month",placeholder:t.$t("app.selectYear"),icon:"calendar","trap-focus":"",expanded:""},model:{value:t.qualifications.education.completed,callback:function(e){t.$set(t.qualifications.education,"completed",e)},expression:"qualifications.education.completed"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingEducation}},[t._v("\n          "+t._s(t.isSubmittingEducation?"Saving...":"Save")+"\n        ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.closeEducationDropper()}}},[t._v("Cancel")])],1)],1)]),t._v(" "),a("dropper",{ref:"continuousDevDropper",staticClass:"dropper",attrs:{join:"#continuous-dev-id"+t.getAttachmentDropperId,"z-index":999},on:{"esc-keydown":t.closeContinuousDevDropper,"other-area-clicked":t.closeContinuousDevDropper}},[a("form",{staticStyle:{width:"30rem"},on:{submit:function(e){return e.preventDefault(),t.updateContinuousDev()}}},[a("h3",{staticClass:"label text-main"},[t._v("Edit Continuous Development")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("b-field",{attrs:{label:"Institution",expanded:"",type:{"is-danger":t.qualificationsErrors.continuousDev.institution.length>0},message:t.qualificationsErrors.continuousDev.institution}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.continuousDev.institution,callback:function(e){t.$set(t.qualifications.continuousDev,"institution",e)},expression:"qualifications.continuousDev.institution"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-12"},[a("b-field",{attrs:{label:"Major/Specialization",expanded:"",type:{"is-danger":t.qualificationsErrors.continuousDev.specialization.length>0},message:t.qualificationsErrors.continuousDev.specialization}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.continuousDev.specialization,callback:function(e){t.$set(t.qualifications.continuousDev,"specialization",e)},expression:"qualifications.continuousDev.specialization"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Started",expanded:"",type:{"is-danger":t.qualificationsErrors.continuousDev.started.length>0},message:t.qualificationsErrors.continuousDev.started}},[a("b-datepicker",{attrs:{type:"month",placeholder:t.$t("app.selectYear"),icon:"calendar","trap-focus":"",expanded:""},model:{value:t.qualifications.continuousDev.started,callback:function(e){t.$set(t.qualifications.continuousDev,"started",e)},expression:"qualifications.continuousDev.started"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Completed",expanded:"",type:{"is-danger":t.qualificationsErrors.continuousDev.completed.length>0},message:t.qualificationsErrors.continuousDev.completed}},[a("b-datepicker",{attrs:{type:"month",placeholder:t.$t("app.selectYear"),icon:"calendar","trap-focus":"",expanded:""},model:{value:t.qualifications.continuousDev.completed,callback:function(e){t.$set(t.qualifications.continuousDev,"completed",e)},expression:"qualifications.continuousDev.completed"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingContinuousDev}},[t._v("\n          "+t._s(t.isSubmittingContinuousDev?"Saving...":"Save")+"\n        ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.closeContinuousDevDropper()}}},[t._v("Cancel")])],1)],1)]),t._v(" "),a("dropper",{ref:"expertiseDropper",staticClass:"dropper",attrs:{join:"#expertise-id"+t.getAttachmentDropperId,"z-index":9999},on:{"esc-keydown":t.closeExpertiseDropper,"other-area-clicked":t.closeExpertiseDropper}},[a("form",{staticStyle:{width:"30rem"},on:{submit:function(e){return e.preventDefault(),t.updateExpertise()}}},[a("h3",{staticClass:"label text-main"},[t._v("Edit Expertise")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Expertise",expanded:"",type:{"is-danger":t.qualificationsErrors.expertise.expertise.length>0},message:t.qualificationsErrors.expertise.expertise}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.expertise.expertise,callback:function(e){t.$set(t.qualifications.expertise,"expertise",e)},expression:"qualifications.expertise.expertise"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Years of experience",expanded:"",type:{"is-danger":t.qualificationsErrors.expertise.yearOfExperience.length>0},message:t.qualificationsErrors.expertise.yearOfExperience}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.expertise.yearOfExperience,callback:function(e){t.$set(t.qualifications.expertise,"yearOfExperience",e)},expression:"qualifications.expertise.yearOfExperience"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingExpertise}},[t._v("\n          "+t._s(t.isSubmittingExpertise?"Saving...":"Save")+"\n        ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.closeExpertiseDropper()}}},[t._v("Cancel")])],1)],1)]),t._v(" "),a("dropper",{ref:"languageDropper",staticClass:"dropper",attrs:{join:"#language-id"+t.getAttachmentDropperId,"z-index":9999},on:{"esc-keydown":t.closeLanguageDropper,"other-area-clicked":t.closeLanguageDropper}},[a("form",{staticStyle:{width:"30rem"},on:{submit:function(e){return e.preventDefault(),t.updateLanguage()}}},[a("h3",{staticClass:"label text-main"},[t._v("Edit Language")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Language",expanded:"",type:{"is-danger":t.qualificationsErrors.languages.language.length>0},message:t.qualificationsErrors.languages.language}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.qualifications.languages.language,callback:function(e){t.$set(t.qualifications.languages,"language",e)},expression:"qualifications.languages.language"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Fluency",expanded:"",type:{"is-danger":t.qualificationsErrors.languages.fluency.length>0},message:t.qualificationsErrors.languages.fluency}},[a("b-select",{attrs:{size:"",expanded:""},model:{value:t.qualifications.languages.fluency,callback:function(e){t.$set(t.qualifications.languages,"fluency",e)},expression:"qualifications.languages.fluency"}},[a("option",{domProps:{value:t.$t("app.poor")}},[t._v("\n                "+t._s(t.$t("app.poor"))+"\n              ")]),t._v(" "),a("option",{domProps:{value:t.$t("app.good")}},[t._v("\n                "+t._s(t.$t("app.good"))+"\n              ")]),t._v(" "),a("option",{domProps:{value:t.$t("app.very_good")}},[t._v("\n                "+t._s(t.$t("app.very_good"))+"\n              ")]),t._v(" "),a("option",{domProps:{value:t.$t("app.mother_tongue")}},[t._v("\n                "+t._s(t.$t("app.mother_tongue"))+"\n              ")])])],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingLanguage}},[t._v("\n          "+t._s(t.isSubmittingLanguage?"Saving...":"Save")+"\n        ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.closeLanguageDropper()}}},[t._v("Cancel")])],1)],1)])],1)}),[],!1,null,"21f49bad",null).exports;function z(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function N(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var R={name:"ReportToDetails",computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?z(Object(a),!0).forEach((function(e){N(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(l.c)(["getProfile","getMyLeaders"])),created:function(){},data:function(){return{}},methods:{getFullName:function(t){return"".concat(this.isNull(t.title)," ").concat(t.firstName," ").concat(this.isNull(t.middleName)," ").concat(t.lastName)}}},U={name:"ProfileComponent",components:{PersonalDetails:m,ContactDetails:C,EmergencyContactDetails:x,JobDetails:A,QualificationDetails:T,ReportToDetails:Object(v.a)(R,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("div",{staticClass:"profile-detail-bar"},[a("p",{staticClass:"p-text"},[t._v(t._s(t.$t("app.report_to_cta")))])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("h5",{staticClass:"text-main"},[t._v(t._s(t.$t("app.report_to")))]),t._v(" "),t.getMyLeaders.hods.length>0?a("div",{staticClass:"mb-3"},t._l(t.getMyLeaders.hods,(function(e,s){return a("div",{key:s},[t.getProfile.department_id===e.department_id?[a("article",{staticClass:"leader__details"},[a("p",{staticClass:"report_to_text"},[t._v("\n                      "+t._s(t.getFullName({title:e.title,lastName:e.lastName,firstName:e.firstName,middleName:e.middleName}))+"\n                      "),a("span",{staticClass:"report_to_label"},[t._v(t._s(t.$t("app.name")))])]),t._v(" "),e.mobile?a("p",{staticClass:"report_to_text"},[t._v("\n                      "+t._s(e.mobile)+"\n                      "),a("span",{staticClass:"report_to_label"},[t._v(t._s(t.$t("app.mobile")))])]):t._e()])]:t._e()],2)})),0):t._e(),t._v(" "),t.getMyLeaders.supervisors.length>0?a("div",{},t._l(t.getMyLeaders.supervisors,(function(e,s){return a("div",{key:s},[t.getProfile.unit_id===e.unit_id?[a("article",{staticClass:"leader__details"},[a("p",{staticClass:"report_to_text"},[t._v("\n                      "+t._s(t.getFullName({title:e.title,lastName:e.lastName,firstName:e.firstName,middleName:e.middleName}))+"\n                      "),a("span",{staticClass:"report_to_label"},[t._v(t._s(t.$t("app.name")))])]),t._v(" "),e.mobile?a("p",{staticClass:"report_to_text"},[t._v("\n                      "+t._s(e.mobile)+"\n                      "),a("span",{staticClass:"report_to_label"},[t._v(t._s(t.$t("app.mobile")))])]):t._e()])]:t._e()],2)})),0):t._e(),t._v(" "),t.getMyLeaders.directorates.length>0?a("div",[t._l(t.getMyLeaders.directorates,(function(e,s){return[t.arrayIntersec(JSON.parse(t.$page.props.authUser.roles),JSON.parse(e.roles))?t._e():a("article",{key:s,staticClass:"leader__details"},[a("p",{staticClass:"report_to_text"},[t._v("\n                    "+t._s(t.getFullName({title:e.title,lastName:e.lastName,firstName:e.firstName,middleName:e.middleName}))+"\n                    "),a("span",{staticClass:"report_to_label"},[t._v(t._s(t.$t("app.name")))])]),t._v(" "),e.mobile?a("p",{staticClass:"report_to_text"},[t._v("\n                    "+t._s(e.mobile)+"\n                    "),a("span",{staticClass:"report_to_label"},[t._v(t._s(t.$t("app.mobile")))])]):t._e()])]}))],2):t._e()]),t._v(" "),t.$page.props.authUser.report_to_staff&&JSON.parse(t.$page.props.authUser.report_to_staff).length?a("div",{staticClass:"column is-6"},[a("h5",{staticClass:"text-main"},[t._v(t._s(t.$t("app.report_to_me")))]),t._v(" "),t.getMyLeaders.reportToMe.length>0?a("div",{staticClass:"mb-3"},t._l(t.getMyLeaders.reportToMe,(function(e,s){return a("div",{key:s},[a("article",{staticClass:"leader__details"},[a("p",{staticClass:"report_to_text"},[t._v("\n                    "+t._s(t.getFullName({title:e.title,lastName:e.lastName,firstName:e.firstName,middleName:e.middleName}))+"\n                    "),a("span",{staticClass:"report_to_label"},[t._v(t._s(t.$t("app.name")))])]),t._v(" "),e.mobile?a("p",{staticClass:"report_to_text"},[t._v("\n                    "+t._s(e.mobile)+"\n                    "),a("span",{staticClass:"report_to_label"},[t._v(t._s(t.$t("app.mobile")))])]):t._e()])])})),0):t._e()]):t._e()])])])])])}),[],!1,null,null,null).exports},computed:{},beforeMount:function(){},created:function(){},data:function(){return{}},methods:{}},F=(a(132),Object(v.a)(U,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"staff__profile"},[a("b-tabs",{attrs:{type:"is-toggle",size:"",animated:!1,expanded:""}},[a("b-tab-item",{attrs:{label:t.$t("app.personal_details")}},[a("PersonalDetails")],1),t._v(" "),a("b-tab-item",{attrs:{label:t.$t("app.contact_details")}},[a("ContactDetails")],1),t._v(" "),a("b-tab-item",{attrs:{label:t.$t("app.emergency_contacts")}},[a("EmergencyContactDetails")],1),t._v(" "),a("b-tab-item",{attrs:{label:t.$t("app.job")}},[a("JobDetails")],1),t._v(" "),a("b-tab-item",{attrs:{label:t.$tc("app.qualification",2)}},[a("QualificationDetails")],1),t._v(" "),a("b-tab-item",{attrs:{label:t.$t("app.report_to1")}},[a("ReportToDetails")],1)],1)],1)}),[],!1,null,"0dba6599",null).exports);function L(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function M(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?L(Object(a),!0).forEach((function(e){J(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function J(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var B={name:"MyLeaveComponent",computed:M(M({},Object(l.c)(["getLeaves","getPersonalDetails","getAuthUser","getLeaveBalance","getProfile","getMyLeaveRequest"])),{},{authUserLeaves:function(){var t=this,e=[];return this.getLeaveBalance.forEach((function(a){a.user_id===t.getAuthUser.id&&(e=a.entitlement)})),e},newBalance:function(){return+(Math.round(this.leaveRequest.availableBalance-this.leaveRequest.total+"e+2")+"e-2")}}),created:function(){var t=this;this.fetchLeaves(),this.fetchLeaveBalance(),this.fetchMyLeaveRequest(),this.$watch((function(){return t.leaveRequest.leaveType}),(function(e){var a=t.authUserLeaves.find((function(t){return t.name===e}));t.leaveRequest.availableBalance=+(Math.round(a.accrual+"e+2")+"e-2"),t.leaveCount=a.leaveCount})),this.$watch((function(){return t.leaveRequest.from}),(function(e){t.leaveRequest.total=t.formatDurationInDay(e,t.leaveRequest.to)})),this.$watch((function(){return t.leaveRequest.to}),(function(e){t.leaveRequest.total=t.formatDurationInDay(t.leaveRequest.from,e)}))},mounted:function(){},data:function(){return{isPaginated:!0,isPaginationSimple:!0,paginationPosition:"bottom",defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,isSubmittingApplyLeave:!1,isToggleApplyLeaveForm:!1,leaveCount:void 0,insufficientBalanceError:"",leaveRequest:{leaveType:"",from:new Date,to:new Date,total:"",newBalance:void 0,availableBalance:void 0,reason:""}}},methods:M(M({},Object(l.b)(["fetchLeaves","fetchLeaveBalance","fetchMyLeaveRequest"])),{},{applyLeave:function(){var t=this;this.isSubmittingApplyLeave=!0,this.leaveRequest.newBalance=this.newBalance,this.leaveRequest.availableBalance>=this.leaveCount?(this.leaveRequest.newBalance=this.newBalance,this.$axios.post("/dashboard/add-leave-request",this.leaveRequest).then((function(e){t.fetchMyLeaveRequest(),setTimeout((function(){t.toast("Request sent successfully","is-dark")}),1e3)})).catch((function(e){422===e.response.status&&console.log(e.response.data.errors),t.isSubmittingApplyLeave=!1}))):(this.insufficientBalanceError="In sufficient leave balance, ".concat(this.leaveCount," days or more is required to make the request"),setTimeout((function(){t.insufficientBalanceError="",t.isSubmittingApplyLeave=!1}),5e3))},cancelApplyLeaveFrom:function(){this.isToggleApplyLeaveForm=!this.isToggleApplyLeaveForm}})},V=Object(v.a)(B,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"content__split__right__tabs__myleave"},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{open:!0,animation:"slide","aria-id":"myleavelist"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"myleavelist"}},[a("p",{staticClass:"card-header-title"},[t._v("Leave Requests")]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{pack:"fas",icon:e.open?"caret-down":"caret-up"}})],1)])}}])},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"content__split__right__tabs__myleave"},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"myleave"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"myleave"}},[a("p",{staticClass:"card-header-title"},[t._v("\n                      Appy Leave Â \n                      "),t.insufficientBalanceError?a("span",{staticClass:"message is-danger"},[a("span",{staticClass:"message-body",staticStyle:{padding:".3rem 1rem"}},[t._v(t._s(t.insufficientBalanceError))])]):t._e()]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{pack:"fas",icon:e.open?"caret-down":"caret-up"}})],1)])}}]),model:{value:t.isToggleApplyLeaveForm,callback:function(e){t.isToggleApplyLeaveForm=e},expression:"isToggleApplyLeaveForm"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-7"},[a("form",{staticClass:"leave__type__form",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.applyLeave()}}},[a("section",[a("b-field",{attrs:{label:"Select Leave Type:",horizontal:""}},[a("b-select",{attrs:{size:"is-small",expanded:""},model:{value:t.leaveRequest.leaveType,callback:function(e){t.$set(t.leaveRequest,"leaveType",e)},expression:"leaveRequest.leaveType"}},t._l(t.authUserLeaves,(function(e){return a("option",{key:e.id,domProps:{value:e.name}},[t._v(t._s(e.name))])})),0)],1),t._v(" "),a("b-field",{attrs:{label:"Date:",horizontal:""}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"From"}},[a("b-datepicker",{attrs:{size:"is-small",pack:"fas",icon:"calendar"},model:{value:t.leaveRequest.from,callback:function(e){t.$set(t.leaveRequest,"from",e)},expression:"leaveRequest.from"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"to"}},[a("b-datepicker",{attrs:{size:"is-small",pack:"fas",icon:"calendar"},model:{value:t.leaveRequest.to,callback:function(e){t.$set(t.leaveRequest,"to",e)},expression:"leaveRequest.to"}})],1)],1)])]),t._v(" "),a("b-field",{attrs:{label:"Total:",horizontal:""}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-input",{attrs:{size:"is-small",expanded:"",value:"1",disabled:"true"},model:{value:t.leaveRequest.total,callback:function(e){t.$set(t.leaveRequest,"total",e)},expression:"leaveRequest.total"}})],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("p",[t._v("day(s)")])])])]),t._v(" "),a("b-field",{attrs:{label:"Reason:",horizontal:""}},[a("b-input",{attrs:{type:"textarea",size:"is-small",expanded:""},model:{value:t.leaveRequest.reason,callback:function(e){t.$set(t.leaveRequest,"reason",e)},expression:"leaveRequest.reason"}})],1)],1),t._v(" "),a("section",{staticClass:"mt-5"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit"}},[t._v(t._s(t.isSubmittingApplyLeave?"Submitting...":"Add"))]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button"},on:{click:function(e){return t.cancelApplyLeaveFrom()}}},[t._v("Close")])])])]),t._v(" "),a("div",{staticClass:"column is-5"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"content",staticStyle:{"font-size":".75rem"}},[a("div",{staticClass:"columns",staticStyle:{"margin-bottom":"-1.2rem"}},[a("div",{staticClass:"column is-10"},[a("b",[t._v("As of "+t._s(t.formatDate2(new Date)))])]),t._v(" "),a("div",{staticClass:"column is-2"},[a("b",[t._v("Day(s)")])])]),t._v(" "),a("div",{staticClass:"columns",staticStyle:{"margin-bottom":"-1.2rem"}},[a("div",{staticClass:"column is-10"},[a("p",[t._v("Available balance")])]),t._v(" "),a("div",{staticClass:"column is-2"},[a("p",[t._v(t._s(t.leaveRequest.availableBalance))])])]),t._v(" "),a("div",{staticClass:"columns",staticStyle:{"margin-bottom":"-1.2rem"}},[a("div",{staticClass:"column is-10"},[a("p",[t._v("Currently booked")])]),t._v(" "),a("div",{staticClass:"column is-2"},[a("p",[t._v(t._s(t.leaveRequest.total))])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-10"},[a("p",[t._v("New balance")])]),t._v(" "),a("div",{staticClass:"column is-2"},[a("p",[t._v(t._s(t.newBalance?t.newBalance:""))])])])])])])])])])])])],1)]),t._v(" "),a("section",[a("b-table",{attrs:{data:t.getMyLeaveRequest,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"pagination-position":t.paginationPosition,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"default-sort":"date","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"}},[a("b-table-column",{attrs:{field:"date",label:"Date",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"tag"},[t._v(t._s(t.formatDateShort2(e.row.from)+" - "+t.formatDateShort2(e.row.to)))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"type",label:"Type",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"is-capitalized"},[t._v(t._s(e.row.type))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"accrual",label:"Days",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"is-capitalized"},[t._v(t._s(e.row.days))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"accrual",label:"New Balance",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"is-capitalized"},[t._v(t._s(e.row.new_balance))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"accrual",label:"Old Balance",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"is-capitalized"},[t._v(t._s(e.row.prev_balance))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"accrual",label:"Reason",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"is-capitalized"},[t._v(t._s(null!==e.row.reason?e.row.reason.substring(0,25)+"...":""))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"accrual",label:"Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"is-capitalized tag",class:t.leaveRequestStatus(e.row.status)},[t._v(t._s(e.row.status))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"}},[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Cancel",type:"is-dark"}},[a("b-button",{staticClass:"is-default is-light",attrs:{size:"is-small",pack:"fas","icon-right":"times"}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"}})],1)],1)])],1)],1)])])])],1)])])}),[],!1,null,"85b99d3a",null).exports;function Y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Q(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(a),!0).forEach((function(e){G(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function G(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var H={name:"MyEntitlementComponent",computed:Q(Q({},Object(l.c)(["getLeaves","getLeaveBalance","getAuthUser"])),{},{authUserLeaves:function(){var t=this,e=[];return this.getLeaveBalance.forEach((function(a){a.user_id===t.getAuthUser.id&&(e=a.entitlement)})),e}}),created:function(){this.fetchLeaves(),this.fetchLeaveBalance()},data:function(){return{isPaginated:!0,isPaginationSimple:!0,paginationPosition:"bottom",defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5}},methods:Q({},Object(l.b)(["fetchLeaves","fetchLeaveBalance"]))},K=(a(134),Object(v.a)(H,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"content__split__right__tabs__myleave"},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"myentitlements"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"myentitlements"}},[a("p",{staticClass:"card-header-title"},[t._v("My Entitlements")]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{pack:"fas",icon:e.open?"caret-down":"caret-up"}})],1)])}}])},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("b-table",{attrs:{data:t.authUserLeaves,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"pagination-position":t.paginationPosition,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"default-sort":"name","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"}},[a("b-table-column",{attrs:{field:"name",label:"Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"type",label:"Type",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"is-capitalized"},[t._v(t._s(e.row.type))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"accrual",label:"Accrual",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"is-capitalized"},[t._v(t._s(e.row.accrual))])]}}])})],1)],1)])])],1)]),t._v(" "),a("div",{staticClass:"content__split__right__tabs__myleave"},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{open:!1,animation:"slide","aria-id":"entitlements"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"entitlements"}},[a("p",{staticClass:"card-header-title"},[t._v("Entitlements")]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{pack:"fas",icon:e.open?"caret-down":"caret-up"}})],1)])}}])},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("b-table",{attrs:{data:t.getLeaves,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"pagination-position":t.paginationPosition,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"default-sort":"name","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"}},[a("b-table-column",{attrs:{field:"name",label:"Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"type",label:"Type",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"is-capitalized"},[t._v(t._s(e.row.type))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"count",label:"Minimum Leave",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.leave_count+" "+e.row.unit))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"role",label:"Role",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"is-capitalized"},[t._v(t._s(e.row.applicable.role))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"gender",label:"Gender",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"is-capitalized"},[t._v(t._s(e.row.applicable.gender))])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"maritalStatus",label:"Marital Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"is-capitalized"},[t._v(t._s(e.row.applicable.maritalStatus))])]}}])})],1)],1)])])],1)])])}),[],!1,null,"72e01fa9",null).exports),X=a(3),W=a(22);function Z(t,e,a,s,i,n,r){try{var o=t[n](r),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(s,i)}function tt(t){return function(){var e=this,a=arguments;return new Promise((function(s,i){var n=t.apply(e,a);function r(t){Z(n,s,i,r,o,"next",t)}function o(t){Z(n,s,i,r,o,"throw",t)}r(void 0)}))}}function et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function at(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var st={name:"RequestFormModal",props:{request:{require:!0,type:Object}},components:{VueHtml2pdf:W.a},watch:{currentRequest:function(t){t.dpt_unit_approval&&this.getRquestApproval(t.dpt_unit_approval.name),t.it_approval&&this.getRquestApprovalIT(t.it_approval.name)}},created:function(){var t=this;this.$nextTick((function(){t.currentRequest=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?et(Object(a),!0).forEach((function(e){at(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):et(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t.request)}))},data:function(){return{currentRequest:null,itDptName:"",leaderName:"",generatingPdf:!1}},methods:{cancelModal:function(){this.$emit("close")},generateReport:function(){this.$refs.html2Pdf.generatePdf()},getFullName:function(t){return"".concat(this.isNull(t.title)," ").concat(t.firstName," ").concat(this.isNull(t.middleName)," ").concat(t.lastName)},getRquestApproval:function(t){var e=this;return tt(i.a.mark((function a(){var s,n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$axios.get("/dashboard/get-request-approval-name/".concat(t));case 3:s=a.sent,n=s.data,e.leaderName=e.getFullName(n.name),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()},getRquestApprovalIT:function(t){var e=this;return tt(i.a.mark((function a(){var s,n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$axios.get("/dashboard/get-request-approval-name/".concat(t));case 3:s=a.sent,n=s.data,e.itDptName=e.getFullName(n.name),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},it=Object(v.a)(st,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card py-4",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("h4",{staticClass:"modal-card-title text-main label pt-2"},[t._v("Request Form")]),t._v(" "),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.cancelModal()}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"request__wrapper"},[t._m(0),t._v(" "),a("h1",{staticClass:"request__wrapper__title"},[t._v("IT Equipment Request Form")]),t._v(" "),a("div",{staticClass:"request__wrapper__form"},[a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n          Section A: Staff Information\n        ")]),t._v(" "),a("div",{staticClass:"\n            request__wrapper__form__staff request__wrapper__form--section\n          "},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(1),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.getFullName(t.request)))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(2),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.position))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(3),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.email))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[t.$page.props.authUser.department_id?a("h6",[t._v("\n                    Department\n                  ")]):t._e(),t._v(" "),t.$page.props.authUser.unit_id?a("h6",[t._v("Unit")]):t._e(),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[t.$page.props.authUser.department_id?a("span",[t._v(t._s(t.request.department))]):t._e(),t._v(" "),t.$page.props.authUser.unit_id?a("span",[t._v(t._s(t.request.unit))]):t._e()])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(4),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.formatDate(t.request.created_at)))])])])])])]),t._v(" "),a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n          Section B: Request Details\n        ")]),t._v(" "),a("div",{staticClass:"request__wrapper__form__info request__wrapper__form--section"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(5),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.details.category||""))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(6),t._v(" "),a("div",{staticClass:"text__line"},[t.request.details.otherType?a("span",[t._v(t._s(t.request.details.otherType||""))]):a("span",[t._v(t._s(t.request.details.type||""))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(7),t._v(" "),a("div",{staticClass:"text__line"},[t.request.details.otherItem?a("span",[t._v(t._s(t.request.details.otherItem||""))]):a("span",[t._v(t._s(t.request.details.item||""))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(8),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.details.quantity||""))])])])])])]),t._v(" "),a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n          Section C: Approval & Authorization\n        ")]),t._v(" "),a("div",{staticClass:"\n            request__wrapper__form__approval request__wrapper__form--section\n          "},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.leaderName))])]),t._v(" "),t._m(9)])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.request.dpt_unit_approval?t.request.dpt_unit_approval.initials:""))])]),t._v(" "),t._m(10)])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.request.dpt_unit_approval?t.formatDate(t.request.dpt_unit_approval.date):""))])]),t._v(" "),t._m(11)])])])]),t._v(" "),a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n          Section D: Digital & IT DEPT use Only\n        ")]),t._v(" "),a("div",{staticClass:"request__wrapper__form__it request__wrapper__form--section"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(12),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.it_approval?t.request.it_approval.status:""))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(13),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.it_approval?t.request.it_approval.reason:""))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(14),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.it_approval?t.request.it_approval.supplier:""))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(15),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.it_approval?t.request.it_approval.availability:""))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.itDptName))])]),t._v(" "),t._m(16)])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.request.it_approval?t.request.it_approval.initials:""))])]),t._v(" "),t._m(17)])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.request.it_approval?t.formatDate(t.request.it_approval.date):""))])]),t._v(" "),t._m(18)])])])])]),t._v(" "),a("div",{staticClass:"request__wrapper__trademark"},[t._v("A.D.U | digital and IT")])]),t._v(" "),a("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!1,"preview-modal":!0,"paginate-elements-by-height":1400,filename:"Equipment Request Form","pdf-quality":1,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"100%"}},[a("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[a("div",{staticClass:"request__wrapper print__document"},[a("div",{staticClass:"request__wrapper__logo"},[a("img",{attrs:{src:"/storage/logo/A.D.U. logo.png",alt:"",srcset:""}})]),t._v(" "),a("h1",{staticClass:"request__wrapper__title"},[t._v("IT Equipment Request Form")]),t._v(" "),a("div",{staticClass:"request__wrapper__form"},[a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n              Section A: Staff Information\n            ")]),t._v(" "),a("div",{staticClass:"\n                request__wrapper__form__staff request__wrapper__form--section\n              "},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Request By")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.getFullName(t.request)))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Position")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.position))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Email")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.email))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[t.$page.props.authUser.department_id?a("h6",[t._v("\n                        Department\n                      ")]):t._e(),t._v(" "),t.$page.props.authUser.unit_id?a("h6",[t._v("Unit")]):t._e(),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[t.$page.props.authUser.department_id?a("span",[t._v(t._s(t.request.department))]):t._e(),t._v(" "),t.$page.props.authUser.unit_id?a("span",[t._v(t._s(t.request.unit))]):t._e()])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Date")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.formatDate(t.request.created_at)))])])])])])]),t._v(" "),a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n              Section B: Request Details\n            ")]),t._v(" "),a("div",{staticClass:"\n                request__wrapper__form__info request__wrapper__form--section\n              "},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Category")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.details.category||""))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Type")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[t.request.details.otherType?a("span",[t._v(t._s(t.request.details.otherType||""))]):a("span",[t._v(t._s(t.request.details.type||""))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Item")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[t.request.details.otherItem?a("span",[t._v(t._s(t.request.details.otherItem||""))]):a("span",[t._v(t._s(t.request.details.item||""))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Quantity")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.details.quantity||""))])])])])])]),t._v(" "),a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n              Section C: Approval & Authorization\n            ")]),t._v(" "),a("div",{staticClass:"\n                request__wrapper__form__approval\n                request__wrapper__form--section\n              "},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.leaderName))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Director/VP")])])])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.request.dpt_unit_approval?t.request.dpt_unit_approval.initials:""))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Sginature/Initials")])])])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.request.dpt_unit_approval?t.formatDate(t.request.dpt_unit_approval.date):""))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Date")])])])])])]),t._v(" "),a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n              Section D: Digital & IT DEPT use Only\n            ")]),t._v(" "),a("div",{staticClass:"\n                request__wrapper__form__it request__wrapper__form--section\n              "},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Status")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.it_approval?t.request.it_approval.status:""))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Reason")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.it_approval?t.request.it_approval.reason:""))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Supplier")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.it_approval?t.request.it_approval.supplier:""))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Availability")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.request.it_approval?t.request.it_approval.availability:""))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.itDptName))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Digital and IT")])])])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.request.it_approval?t.request.it_approval.initials:""))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Sginature/Initials")])])])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.request.it_approval?t.formatDate(t.request.it_approval.date):""))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Date")])])])])])])]),t._v(" "),a("div",{staticClass:"request__wrapper__trademark"},[t._v("\n            A.D.U | digital and IT\n          ")])])])])],1),t._v(" "),a("footer",{staticClass:"modal-card-foot buttons"},[a("b-button",{staticClass:"is-dark is-light",on:{click:function(e){return t.generateReport()}}},[t._v("Print PDF")]),t._v(" "),a("b-button",{staticClass:"is-dark is-light",on:{click:function(e){return t.cancelModal()}}},[t._v("Close")])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"request__wrapper__logo"},[e("img",{attrs:{src:"/storage/logo/A.D.U. logo.png",alt:"",srcset:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Request By")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Position")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Email")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Date")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Category")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Type")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Item")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Quantity")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Director/VP")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Sginature/Initials")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Date")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Status")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Reason")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Supplier")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Availability")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Digital and IT")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Sginature/Initials")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Date")])])}],!1,null,"404c2340",null).exports;function nt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function rt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(a),!0).forEach((function(e){ot(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):nt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ot(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var lt={name:"MyRequestComponent",components:{Paginate:X.a,RequestFormModal:it},computed:rt(rt({},Object(l.c)(["getMyEquipmentRequests"])),{},{getRequestId:function(){return this.requestId}}),mounted:function(){var t=this;this.isLoading=!0,this.$nextTick((function(){t.getMyEquipmentRequests.data.length>0?t.isLoading=!1:setTimeout((function(){t.isLoading=!1,t.noRequestFound=!0}),1e3)})),this.$watch((function(){return t.request.type}),(function(e){t.showOtherType=!(!e||"other"!==e)})),this.$watch((function(){return t.request.item}),(function(e){t.showOtherItem=!(!e||"other"!==e)}))},data:function(){return{defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",noRequestFound:!1,isLoading:!1,requestId:"",showOtherType:!1,showOtherItem:!1,toggleRequestForm:!1,isSubmitting:!1,checkedRequests:[],request:{category:"",type:"",otherType:"",item:"",otherItem:"",quantity:1,purpose:""},requestErrors:{category:[],type:[],otherType:[],item:[],otherItem:[],quantity:[],purpose:[]}}},methods:rt(rt({},Object(l.b)(["dispatchEquipmentRequest"])),{},{openEditRequestDropper:function(t){var e=this.$refs.requestDropper;this.requestId=t.id,e&&(this.request={category:t.details.category,type:t.details.type,otherType:t.details.otherType,item:t.details.item,otherItem:t.details.otherItem,quantity:t.details.quantity,purpose:t.details.purpose},e.open())},closeEditRequestDropper:function(){var t=this,e=this.$refs.requestDropper;e&&(e.close(),this.$nextTick((function(){t.cancelRequestForm()})))},addRequest:function(){var t=this;this.isSubmitting=!0,this.setRequestErrors(),this.$axios.post("/dashboard/add-equipment-request",this.request).then((function(e){t.isSubmitting=!1,201===e.status&&(t.clearRequestForm(),t.dispatchEquipmentRequest({type:"ADD_MY_REQUEST",payload:e.data}),t.snackbar("Request sumitted successfully","is-dark"))})).catch((function(e){t.isSubmitting=!1,422===e.response.status&&t.setRequestErrors(e.response.data.errors)}))},updateRequest:function(){var t=this;this.isSubmitting=!0,this.setRequestErrors(),this.$axios.put("/dashboard/edit-equipment-request/".concat(this.getRequestId),this.request).then((function(e){t.isSubmitting=!1,200===e.status&&e.data.updated&&(t.closeEditRequestDropper(),t.dispatchEquipmentRequest({type:"UPDATE_MY_REQUEST",payload:e.data.request}),t.snackbar("Request updated successfully","is-dark"))})).catch((function(e){t.isSubmitting=!1,422===e.response.status&&t.setRequestErrors(e.response.data.errors)}))},setRequestErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.requestErrors={category:t.category||[],type:t.type||[],otherType:t.otherType||[],item:t.item||[],otherItem:t.otherItem||[],quantity:t.quantity||[],purpose:t.purpose||[]}},clearRequestForm:function(){this.request={category:"",type:"",otherType:"",item:"",otherItem:"",quantity:1,purpose:""}},cancelRequestForm:function(){var t=this;this.toggleRequestForm=!1,this.$nextTick((function(){t.setRequestErrors(),t.clearRequestForm()}))},viewRequestForm:function(t){this.$buefy.modal.open({parent:this,component:it,hasModalCard:!0,trapFocus:!0,fullScreen:!0,canCancel:["escape"],props:{request:t}})}})},ct=Object(v.a)(lt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreason"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreason"}},[a("p",{staticClass:"card-header-title"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:"plus"}}),t._v(" "),a("span",{staticClass:"has-text-info"},[t._v("Add New Request")])],1),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}]),model:{value:t.toggleRequestForm,callback:function(e){t.toggleRequestForm=e},expression:"toggleRequestForm"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addRequest()}}},[a("div",{staticStyle:{width:"50%"}},[a("b-field",{attrs:{label:"Category",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.requestErrors.category.length},message:t.requestErrors.category}},[a("b-radio",{attrs:{name:"category",type:"is-info","native-value":"New Equipment",size:""},model:{value:t.request.category,callback:function(e){t.$set(t.request,"category",e)},expression:"request.category"}},[t._v("New Equipment")]),t._v(" "),a("b-radio",{attrs:{name:"category",type:"is-info","native-value":"Upgrade Existing",size:""},model:{value:t.request.category,callback:function(e){t.$set(t.request,"category",e)},expression:"request.category"}},[t._v("Upgrade Existing")]),t._v(" "),a("b-radio",{attrs:{name:"category",type:"is-info","native-value":"Replacement",size:""},model:{value:t.request.category,callback:function(e){t.$set(t.request,"category",e)},expression:"request.category"}},[t._v("Replacement")])],1)],1),t._v(" "),a("b-field",{attrs:{label:"Type",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.requestErrors.type.length},message:t.requestErrors.type}},[a("b-radio",{attrs:{name:"type",type:"is-info","native-value":"Hardware",size:""},model:{value:t.request.type,callback:function(e){t.$set(t.request,"type",e)},expression:"request.type"}},[t._v("Hardware")]),t._v(" "),a("b-radio",{attrs:{name:"type",type:"is-info","native-value":"Software",size:""},model:{value:t.request.type,callback:function(e){t.$set(t.request,"type",e)},expression:"request.type"}},[t._v("Software")]),t._v(" "),a("b-radio",{attrs:{name:"type",type:"is-info","native-value":"Infrastructure",size:""},model:{value:t.request.type,callback:function(e){t.$set(t.request,"type",e)},expression:"request.type"}},[t._v("Infrastructure")]),t._v(" "),a("b-radio",{attrs:{name:"type",type:"is-info","native-value":"other",size:""},model:{value:t.request.type,callback:function(e){t.$set(t.request,"type",e)},expression:"request.type"}},[t._v("Other")])],1)],1),t._v(" "),t.showOtherType?a("b-field",{attrs:{label:"Other Type",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.requestErrors.otherType.length},message:t.requestErrors.otherType}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.request.otherType,callback:function(e){t.$set(t.request,"otherType",e)},expression:"request.otherType"}})],1)],1):t._e(),t._v(" "),a("b-field",{attrs:{label:"Item",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.requestErrors.item.length},message:t.requestErrors.item}},[a("b-radio",{attrs:{name:"item",type:"is-info","native-value":"Laptop",size:""},model:{value:t.request.item,callback:function(e){t.$set(t.request,"item",e)},expression:"request.item"}},[t._v("Laptop")]),t._v(" "),a("b-radio",{attrs:{name:"item",type:"is-info","native-value":"Extension Cord",size:""},model:{value:t.request.item,callback:function(e){t.$set(t.request,"item",e)},expression:"request.item"}},[t._v("Extension Cord")]),t._v(" "),a("b-radio",{attrs:{name:"item",type:"is-info","native-value":"Projector",size:""},model:{value:t.request.item,callback:function(e){t.$set(t.request,"item",e)},expression:"request.item"}},[t._v("Projector")]),t._v(" "),a("b-radio",{attrs:{name:"item",type:"is-info","native-value":"other",size:""},model:{value:t.request.item,callback:function(e){t.$set(t.request,"item",e)},expression:"request.item"}},[t._v("Other")])],1)],1),t._v(" "),t.showOtherItem?a("b-field",{attrs:{label:"Other Item",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.requestErrors.otherItem.length},message:t.requestErrors.otherItem}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.request.otherItem,callback:function(e){t.$set(t.request,"otherItem",e)},expression:"request.otherItem"}})],1)],1):t._e(),t._v(" "),a("b-field",{attrs:{label:"Quantity",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.requestErrors.quantity.length},message:t.requestErrors.quantity}},[a("b-numberinput",{attrs:{"controls-alignment":"right","controls-position":"compact",min:1,type:"is-light",expanded:""},model:{value:t.request.quantity,callback:function(e){t.$set(t.request,"quantity",e)},expression:"request.quantity"}})],1)],1),t._v(" "),a("b-field",{attrs:{label:"Purpose",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.requestErrors.purpose.length},message:t.requestErrors.purpose}},[a("b-input",{attrs:{type:"textarea"},model:{value:t.request.purpose,callback:function(e){t.$set(t.request,"purpose",e)},expression:"request.purpose"}})],1)],1)],1),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmitting}},[t._v("\n                "+t._s(t.isSubmitting?"Submitting...":"Submit")+"\n              ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelRequestForm()}}},[t._v("Cancel")])],1)],1)])])])],1),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("b-table",{attrs:{data:t.getMyEquipmentRequests.data,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,loading:t.isLoading,"checked-rows":t.checkedRequests,striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.checkedRequests=e},"update:checked-rows":function(e){t.checkedRequests=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("paginate",{attrs:{state:t.getMyEquipmentRequests,dispatch:t.dispatchEquipmentRequest}})]},proxy:!0},t.noRequestFound?{key:"empty",fn:function(){return[a("article",{staticClass:"table__data__notfound"},[a("b-icon",{attrs:{icon:"database",pack:"fas"}}),t._v(" "),a("strong",{staticClass:"pt-3"},[t._v("Ooops! No request found.")])],1)]},proxy:!0}:null],null,!0)},[a("b-table-column",{attrs:{field:"details.item",label:"Requested Item",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.details.otherItem?e.row.details.otherItem:e.row.details.item))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"details.quantity",label:"Quantity",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.details.quantity))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"details.category",label:"Category",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.details.category))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"dpt_unit_approval.date",label:"Director/VP Approval",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.dpt_unit_approval?a("b-tag",{attrs:{type:"is-success"}},[t._v("Approved")]):t._e(),t._v(" "),e.row.dpt_unit_approval?t._e():a("b-tag",{attrs:{type:"is-danger"}},[t._v("Pending")])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"it_approval.date",label:"Request Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.it_approval?["Granted"===e.row.it_approval.status?a("b-tag",{attrs:{type:"is-success"}},[t._v(t._s(e.row.it_approval.status))]):t._e(),t._v(" "),"Pending"===e.row.it_approval.status?a("b-tag",{attrs:{type:"is-danger"}},[t._v(t._s(e.row.it_approval.status))]):t._e(),t._v(" "),"Denied"===e.row.it_approval.status?a("b-tag",{attrs:{type:"is-dark"}},[t._v(t._s(e.row.it_approval.status))]):t._e()]:t._e(),t._v(" "),e.row.it_approval?t._e():a("b-tag",{attrs:{type:"is-danger"}},[t._v("Pending")])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"View Form",size:"",type:"is-dark"}},[a("b-button",{staticClass:"is-default is-light",attrs:{size:"is-small",pack:"fas","icon-right":"eye"},on:{click:function(a){return t.viewRequestForm(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Edit",size:"",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:"request-id-"+(e.row.id===t.getRequestId?t.getRequestId:"")},on:{click:function(a){return t.openEditRequestDropper(e.row)}}})],1)],1)]}}])})],1)],1)])])]),t._v(" "),a("dropper",{ref:"requestDropper",staticClass:"dropper",attrs:{join:("#request-id-"+t.getRequestId).toString(),align:"left","z-index":9999},on:{"esc-keydown":t.closeEditRequestDropper,"other-area-clicked":t.closeEditRequestDropper}},[a("h5",{staticClass:"text-main pb-3"},[t._v("Edit Request")]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.updateRequest()}}},[a("b-field",{attrs:{label:"Category",type:{"is-danger":t.requestErrors.category.length},message:t.requestErrors.category}},[a("b-radio",{attrs:{name:"category",type:"is-info","native-value":"New Equipment",size:""},model:{value:t.request.category,callback:function(e){t.$set(t.request,"category",e)},expression:"request.category"}},[t._v("New Equipment")]),t._v(" "),a("b-radio",{attrs:{name:"category",type:"is-info","native-value":"Upgrade Existing",size:""},model:{value:t.request.category,callback:function(e){t.$set(t.request,"category",e)},expression:"request.category"}},[t._v("Upgrade Existing")]),t._v(" "),a("b-radio",{attrs:{name:"category",type:"is-info","native-value":"Replacement",size:""},model:{value:t.request.category,callback:function(e){t.$set(t.request,"category",e)},expression:"request.category"}},[t._v("Replacement")])],1),t._v(" "),a("b-field",{attrs:{label:"Type",type:{"is-danger":t.requestErrors.type.length},message:t.requestErrors.type}},[a("b-radio",{attrs:{name:"type",type:"is-info","native-value":"Hardware",size:""},model:{value:t.request.type,callback:function(e){t.$set(t.request,"type",e)},expression:"request.type"}},[t._v("Hardware")]),t._v(" "),a("b-radio",{attrs:{name:"type",type:"is-info","native-value":"Software",size:""},model:{value:t.request.type,callback:function(e){t.$set(t.request,"type",e)},expression:"request.type"}},[t._v("Software")]),t._v(" "),a("b-radio",{attrs:{name:"type",type:"is-info","native-value":"Infrastructure",size:""},model:{value:t.request.type,callback:function(e){t.$set(t.request,"type",e)},expression:"request.type"}},[t._v("Infrastructure")]),t._v(" "),a("b-radio",{attrs:{name:"type",type:"is-info","native-value":"other",size:""},model:{value:t.request.type,callback:function(e){t.$set(t.request,"type",e)},expression:"request.type"}},[t._v("Other")])],1),t._v(" "),t.showOtherType?a("b-field",{attrs:{label:"Other Type",type:{"is-danger":t.requestErrors.otherType.length},message:t.requestErrors.otherType}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.request.otherType,callback:function(e){t.$set(t.request,"otherType",e)},expression:"request.otherType"}})],1):t._e(),t._v(" "),a("b-field",{attrs:{label:"Item",type:{"is-danger":t.requestErrors.item.length},message:t.requestErrors.item}},[a("b-radio",{attrs:{name:"item",type:"is-info","native-value":"Laptop",size:""},model:{value:t.request.item,callback:function(e){t.$set(t.request,"item",e)},expression:"request.item"}},[t._v("Laptop")]),t._v(" "),a("b-radio",{attrs:{name:"item",type:"is-info","native-value":"Extension Cord",size:""},model:{value:t.request.item,callback:function(e){t.$set(t.request,"item",e)},expression:"request.item"}},[t._v("Extension Cord")]),t._v(" "),a("b-radio",{attrs:{name:"item",type:"is-info","native-value":"Projector",size:""},model:{value:t.request.item,callback:function(e){t.$set(t.request,"item",e)},expression:"request.item"}},[t._v("Projector")]),t._v(" "),a("b-radio",{attrs:{name:"item",type:"is-info","native-value":"other",size:""},model:{value:t.request.item,callback:function(e){t.$set(t.request,"item",e)},expression:"request.item"}},[t._v("Other")])],1),t._v(" "),t.showOtherItem?a("b-field",{attrs:{label:"Other Item",type:{"is-danger":t.requestErrors.otherItem.length},message:t.requestErrors.otherItem}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.request.otherItem,callback:function(e){t.$set(t.request,"otherItem",e)},expression:"request.otherItem"}})],1):t._e(),t._v(" "),a("b-field",{attrs:{label:"Quantity",type:{"is-danger":t.requestErrors.quantity.length},message:t.requestErrors.quantity}},[a("b-numberinput",{attrs:{"controls-alignment":"right","controls-position":"compact",min:1,type:"is-light",expanded:""},model:{value:t.request.quantity,callback:function(e){t.$set(t.request,"quantity",e)},expression:"request.quantity"}})],1),t._v(" "),a("b-field",{attrs:{label:"Purpose",type:{"is-danger":t.requestErrors.purpose.length},message:t.requestErrors.purpose}},[a("b-input",{attrs:{type:"textarea"},model:{value:t.request.purpose,callback:function(e){t.$set(t.request,"purpose",e)},expression:"request.purpose"}})],1),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmitting}},[t._v("\n          "+t._s(t.isSubmitting?"Saving...":"Save")+"\n        ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.closeEditRequestDropper()}}},[t._v("Cancel")])],1)],1)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"card-header"},[e("article",{staticClass:"table__header"},[e("h5",{staticClass:"table__header__title"},[this._v("My Requests")])])])}],!1,null,"25dafa7f",null).exports;function pt(t,e,a,s,i,n,r){try{var o=t[n](r),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(s,i)}function ut(t){return function(){var e=this,a=arguments;return new Promise((function(s,i){var n=t.apply(e,a);function r(t){pt(n,s,i,r,o,"next",t)}function o(t){pt(n,s,i,r,o,"throw",t)}r(void 0)}))}}function dt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function _t(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var vt={name:"AllocationFormModal",props:{allocation:{require:!0,type:Object}},components:{VueHtml2pdf:W.a},watch:{currentAllocation:function(t){t.dpt_unit_approval&&this.getAllocationApproval(t.dpt_unit_approval.name),t.staff_approval&&this.getAllocationApprovalStaff(t.staff_approval.name)}},created:function(){var t=this;this.$nextTick((function(){t.currentAllocation=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(a),!0).forEach((function(e){_t(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):dt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t.allocation)}))},data:function(){return{currentAllocation:null,staffName:null,leaderName:""}},methods:{cancelModal:function(){this.$emit("close")},generateReport:function(){this.$refs.html2Pdf.generatePdf()},getFullName:function(t){return"".concat(this.isNull(t.title)," ").concat(t.firstName," ").concat(this.isNull(t.middleName)," ").concat(t.lastName)},getAllocationApproval:function(t){var e=this;return ut(i.a.mark((function a(){var s,n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$axios.get("/dashboard/get-request-approval-name/".concat(t));case 3:s=a.sent,n=s.data,e.leaderName=e.getFullName(n.name),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()},getAllocationApprovalStaff:function(t){var e=this;return ut(i.a.mark((function a(){var s,n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$axios.get("/dashboard/get-request-approval-name/".concat(t));case 3:s=a.sent,n=s.data,e.staffName=n.name,a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},mt=Object(v.a)(vt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card py-4",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("h4",{staticClass:"modal-card-title text-main label pt-2"},[t._v("Allocation Form")]),t._v(" "),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.cancelModal()}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"request__wrapper"},[t._m(0),t._v(" "),a("h1",{staticClass:"request__wrapper__title"},[t._v("IT Equipment Allocation Form")]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"request__wrapper__form"},[a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n          Section A: Staff Information\n        ")]),t._v(" "),a("div",{staticClass:"\n            request__wrapper__form__staff request__wrapper__form--section\n          "},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(2),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.staffName?t.getFullName(t.staffName):""))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(3),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.staffName?t.staffName.position:""))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(4),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.staffName?t.staffName.email:""))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(5),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.staffName?t.staffName.department:""))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(6),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.formatDate(t.allocation.created_at)))])])])])])]),t._v(" "),a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n          Section B: Equipment Details\n        ")]),t._v(" "),a("div",{staticClass:"request__wrapper__form__info request__wrapper__form--section"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(7),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.allocation.equipment))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(8),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.allocation.manufacturer))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(9),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.allocation.model))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(10),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.allocation.quantity))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(11),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.allocation.serial_number))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[t._m(12),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.formatDate(t.allocation.created_at)))])])])])])]),t._v(" "),a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n          Section C: Certification of Delivery\n        ")]),t._v(" "),a("div",{staticClass:"\n            request__wrapper__form__approval request__wrapper__form--section\n          "},[a("p",{staticClass:"acknowledgement"},[t._v("\n            I acknowledge receipt of the above IT equipment. I am obliged to\n            return any such equipment when no longer required or as requested\n            accordingly.\n          ")]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.staffName?t.getFullName(t.staffName):""))])]),t._v(" "),t._m(13)])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.allocation.staff_approval?t.allocation.staff_approval.initials:""))])]),t._v(" "),t._m(14)])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.allocation.staff_approval?t.formatDate(t.allocation.staff_approval.date):""))])]),t._v(" "),t._m(15)])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.leaderName))])]),t._v(" "),t._m(16)])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.allocation.dpt_unit_approval?t.allocation.dpt_unit_approval.initials:""))])]),t._v(" "),t._m(17)])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.allocation.dpt_unit_approval?t.formatDate(t.allocation.dpt_unit_approval.date):""))])]),t._v(" "),t._m(18)])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.getFullName(t.allocation)))])]),t._v(" "),t._m(19)])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.allocation.approver_initials))])]),t._v(" "),t._m(20)])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.formatDate(t.allocation.created_at)))])]),t._v(" "),t._m(21)])])])])]),t._v(" "),a("div",{staticClass:"request__wrapper__trademark"},[t._v("A.D.U | digital and IT")])]),t._v(" "),a("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!1,"preview-modal":!0,"paginate-elements-by-height":1400,filename:"Equipment Request Form","pdf-quality":1,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"100%"}},[a("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[a("div",{staticClass:"request__wrapper"},[a("div",{staticClass:"request__wrapper__logo"},[a("img",{attrs:{src:"/storage/logo/A.D.U. logo.png",alt:"",srcset:""}})]),t._v(" "),a("h1",{staticClass:"request__wrapper__title"},[t._v("\n            IT Equipment Allocation Form\n          ")]),t._v(" "),a("div",{staticClass:"request__wrapper__instruction"},[a("h5",{},[a("strong",[t._v("Instruction:")])]),t._v(" "),a("article",[a("p",[t._v("\n                This form is used to authorize and certify the allocation of\n                I.T. equipment to staff/departments/groups etc., at the\n                African Development University (A.D.U). Equipment allocated is\n                meant to be used for official A.D.U business only.\n              ")]),t._v(" "),a("p",[t._v("\n                Kindly retain a copy of this form (preferably in the office)\n                to assist future I.T. Equipment Audit & Inventory update\n                purposes.\n              ")])])]),t._v(" "),a("div",{staticClass:"request__wrapper__form"},[a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n              Section A: Staff Information\n            ")]),t._v(" "),a("div",{staticClass:"\n                request__wrapper__form__staff request__wrapper__form--section\n              "},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Allocated To")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.staffName?t.getFullName(t.staffName):""))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Position")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.staffName?t.staffName.position:""))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Email")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.staffName?t.staffName.email:""))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Department")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.staffName?t.staffName.department:""))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Date")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.formatDate(t.allocation.created_at)))])])])])])]),t._v(" "),a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n              Section B: Equipment Details\n            ")]),t._v(" "),a("div",{staticClass:"\n                request__wrapper__form__info request__wrapper__form--section\n              "},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Equipment")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.allocation.equipment))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Manufacturer")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.allocation.manufacturer))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Model")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.allocation.model))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Qty Allocated")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.allocation.quantity))])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Serial No.")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.allocation.serial_number))])])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("article",{staticClass:"text"},[a("div",{staticClass:"text__label"},[a("h6",[t._v("Date Allocated")]),t._v(" "),a("span",[t._v(":")])]),t._v(" "),a("div",{staticClass:"text__line"},[a("span",[t._v(t._s(t.formatDate(t.allocation.created_at)))])])])])])]),t._v(" "),a("h1",{staticClass:"request__wrapper__form__header"},[t._v("\n              Section C: Certification of Delivery\n            ")]),t._v(" "),a("div",{staticClass:"\n                request__wrapper__form__approval\n                request__wrapper__form--section\n              "},[a("p",{staticClass:"acknowledgement"},[t._v("\n                I acknowledge receipt of the above IT equipment. I am obliged\n                to return any such equipment when no longer required or as\n                requested accordingly.\n              ")]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.staffName?t.getFullName(t.staffName):""))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Staff")])])])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.allocation.staff_approval?t.allocation.staff_approval.initials:""))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Sginature/Initials")])])])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.allocation.staff_approval?t.formatDate(t.allocation.staff_approval.date):""))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Date")])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.leaderName))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Director/VP")])])])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.allocation.dpt_unit_approval?t.allocation.dpt_unit_approval.initials:""))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Sginature/Initials")])])])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.allocation.dpt_unit_approval?t.formatDate(t.allocation.dpt_unit_approval.date):""))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Date")])])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.getFullName(t.allocation)))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Digital and IT")])])])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.allocation.approver_initials))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Sginature/Initials")])])])]),t._v(" "),a("div",{staticClass:"column is-4"},[a("article",{staticClass:"text-1"},[a("div",{staticClass:"text-1__line"},[a("span",[t._v(t._s(t.formatDate(t.allocation.created_at)))])]),t._v(" "),a("div",{staticClass:"text-1__label"},[a("h6",[t._v("Date")])])])])])])]),t._v(" "),a("div",{staticClass:"request__wrapper__trademark"},[t._v("\n            A.D.U | digital and IT\n          ")])])])])],1),t._v(" "),a("footer",{staticClass:"modal-card-foot buttons"},[a("b-button",{staticClass:"is-dark is-light",on:{click:function(e){return t.cancelModal()}}},[t._v("Print PDF")]),t._v(" "),a("b-button",{staticClass:"is-dark is-light",on:{click:function(e){return t.cancelModal()}}},[t._v("Close")])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"request__wrapper__logo"},[e("img",{attrs:{src:"/storage/logo/A.D.U. logo.png",alt:"",srcset:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"request__wrapper__instruction"},[e("h5",{},[e("strong",[this._v("Instruction:")])]),this._v(" "),e("article",[e("p",[this._v("\n            This form is used to authorize and certify the allocation of I.T.\n            equipment to staff/departments/groups etc., at the African\n            Development University (A.D.U). Equipment allocated is meant to be\n            used for official A.D.U business only.\n          ")]),this._v(" "),e("p",[this._v("\n            Kindly retain a copy of this form (preferably in the office) to\n            assist future I.T. Equipment Audit & Inventory update purposes.\n          ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Allocated To")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Position")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Email")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Department")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Date")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Equipment")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Manufacturer")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Model")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Qty Allocated")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Serial No.")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text__label"},[e("h6",[this._v("Date Allocated")]),this._v(" "),e("span",[this._v(":")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Staff")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Sginature/Initials")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Date")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Director/VP")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Sginature/Initials")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Date")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Digital and IT")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Sginature/Initials")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-1__label"},[e("h6",[this._v("Date")])])}],!1,null,"db4ef9ac",null).exports;function ft(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function bt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(a),!0).forEach((function(e){ht(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ft(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ht(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var gt={name:"MyAllocationComponent",components:{Paginate:X.a,AllocationFormModal:mt},props:{equipmentRequests:Array},computed:bt(bt({},Object(l.c)(["getMyEquipmentAllocations"])),{},{getAllocationId:function(){return this.allocationId}}),mounted:function(){var t=this;this.isLoading=!0,this.$nextTick((function(){t.getMyEquipmentAllocations.data.length?t.isLoading=!1:setTimeout((function(){t.isLoading=!1,t.noAllocationFound=!0}),1e3)}))},data:function(){return{defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",noAllocationFound:!1,isLoading:!1,checkedAllocations:[],isSubmitting:!1,allocationId:"",staffApproval:{name:"",initials:"",date:null},staffApprovalErrors:{name:[],initials:[],date:[]}}},methods:bt(bt({},Object(l.b)(["dispatchEquipmentAllocation"])),{},{openApprovalDropper:function(t){var e=this.$refs.approvalDropper;this.allocationId=t.id,e&&(t.staff_approval?(this.staffApproval.date=this.formatDateTime2(t.staff_approval.date),this.staffApproval.initials=t.staff_approval.initials):this.staffApproval.date=this.formatDateTime2((new Date).toJSON()),this.staffApproval.name=this.getFullName(this.$page.props.authUser),e.open())},closeApprovalDropper:function(){var t=this,e=this.$refs.approvalDropper;e&&(e.close(),this.$nextTick((function(){t.setApproveAllocationErrors(),t.cancelApproveAllocation()})))},approveAllocation:function(){var t=this;this.isSubmitting=!0,this.setApproveAllocationErrors(),this.$axios.put("/dashboard/approve-equipment-allocation/".concat(this.getAllocationId),bt(bt({},this.staffApproval),{},{date:(new Date).toISOString()}),{headers:{permissionType:"staff"}}).then((function(e){t.isSubmitting=!1,200===e.status&&e.data.approved&&(t.closeApprovalDropper(),t.dispatchEquipmentAllocation({type:"UPDATE_MY_ALLOCATION",payload:e.data.allocation}),t.snackbar("Allocation approved successfully","is-dark"))})).catch((function(e){t.isSubmitting=!1,422===e.response.status&&t.setApproveAllocationErrors(e.response.data.errors)}))},cancelApproveAllocation:function(){this.staffApproval={name:"",initials:"",date:null}},setApproveAllocationErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.staffApprovalErrors={name:t.name||[],initials:t.initials||[],date:t.date||[]}},viewAllocationForm:function(){this.$buefy.modal.open({parent:this,component:mt,hasModalCard:!0,trapFocus:!0,fullScreen:!0,canCancel:["escape"]})},getFullName:function(t){return"".concat(this.isNull(t.title)," ").concat(t.firstName," ").concat(this.isNull(t.middleName)," ").concat(t.lastName)}})},Ct=Object(v.a)(gt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("b-table",{attrs:{data:t.getMyEquipmentAllocations.data,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,loading:t.isLoading,"checked-rows":t.checkedAllocations,checkable:"",striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.checkedAllocations=e},"update:checked-rows":function(e){t.checkedAllocations=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("paginate",{attrs:{state:t.getMyEquipmentAllocations,dispatch:t.dispatchEquipmentAllocation,action:"ADD_MY_ALLOCATIONS"}})]},proxy:!0},t.noAllocationFound?{key:"empty",fn:function(){return[a("article",{staticClass:"table__data__notfound"},[a("b-icon",{attrs:{icon:"database",pack:"fas"}}),t._v(" "),a("strong",{staticClass:"pt-3"},[t._v("Ooops! No allocation found.")])],1)]},proxy:!0}:null],null,!0)},[a("b-table-column",{attrs:{field:"request_name",label:"Request",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.request_name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"equipment",label:"Equipment",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.equipment))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"quantity",label:"Quantity",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.quantity))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"approval_initials",label:"Digital & IT",sortable:""}},[a("b-tag",{attrs:{type:"is-success"}},[t._v("Approved")])],1),t._v(" "),a("b-table-column",{attrs:{field:"dpt_unit_approval.date",label:"Director/VP",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.dpt_unit_approval?a("b-tag",{attrs:{type:"is-success"}},[t._v("Approved")]):t._e(),t._v(" "),e.row.dpt_unit_approval?t._e():a("b-tag",{attrs:{type:"is-danger"}},[t._v("Pending")])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"staff_approval.date",label:"Staff",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.staff_approval?a("b-tag",{attrs:{type:"is-success"}},[t._v("Approved")]):t._e(),t._v(" "),e.row.staff_approval?t._e():a("b-tag",{attrs:{type:"is-danger"}},[t._v("Pending")])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"View Form",size:"",type:"is-dark"}},[a("b-button",{staticClass:"is-default is-light",attrs:{size:"is-small",pack:"fas","icon-right":"eye"},on:{click:function(a){return t.viewRequestForm(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Approve Allocation",size:"",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"check",id:"allocation-id-"+(e.row.id===t.getAllocationId?t.getAllocationId:"")},on:{click:function(a){return t.openApprovalDropper(e.row)}}})],1)],1)]}}])})],1)],1)])])]),t._v(" "),a("dropper",{ref:"approvalDropper",staticClass:"dropper",attrs:{join:("#allocation-id-"+t.getAllocationId).toString(),align:"left","z-index":9999},on:{"esc-keydown":t.closeApprovalDropper,"other-area-clicked":t.closeApprovalDropper}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.approveAllocation()}}},[a("h5",{staticClass:"text-main pb-3"},[t._v("Approve Allocation")]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Initials",type:{"is-danger":t.staffApprovalErrors.initials.length},message:t.staffApprovalErrors.initials}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.staffApproval.initials,callback:function(e){t.$set(t.staffApproval,"initials",e)},expression:"staffApproval.initials"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Director/VP",type:{"is-danger":t.staffApprovalErrors.name.length},message:t.staffApprovalErrors.name}},[a("b-input",{attrs:{size:"",expanded:"",disabled:!0},model:{value:t.staffApproval.name,callback:function(e){t.$set(t.staffApproval,"name",e)},expression:"staffApproval.name"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Date",type:{"is-danger":t.staffApprovalErrors.date.length},message:t.staffApprovalErrors.date}},[a("b-input",{attrs:{size:"",expanded:"",disabled:!0},model:{value:t.staffApproval.date,callback:function(e){t.$set(t.staffApproval,"date",e)},expression:"staffApproval.date"}})],1)],1)]),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n          "+t._s(t.isSubmitting?"Saving...":"Approve")+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmitting},on:{click:function(e){return t.closeApprovalDropper()}}},[t._v("\n          Cancel\n        ")])])],1)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"card-header"},[e("article",{staticClass:"table__header"},[e("h5",{staticClass:"table__header__title"},[this._v("My Allocations")])])])}],!1,null,"41cd9532",null).exports;function yt(t,e,a,s,i,n,r){try{var o=t[n](r),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(s,i)}function Dt(t){return function(){var e=this,a=arguments;return new Promise((function(s,i){var n=t.apply(e,a);function r(t){yt(n,s,i,r,o,"next",t)}function o(t){yt(n,s,i,r,o,"throw",t)}r(void 0)}))}}function qt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Et(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(a),!0).forEach((function(e){xt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function xt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var kt={name:"RequestComponent",components:{Fragment:a(21).a,Paginate:X.a,RequestFormModal:it},computed:Et(Et({},Object(l.c)(["getEquipmentRequests"])),{},{getRequestId:function(){return this.requestId}}),mounted:function(){var t=this;this.isLoading=!0,this.$nextTick((function(){t.getEquipmentRequests.data.length?t.isLoading=!1:setTimeout((function(){t.isLoading=!1,t.noRequestFound=!0}),1e3)}))},data:function(){return{isSubmitting:!1,defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",noRequestFound:!1,isLoading:!1,checkedRequests:[],requestId:"",showItApproval:!1,formType:"",leaderName:"",itDptName:"",alreadyAproved:!1,request:{dpt_unit_approval:{name:"",initials:"",date:""},it_approval:{status:"",reason:"",availability:"",supplier:"",name:"",initials:"",date:null}},requestErrors:{dpt_unit_approval:{name:[],initials:[],date:[]},it_approval:{status:[],reason:[],availability:[],supplier:[],name:[],initials:[],date:[]}}}},methods:Et(Et({},Object(l.b)(["dispatchEquipmentRequest"])),{},{openApprovalDropper:function(t){var e=this.$refs.approvalDropper;this.requestId=t.id,this.formType="hod",e&&(t.dpt_unit_approval?(this.request.dpt_unit_approval.date=this.formatDateTime2(t.dpt_unit_approval.date),this.request.dpt_unit_approval.initials=t.dpt_unit_approval.initials):this.request.dpt_unit_approval.date=this.formatDateTime2((new Date).toJSON()),this.request.dpt_unit_approval.name=this.getFullName(this.$page.props.authUser),e.open())},closeApprovalDropper:function(){var t=this,e=this.$refs.approvalDropper;e&&(e.close(),this.$nextTick((function(){t.setApproveRequestErrors(),t.cancelApproveRequest(),t.formType=""})))},openApprovalDropperIT:function(t){var e=this,a=this.$refs.approvalDropperIT;this.requestId=t.id,this.formType="IT",a&&(t.user_id===this.$page.props.authUser.id?(this.showItApproval=!0,a.open()):this.showItApproval=!1,t.it_approval?(this.request.it_approval.status=t.it_approval.status,this.request.it_approval.reason=t.it_approval.reason,this.request.it_approval.availability=t.it_approval.availability,this.request.it_approval.supplier=t.it_approval.supplier,this.request.it_approval.initials=t.it_approval.initials,this.request.it_approval.date=this.formatDateTime2(t.it_approval.date),t.it_approval.name!==this.$page.props.authUser.id?(this.alreadyAproved=!0,this.$axios.get("/dashboard/get-request-approval-name/".concat(t.it_approval.name)).then((function(t){var a=t.data;e.request.it_approval.name=e.getFullName(a.name)}))):this.request.it_approval.name=this.getFullName(this.$page.props.authUser)):(this.request.it_approval.date=this.formatDateTime2((new Date).toJSON()),this.request.it_approval.name=this.getFullName(this.$page.props.authUser)),this.$nextTick((function(){a.open()})))},closeApprovalDropperIT:function(){var t=this,e=this.$refs.approvalDropperIT;e&&(e.close(),this.$nextTick((function(){t.setApproveRequestErrors(),t.cancelApproveRequest(),t.formType="",t.alreadyAproved=!1})))},approveRequest:function(){var t,e,a=this;this.isSubmitting=!0,this.setApproveRequestErrors(),"hod"===this.formType?(t=this.request.dpt_unit_approval,e={headers:{permissionType:"hod"}}):(t=this.request.it_approval,e={headers:{permissionType:"IT"}}),this.$axios.put("/dashboard/approve-equipment-request/".concat(this.getRequestId),Et(Et({},t),{},{date:(new Date).toISOString()}),e).then((function(t){a.isSubmitting=!1,200===t.status&&t.data.approved&&(a.closeApprovalDropperIT(),a.closeApprovalDropper(),a.dispatchEquipmentRequest({type:"UPDATE_REQUEST",payload:t.data.request}),a.snackbar("Request approved successfully","is-dark"),a.$nextTick((function(){a.isPermission("approve_it_equipment")&&a.getGrantedRequests()})))})).catch((function(t){a.isSubmitting=!1,422===t.response.status&&a.setApproveRequestErrors(t.response.data.errors)}))},deleteRequest:function(t){var e=this;this.$axios.delete("/dashboard/delete-equipment-request/".concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchEquipmentRequest({type:"DELETE_REQUEST",payload:t}),setTimeout((function(){e.snackbar("Request deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},deleteRequests:function(){var t=this,e=this.checkedRequests.map((function(t){return t.id}));this.$axios.delete("/dashboard/delete-equipment-requests/".concat(e)).then((function(a){200===a.status&&a.data.deleted&&(t.dispatchEquipmentRequest({type:"DELETE_REQUESTS",payload:e}),t.checkedRequests=[],setTimeout((function(){t.snackbar("Requests deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},cancelApproveRequest:function(){"IT"===this.formType?this.request.it_approval={status:"",reason:"",availability:"",supplier:"",name:"",date:null,initials:""}:this.request.dpt_unit_approval={name:"",initials:"",date:null}},setApproveRequestErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"IT"===this.formType?this.requestErrors.it_approval={status:t.status||[],reason:t.reason||[],availability:t.availability||[],supplier:t.supplier||[],name:t.name||[],date:t.date||[],initials:t.initials||[]}:this.requestErrors.dpt_unit_approval={name:t.name||[],initials:t.initials||[],date:t.date||[]}},viewRequestForm:function(t){this.$buefy.modal.open({parent:this,component:it,hasModalCard:!0,trapFocus:!0,fullScreen:!0,canCancel:["escape"],props:{request:t}})},getFullName:function(t){return"".concat(this.isNull(t.title)," ").concat(t.firstName," ").concat(this.isNull(t.middleName)," ").concat(t.lastName)},getGrantedRequests:function(){var t=this;return Dt(i.a.mark((function e(){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/dashboard/get-granted-requests");case 3:a=e.sent,s=a.data,t.dispatchEquipmentRequest({type:"ADD_GRANTED_REQUEST",payload:s}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getRquestApproval:function(t){var e=this;return Dt(i.a.mark((function a(){var s,n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$axios.get("/dashboard/get-request-approval-name/".concat(t));case 3:s=a.sent,n=s.data,e.leaderName=e.getFullName(n.name),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()},getRquestApprovalIT:function(t){var e=this;this.$axios.get("/dashboard/get-request-approval-name/".concat(t)).then((function(t){var a=t.data;e.itDptName=e.getFullName(a.name),console.log(e.itDptName)}))}})},wt=Object(v.a)(kt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t.isPermission("approve_it_equipment")?a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.checkedRequests.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}],null,!1,3031539043)},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.deleteRequests()}}},[t._v("Delete requests")])],1)],1):t._e(),t._v(" "),a("b-table",{attrs:{data:t.getEquipmentRequests.data,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,loading:t.isLoading,"checked-rows":t.checkedRequests,checkable:"",striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.checkedRequests=e},"update:checked-rows":function(e){t.checkedRequests=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("paginate",{attrs:{state:t.getEquipmentRequests,dispatch:t.dispatchEquipmentRequest}})]},proxy:!0},t.noRequestFound?{key:"empty",fn:function(){return[a("article",{staticClass:"table__data__notfound"},[a("b-icon",{attrs:{icon:"database",pack:"fas"}}),t._v(" "),a("strong",{staticClass:"pt-3"},[t._v("Ooops! No request found.")])],1)]},proxy:!0}:null],null,!0)},[a("b-table-column",{attrs:{field:"details.item",label:"Requested Item",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.details.otherItem?e.row.details.otherItem:e.row.details.item))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"details.quantity",label:"Quantity",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.details.quantity))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"details.category",label:"Category",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.details.category))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"dpt_unit_approval.date",label:"Director/VP Approval",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.dpt_unit_approval?a("b-tag",{attrs:{type:"is-success"}},[t._v("Approved")]):t._e(),t._v(" "),e.row.dpt_unit_approval?t._e():a("b-tag",{attrs:{type:"is-danger"}},[t._v("Pending")])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"it_approval.date",label:"Request Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.it_approval?["Granted"===e.row.it_approval.status?a("b-tag",{attrs:{type:"is-success"}},[t._v(t._s(e.row.it_approval.status))]):t._e(),t._v(" "),"Pending"===e.row.it_approval.status?a("b-tag",{attrs:{type:"is-danger"}},[t._v(t._s(e.row.it_approval.status))]):t._e(),t._v(" "),"Denied"===e.row.it_approval.status?a("b-tag",{attrs:{type:"is-dark"}},[t._v(t._s(e.row.it_approval.status))]):t._e()]:t._e(),t._v(" "),e.row.it_approval?t._e():a("b-tag",{attrs:{type:"is-danger"}},[t._v("Pending")])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"View Form",size:"",type:"is-dark"}},[a("b-button",{staticClass:"is-default is-light",attrs:{size:"is-small",pack:"fas","icon-right":"eye"},on:{click:function(a){return t.viewRequestForm(e.row)}}})],1),t._v(" "),t.isPermission("approve_it_equipment")?a("fragment",[t.isPermission("hod")?a("fragment",[a("b-tooltip",{attrs:{label:"Approve Request (Director/VP)",size:"",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"check",id:"request-id-"+(e.row.id===t.getRequestId?t.getRequestId:""),disabled:e.row.department_id!==t.$page.props.authUser.department_id},on:{click:function(a){return t.openApprovalDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Approve Request (Digital & IT)",size:"",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"check",id:"request-id-it"+(e.row.id===t.getRequestId?t.getRequestId:""),disabled:!e.row.dpt_unit_approval},on:{click:function(a){return t.openApprovalDropperIT(e.row)}}})],1)],1):a("fragment",[a("b-tooltip",{attrs:{label:"Approve Request",size:"",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"check",id:"request-id-it"+(e.row.id===t.getRequestId?t.getRequestId:"")},on:{click:function(a){return t.openApprovalDropperIT(e.row)}}})],1)],1)],1):a("fragment",[a("b-tooltip",{attrs:{label:"Approve Request",size:"",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"check",id:"request-id-"+(e.row.id===t.getRequestId?t.getRequestId:"")},on:{click:function(a){return t.openApprovalDropper(e.row)}}})],1)],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",size:"",type:"is-dark"}},[t.isPermission("approve_it_equipment")?a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deleteRequest(e.row.id)}}}):t._e()],1)],1)]}}])})],1)],1)])])]),t._v(" "),a("dropper",{ref:"approvalDropper",staticClass:"dropper",attrs:{join:("#request-id-"+t.getRequestId).toString(),align:"left","z-index":9999},on:{"esc-keydown":t.closeApprovalDropper,"other-area-clicked":t.closeApprovalDropper}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.approveRequest()}}},[a("h5",{staticClass:"text-main pb-3"},[t._v("Approve Request")]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Initials",type:{"is-danger":t.requestErrors.dpt_unit_approval.initials.length},message:t.requestErrors.dpt_unit_approval.initials}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.request.dpt_unit_approval.initials,callback:function(e){t.$set(t.request.dpt_unit_approval,"initials",e)},expression:"request.dpt_unit_approval.initials"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Director/VP",type:{"is-danger":t.requestErrors.dpt_unit_approval.name.length},message:t.requestErrors.dpt_unit_approval.name}},[a("b-input",{attrs:{size:"",expanded:"",disabled:!0},model:{value:t.request.dpt_unit_approval.name,callback:function(e){t.$set(t.request.dpt_unit_approval,"name",e)},expression:"request.dpt_unit_approval.name"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Date",type:{"is-danger":t.requestErrors.dpt_unit_approval.date.length},message:t.requestErrors.dpt_unit_approval.date}},[a("b-input",{attrs:{size:"",expanded:"",disabled:!0},model:{value:t.request.dpt_unit_approval.date,callback:function(e){t.$set(t.request.dpt_unit_approval,"date",e)},expression:"request.dpt_unit_approval.date"}})],1)],1)]),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n          "+t._s(t.isSubmitting?"Saving...":"Approve")+"\n        ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmitting},on:{click:function(e){return t.closeApprovalDropper()}}},[t._v("\n          Cancel\n        ")])])],1)]),t._v(" "),a("dropper",{ref:"approvalDropperIT",staticClass:"dropper",attrs:{join:("#request-id-it"+t.getRequestId).toString(),align:"left","z-index":9999},on:{"esc-keydown":t.closeApprovalDropperIT,"other-area-clicked":t.closeApprovalDropperIT}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.approveRequest()}}},[a("h5",{staticClass:"text-main pb-3"},[t._v("Approve Request")]),t._v(" "),t.showItApproval?[a("p",[t._v("Sorry! You cannot approve your own request.")])]:[a("fieldset",{attrs:{disabled:t.alreadyAproved}},[a("b-field",{attrs:{label:"Status",type:{"is-danger":t.requestErrors.it_approval.status.length},message:t.requestErrors.it_approval.status}},[a("b-radio",{attrs:{name:"status",type:"is-info","native-value":"Granted",size:""},model:{value:t.request.it_approval.status,callback:function(e){t.$set(t.request.it_approval,"status",e)},expression:"request.it_approval.status"}},[t._v("Granted")]),t._v(" "),a("b-radio",{attrs:{name:"status",type:"is-info","native-value":"Pending",size:""},model:{value:t.request.it_approval.status,callback:function(e){t.$set(t.request.it_approval,"status",e)},expression:"request.it_approval.status"}},[t._v("Pending")]),t._v(" "),a("b-radio",{attrs:{name:"status",type:"is-info","native-value":"Denied",size:""},model:{value:t.request.it_approval.status,callback:function(e){t.$set(t.request.it_approval,"status",e)},expression:"request.it_approval.status"}},[t._v("Denied")])],1),t._v(" "),a("b-field",{attrs:{label:"Reason",type:{"is-danger":t.requestErrors.it_approval.reason.length},message:t.requestErrors.it_approval.reason}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.request.it_approval.reason,callback:function(e){t.$set(t.request.it_approval,"reason",e)},expression:"request.it_approval.reason"}})],1),t._v(" "),a("b-field",{attrs:{label:"Equipment Availability",type:{"is-danger":t.requestErrors.it_approval.availability.length},message:t.requestErrors.it_approval.availability}},[a("b-radio",{attrs:{name:"availability",type:"is-info","native-value":"In Stock",size:""},model:{value:t.request.it_approval.availability,callback:function(e){t.$set(t.request.it_approval,"availability",e)},expression:"request.it_approval.availability"}},[t._v("In Stock")]),t._v(" "),a("b-radio",{attrs:{name:"availability",type:"is-info","native-value":"To be Procured",size:""},model:{value:t.request.it_approval.availability,callback:function(e){t.$set(t.request.it_approval,"availability",e)},expression:"request.it_approval.availability"}},[t._v("To be Procured")])],1),t._v(" "),a("b-field",{attrs:{label:"LPO/Supplier",type:{"is-danger":t.requestErrors.it_approval.supplier.length},message:t.requestErrors.it_approval.supplier}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.request.it_approval.supplier,callback:function(e){t.$set(t.request.it_approval,"supplier",e)},expression:"request.it_approval.supplier"}})],1),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Initials",type:{"is-danger":t.requestErrors.it_approval.initials.length},message:t.requestErrors.it_approval.initials}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.request.it_approval.initials,callback:function(e){t.$set(t.request.it_approval,"initials",e)},expression:"request.it_approval.initials"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Director/VP",type:{"is-danger":t.requestErrors.it_approval.name.length},message:t.requestErrors.it_approval.name}},[a("b-input",{attrs:{size:"",expanded:"",disabled:!0},model:{value:t.request.it_approval.name,callback:function(e){t.$set(t.request.it_approval,"name",e)},expression:"request.it_approval.name"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Date",type:{"is-danger":t.requestErrors.it_approval.date.length},message:t.requestErrors.it_approval.date}},[a("b-input",{attrs:{size:"",expanded:"",disabled:!0},model:{value:t.request.it_approval.date,callback:function(e){t.$set(t.request.it_approval,"date",e)},expression:"request.it_approval.date"}})],1)],1)]),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n              "+t._s(t.isSubmitting?"Saving...":"Approve")+"\n            ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmitting},on:{click:function(e){return t.closeApprovalDropperIT()}}},[t._v("\n              Cancel\n            ")])])],1)]],2)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"card-header"},[e("article",{staticClass:"table__header"},[e("h5",{staticClass:"table__header__title"},[this._v("All Requests")])])])}],!1,null,"2e251c59",null).exports,$t=a(17),Pt=a.n($t);a(20);function At(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function St(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?At(Object(a),!0).forEach((function(e){Ot(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):At(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Ot(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var jt={name:"AllocationComponent",components:{Paginate:X.a,Treeselect:Pt.a,AllocationFormModal:mt},computed:St(St({},Object(l.c)(["getGrantedEquipmentRequests","getEquipmentAllocations"])),{},{getAllocationId:function(){return this.allocationId},getFormatedRequests:function(){var t=this;return this.getGrantedEquipmentRequests.map((function(e){return{id:e.id,label:"".concat(t.isNull(e.otherItem)?e.otherItem:e.item," - Requester - ").concat(t.getFullName(e))}}))}}),mounted:function(){var t=this;this.$watch((function(){return t.allocation.equipmentRequest}),(function(e){if(e){var a=t.getGrantedEquipmentRequests.find((function(t){return t.id===e}));console.log(a),t.allocation.equipment=t.isNull(a.otherItem)?a.otherItem:a.item,t.allocation.quantity=a.quantity,t.allocation.requesterDptId=a.department_id,t.allocation.requestName="".concat(t.isNull(a.otherItem)?a.otherItem:a.item," - Requester - ").concat(t.getFullName(a))}})),this.isLoading=!0,this.$nextTick((function(){t.getEquipmentAllocations.data.length?t.isLoading=!1:setTimeout((function(){t.isLoading=!1,t.noAllocationFound=!0}),1e3)}))},data:function(){return{defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",noAllocationFound:!1,isLoading:!1,checkedAllocations:[],toggleRequestForm:!1,isSubmitting:!1,allocationId:"",alreadyAproved:!1,allocation:{equipment:"",model:"",serialNumber:"",manufacturer:"",quantity:"",equipmentRequest:"",approverInitials:"",requestName:"",requesterDptId:""},dptUnitApproval:{name:"",initials:"",date:null},dptUnitApprovalErrors:{name:[],initials:[],date:[]},allocationErrors:{equipment:[],model:[],serialNumber:[],manufacturer:[],quantity:[],equipmentRequest:[],approverInitials:[]}}},methods:St(St({},Object(l.b)(["dispatchEquipmentAllocation"])),{},{openEditAllocationDropper:function(t){var e=this.$refs.allocationDropper;this.allocationId=t.id,e&&(this.allocation={equipment:t.equipment,model:t.model,serialNumber:t.serial_number,manufacturer:t.manufacturer,quantity:t.quantity,equipmentRequest:t.equipment_request_id,requestName:t.request_name,approverInitials:t.approver_initials},e.open())},closeEditAllocationDropper:function(){var t=this,e=this.$refs.allocationDropper;e&&(e.close(),this.$nextTick((function(){t.cancelAllocation()})))},openApprovalDropper:function(t){var e=this,a=this.$refs.approvalDropper;this.allocationId=t.id,a&&(t.dpt_unit_approval?(t.approver_initials?(this.alreadyAproved=!0,this.$axios.get("/dashboard/get-request-approval-name/".concat(t.user_id)).then((function(t){var a=t.data;e.dptUnitApproval.name=e.getFullName(a.name)}))):this.dptUnitApproval.name=this.getFullName(this.$page.props.authUser),this.dptUnitApproval.date=this.formatDateTime2(t.dpt_unit_approval.date),this.dptUnitApproval.initials=t.dpt_unit_approval.initials):(this.dptUnitApproval.name=this.getFullName(this.$page.props.authUser),this.dptUnitApproval.date=this.formatDateTime2((new Date).toJSON())),a.open())},closeApprovalDropper:function(){var t=this,e=this.$refs.approvalDropper;e&&(e.close(),this.$nextTick((function(){t.setApproveAllocationErrors(),t.cancelApproveAllocation(),t.alreadyAproved=!1})))},assignAllocation:function(){var t=this;this.isSubmitting=!0,this.setAllocationErrors(),this.$axios.post("/dashboard/allocate-equipment",this.allocation).then((function(e){t.isSubmitting=!1,201===e.status&&(t.clearAllocationForm(),t.dispatchEquipmentAllocation({type:"ADD_ALLOCATION",payload:e.data}),t.snackbar("Allocation assigned successfully","is-dark"))})).catch((function(e){t.isSubmitting=!1,422===e.response.status&&t.setAllocationErrors(e.response.data.errors)}))},updateAllocation:function(){var t=this;this.isSubmitting=!0,this.setAllocationErrors(),this.$axios.put("/dashboard/edit-equipment-allocation/".concat(this.getAllocationId),this.allocation).then((function(e){t.isSubmitting=!1,200===e.status&&e.data.updated&&(t.closeEditAllocationDropper(),t.dispatchEquipmentAllocation({type:"UPDATE_ALLOCATION",payload:e.data.allocation}),t.snackbar("Allocation updated successfully","is-dark"))})).catch((function(e){t.isSubmitting=!1,422===e.response.status&&t.setAllocationErrors(e.response.data.errors)}))},approveAllocation:function(){var t=this;this.isSubmitting=!0,this.setApproveAllocationErrors(),this.$axios.put("/dashboard/approve-equipment-allocation/".concat(this.getAllocationId),St(St({},this.dptUnitApproval),{},{date:(new Date).toISOString()}),{headers:{permissionType:"department"}}).then((function(e){t.isSubmitting=!1,200===e.status&&e.data.approved&&(t.closeApprovalDropper(),t.dispatchEquipmentAllocation({type:"UPDATE_ALLOCATION",payload:e.data.allocation}),t.snackbar("Allocation approved successfully","is-dark"),t.isPermission("hod")&&t.$nextTick((function(){t.dispatchEquipmentAllocation({type:"ADD_MY_ALLOCATIONS",payload:1})})))})).catch((function(e){t.isSubmitting=!1,422===e.response.status&&t.setApproveAllocationErrors(e.response.data.errors)}))},deleteAllocation:function(t){var e=this;this.$axios.delete("/dashboard/delete-equipment-allocation/".concat(t)).then((function(a){200===a.status&&a.data.deleted&&(e.dispatchEquipmentAllocation({type:"DELETE_ALLOCATION",payload:t}),setTimeout((function(){e.snackbar("Allocation deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},deleteAllocations:function(){var t=this,e=this.checkedAllocations.map((function(t){return t.id}));this.$axios.delete("/dashboard/delete-equipment-allocations/".concat(e)).then((function(a){200===a.status&&a.data.deleted&&(t.dispatchEquipmentAllocation({type:"DELETE_ALLOCATIONS",payload:e}),t.checkedAllocations=[],setTimeout((function(){t.snackbar("Allocations deleted successfully","is-dark")}),1e3))})).catch((function(t){console.log(t)}))},cancelAllocation:function(){var t=this;this.toggleRequestForm=!1,this.$nextTick((function(){t.clearAllocationForm(),t.setAllocationErrors()}))},clearAllocationForm:function(){this.allocation={equipment:"",model:"",serialNumber:"",manufacturer:"",quantity:"",equipmentRequest:"",approverInitials:""}},setAllocationErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.allocationErrors={equipment:t.equipment||[],model:t.model||[],serialNumber:t.serialNumber||[],manufacturer:t.manufacturer||[],quantity:t.quantity||[],equipmentRequest:t.equipmentRequest||[],approverInitials:t.approverInitials||[]}},cancelApproveAllocation:function(){this.dptUnitApproval={name:"",initials:"",date:null}},setApproveAllocationErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dptUnitApprovalErrors={name:t.name||[],initials:t.initials||[],date:t.date||[]}},viewAllocationForm:function(t){this.$buefy.modal.open({parent:this,component:mt,hasModalCard:!0,trapFocus:!0,fullScreen:!0,canCancel:["escape"],props:{allocation:t}})},getFullName:function(t){return"".concat(this.isNull(t.title)," ").concat(t.firstName," ").concat(this.isNull(t.middleName)," ").concat(t.lastName)}})},It={name:"EquipmentComponent",components:{MyRequestComponent:ct,MyAllocationComponent:Ct,RequestComponent:wt,AllocationComponent:Object(v.a)(jt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isPermission("approve_it_equipment")?a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"addreason"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"addreason"}},[a("p",{staticClass:"card-header-title"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:"plus"}}),t._v(" "),a("span",{staticClass:"has-text-info"},[t._v("Add New Allocation")])],1),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}],null,!1,249193003),model:{value:t.toggleRequestForm,callback:function(e){t.toggleRequestForm=e},expression:"toggleRequestForm"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.assignAllocation()}}},[a("div",{staticStyle:{width:"55%"}},[a("b-field",{attrs:{label:"Request",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.allocationErrors.equipmentRequest.length},message:t.allocationErrors.equipmentRequest}},[a("treeselect",{attrs:{multiple:!1,options:t.getFormatedRequests,placeholder:"Select request...","max-height":200},model:{value:t.allocation.equipmentRequest,callback:function(e){t.$set(t.allocation,"equipmentRequest",e)},expression:"allocation.equipmentRequest"}})],1)],1),t._v(" "),a("b-field",{attrs:{label:"Equipment",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.allocationErrors.equipment.length},message:t.allocationErrors.equipment}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.allocation.equipment,callback:function(e){t.$set(t.allocation,"equipment",e)},expression:"allocation.equipment"}})],1)],1),t._v(" "),a("b-field",{attrs:{label:"Quantity",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.allocationErrors.quantity.length},message:t.allocationErrors.quantity}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.allocation.quantity,callback:function(e){t.$set(t.allocation,"quantity",e)},expression:"allocation.quantity"}})],1)],1),t._v(" "),a("b-field",{attrs:{label:"Model",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.allocationErrors.model.length},message:t.allocationErrors.model}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.allocation.model,callback:function(e){t.$set(t.allocation,"model",e)},expression:"allocation.model"}})],1)],1),t._v(" "),a("b-field",{attrs:{label:"Serial No.",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.allocationErrors.serialNumber.length},message:t.allocationErrors.serialNumber}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.allocation.serialNumber,callback:function(e){t.$set(t.allocation,"serialNumber",e)},expression:"allocation.serialNumber"}})],1)],1),t._v(" "),a("b-field",{attrs:{label:"Manufacturer",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.allocationErrors.manufacturer.length},message:t.allocationErrors.manufacturer}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.allocation.manufacturer,callback:function(e){t.$set(t.allocation,"manufacturer",e)},expression:"allocation.manufacturer"}})],1)],1),t._v(" "),a("h6",{staticClass:"text-main"},[t._v("Approve Allocation")]),t._v(" "),a("b-field",{attrs:{label:"Initials",horizontal:""}},[a("b-field",{attrs:{type:{"is-danger":t.allocationErrors.approverInitials.length},message:t.allocationErrors.approverInitials}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.allocation.approverInitials,callback:function(e){t.$set(t.allocation,"approverInitials",e)},expression:"allocation.approverInitials"}})],1)],1)],1),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmitting}},[t._v("\n                "+t._s(t.isSubmitting?"Allocating...":"Allocate")+"\n              ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelAllocation()}}},[t._v("Cancel")])],1)],1)])])])],1):t._e(),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.checkedAllocations.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.deleteAllocations()}}},[t._v("Delete allocations")])],1)],1),t._v(" "),a("b-table",{attrs:{data:t.getEquipmentAllocations.data,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,loading:t.isLoading,"checked-rows":t.checkedAllocations,checkable:"",striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.checkedAllocations=e},"update:checked-rows":function(e){t.checkedAllocations=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("paginate",{attrs:{state:t.getEquipmentAllocations,dispatch:t.dispatchEquipmentAllocation}})]},proxy:!0},t.noAllocationFound?{key:"empty",fn:function(){return[a("article",{staticClass:"table__data__notfound"},[a("b-icon",{attrs:{icon:"database",pack:"fas"}}),t._v(" "),a("strong",{staticClass:"pt-3"},[t._v("Ooops! No allocation found.")])],1)]},proxy:!0}:null],null,!0)},[a("b-table-column",{attrs:{field:"request_name",label:"Request",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.request_name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"equipment",label:"Equipment",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.equipment))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"quantity",label:"Quantity",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.quantity))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"approval_initials",label:"Digital & IT",sortable:""}},[a("b-tag",{attrs:{type:"is-success"}},[t._v("Approved")])],1),t._v(" "),a("b-table-column",{attrs:{field:"dpt_unit_approval.date",label:"Director/VP",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.dpt_unit_approval?a("b-tag",{attrs:{type:"is-success"}},[t._v("Approved")]):t._e(),t._v(" "),e.row.dpt_unit_approval?t._e():a("b-tag",{attrs:{type:"is-danger"}},[t._v("Pending")])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"staff_approval.date",label:"Staff",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.staff_approval?a("b-tag",{attrs:{type:"is-success"}},[t._v("Approved")]):t._e(),t._v(" "),e.row.staff_approval?t._e():a("b-tag",{attrs:{type:"is-danger"}},[t._v("Pending")])]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"View Form",size:"",type:"is-dark"}},[a("b-button",{staticClass:"is-default is-light",attrs:{size:"is-small",pack:"fas","icon-right":"eye"},on:{click:function(a){return t.viewAllocationForm(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Approve Allocation",size:"",type:"is-dark"}},[t.isPermission("hod")?a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"check",id:"allocation-id-"+(e.row.id===t.getAllocationId?t.getAllocationId:"")},on:{click:function(a){return t.openApprovalDropper(e.row)}}}):t._e()],1),t._v(" "),a("b-tooltip",{attrs:{label:"Edit",size:"",type:"is-dark"}},[t.isPermission("approve_it_equipment")?a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:"allocation-id-"+(e.row.id===t.getAllocationId?t.getAllocationId:""),disabled:t.$page.props.authUser.id!==e.row.user_id},on:{click:function(a){return t.openEditAllocationDropper(e.row)}}}):t._e()],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",size:"",type:"is-dark"}},[t.isPermission("approve_it_equipment")?a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deleteAllocation(e.row.id)}}}):t._e()],1)],1)]}}])})],1)],1)])])]),t._v(" "),a("dropper",{ref:"allocationDropper",staticClass:"dropper",attrs:{join:("#allocation-id-"+t.getAllocationId).toString(),align:"left","z-index":9999},on:{"esc-keydown":t.closeEditAllocationDropper,"other-area-clicked":t.closeEditAllocationDropper}},[a("h5",{staticClass:"text-main pb-3"},[t._v("Edit Allocation")]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.updateAllocation()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Request",type:{"is-danger":t.allocationErrors.equipmentRequest.length},message:t.allocationErrors.equipmentRequest}},[a("treeselect",{attrs:{multiple:!1,options:t.getFormatedRequests,placeholder:"Select request...","max-height":200},model:{value:t.allocation.equipmentRequest,callback:function(e){t.$set(t.allocation,"equipmentRequest",e)},expression:"allocation.equipmentRequest"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Equipment",type:{"is-danger":t.allocationErrors.equipment.length},message:t.allocationErrors.equipment}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.allocation.equipment,callback:function(e){t.$set(t.allocation,"equipment",e)},expression:"allocation.equipment"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Quantity",type:{"is-danger":t.allocationErrors.quantity.length},message:t.allocationErrors.quantity}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.allocation.quantity,callback:function(e){t.$set(t.allocation,"quantity",e)},expression:"allocation.quantity"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Model",type:{"is-danger":t.allocationErrors.model.length},message:t.allocationErrors.model}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.allocation.model,callback:function(e){t.$set(t.allocation,"model",e)},expression:"allocation.model"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Serial No.",type:{"is-danger":t.allocationErrors.serialNumber.length},message:t.allocationErrors.serialNumber}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.allocation.serialNumber,callback:function(e){t.$set(t.allocation,"serialNumber",e)},expression:"allocation.serialNumber"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Manufacturer",type:{"is-danger":t.allocationErrors.manufacturer.length},message:t.allocationErrors.manufacturer}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.allocation.manufacturer,callback:function(e){t.$set(t.allocation,"manufacturer",e)},expression:"allocation.manufacturer"}})],1)],1)]),t._v(" "),a("h6",{staticClass:"text-main"},[t._v("Approve Allocation")]),t._v(" "),a("b-field",{attrs:{label:"Initials",type:{"is-danger":t.allocationErrors.approverInitials.length},message:t.allocationErrors.approverInitials}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.allocation.approverInitials,callback:function(e){t.$set(t.allocation,"approverInitials",e)},expression:"allocation.approverInitials"}})],1),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{disabled:t.isSubmitting}},[t._v("\n          "+t._s(t.isSubmitting?"Saving...":"Save")+"\n        ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.closeEditAllocationDropper()}}},[t._v("Cancel")])],1)],1)]),t._v(" "),a("dropper",{ref:"approvalDropper",staticClass:"dropper",attrs:{join:("#allocation-id-"+t.getAllocationId).toString(),align:"left","z-index":9999},on:{"esc-keydown":t.closeApprovalDropper,"other-area-clicked":t.closeApprovalDropper}},[a("fieldset",{attrs:{disabled:t.alreadyAproved}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.approveAllocation()}}},[a("h5",{staticClass:"text-main pb-3"},[t._v("Approve Allocation")]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Initials",type:{"is-danger":t.dptUnitApprovalErrors.initials.length},message:t.dptUnitApprovalErrors.initials}},[a("b-input",{attrs:{size:"",expanded:""},model:{value:t.dptUnitApproval.initials,callback:function(e){t.$set(t.dptUnitApproval,"initials",e)},expression:"dptUnitApproval.initials"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Director/VP",type:{"is-danger":t.dptUnitApprovalErrors.name.length},message:t.dptUnitApprovalErrors.name}},[a("b-input",{attrs:{size:"",expanded:"",disabled:!0},model:{value:t.dptUnitApproval.name,callback:function(e){t.$set(t.dptUnitApproval,"name",e)},expression:"dptUnitApproval.name"}})],1)],1),t._v(" "),a("div",{staticClass:"column is-4"},[a("b-field",{attrs:{label:"Date",type:{"is-danger":t.dptUnitApprovalErrors.date.length},message:t.dptUnitApprovalErrors.date}},[a("b-input",{attrs:{size:"",expanded:"",disabled:!0},model:{value:t.dptUnitApproval.date,callback:function(e){t.$set(t.dptUnitApproval,"date",e)},expression:"dptUnitApproval.date"}})],1)],1)]),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n            "+t._s(t.isSubmitting?"Saving...":"Approve")+"\n          ")]),t._v(" "),a("button",{staticClass:"button is-danger is-light",attrs:{type:"button",disabled:t.isSubmitting},on:{click:function(e){return t.closeApprovalDropper()}}},[t._v("\n            Cancel\n          ")])])],1)])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"card-header"},[e("article",{staticClass:"table__header"},[e("h5",{staticClass:"table__header__title"},[this._v("All Allocations")])])])}],!1,null,"9e56e2ea",null).exports},mounted:function(){var t=this;this.$watch((function(){return t.request.details.type}),(function(e){t.showOtherType=!(!e||"other"!==e)})),this.$watch((function(){return t.request.details.item}),(function(e){t.showOtherItem=!(!e||"other"!==e)}))},data:function(){return{isPaginated:!0,isPaginationSimple:!0,paginationPosition:"bottom",defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:50,showOtherType:!1,showOtherItem:!1,toggleRequestForm:!1,isSubmitting:!1,checkedJobCats:[],request:{details:{title:"",category:"",type:"",otherType:"",item:"",otherItem:"",quantity:1,purpose:""},approval:{name:"",initials:"",date:null},itDpt:{status:"",reason:"",availability:"",supplier:"",staff:"",initials:"",date:null}},requestErrors:{other:{type:"",item:""},details:{title:[],category:[],type:[],otherType:[],item:[],otherItem:[],quantity:[],purpose:[]},approval:{name:[],initials:[],date:[]},itDpt:{status:[],reason:[],availability:[],supplier:[],staff:[],initials:[],date:[]}}}}},Tt=Object(v.a)(It,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("b-tabs",{attrs:{type:"is-toggle",size:"",animated:!1,expanded:""}},[e("b-tab-item",{attrs:{label:"My Requests"}},[e("my-request-component")],1),this._v(" "),e("b-tab-item",{attrs:{label:"My Allocations"}},[e("my-allocation-component")],1),this._v(" "),this.anyPermission("hod","approve_it_equipment")?e("b-tab-item",{attrs:{label:"Requests"}},[e("request-component")],1):this._e(),this._v(" "),this.anyPermission("hod","approve_it_equipment")?e("b-tab-item",{attrs:{label:"Allocations"}},[e("allocation-component")],1):this._e()],1)],1)}),[],!1,null,"03980e5e",null).exports;function zt(t,e,a,s,i,n,r){try{var o=t[n](r),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(s,i)}function Nt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Rt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(a),!0).forEach((function(e){Ut(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Nt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Ut(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Ft={name:"ConfigurationComponent",computed:Rt({},Object(l.c)([])),beforeMount:function(){this.authUser=this.$page.props.authUser},mounted:function(){},created:function(){var t=this;this.$watch((function(){return t.locale}),(function(e){e&&t.changeLocale(e)}))},data:function(){return{isUpdatingPassword:!1,openChangePassword:!0,openChangeLanguage:!0,authUser:null,locale:this.$lang.getLocale(),languages:[{name:"English",locale:"en"},{name:"French",locale:"fr"}],credentials:{current_password:"",new_password:"",confirm_new_password:""},credentialErrors:{current_password:[],new_password:[],confirm_new_password:[]}}},methods:Rt(Rt({},Object(l.b)([])),{},{changePassword:function(){var t=this;this.setCredentialErrors(),this.isUpdatingPassword=!0,this.$axios.put("/change-password",this.credentials).then((function(e){t.isUpdatingPassword=!1,200===e.status&&e.data.changed&&(t.clearCredentials(),t.snackbar("Your password was successfuly changed.","is-dark"))})).catch((function(e){422===e.response.status&&(t.isUpdatingPassword=!1,t.setCredentialErrors(e.response.data.errors))}))},cancelChangePassword:function(){this.openChangePassword=!1,this.clearCredentials(),this.setCredentialErrors()},clearCredentials:function(){this.credentials={current_password:"",new_password:"",confirm_new_password:""}},setCredentialErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.credentialErrors={current_password:t.current_password||[],new_password:t.new_password||[],confirm_new_password:t.confirm_new_password||[]}},changeLocale:function(t){var e,a=this;return(e=i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.$axios.get("/lang/".concat(t));case 3:200===e.sent.status&&(a.$lang.setLocale(t),localStorage.setItem("locale",t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.trace(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,a=arguments;return new Promise((function(s,i){var n=e.apply(t,a);function r(t){zt(n,s,i,r,o,"next",t)}function o(t){zt(n,s,i,r,o,"throw",t)}r(void 0)}))})()}})},Lt=(a(140),Object(v.a)(Ft,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticClass:"content__split__right__tabs__myleave"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"myleavelist"},model:{value:t.openChangePassword,callback:function(e){t.openChangePassword=e},expression:"openChangePassword"}},[a("div",{staticClass:"card-header",attrs:{slot:"trigger",role:"button","aria-controls":"myleavelist"},slot:"trigger"},[a("p",{staticClass:"card-header-title has-text-info"},[t._v("\n                "+t._s(t.$t("app.change_password"))+"\n              ")]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:t.openChangePassword?"angle-down":"angle-up"}})],1)]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.changePassword()}}},[a("b-field",{attrs:{label:t.$t("app.current_password"),type:{"is-danger":t.credentialErrors.current_password.length>0},message:t.credentialErrors.current_password}},[a("b-input",{attrs:{placeholder:t.$t("app.current_password"),type:"password",value:"","icon-pack":"fas",icon:"lock"},model:{value:t.credentials.current_password,callback:function(e){t.$set(t.credentials,"current_password",e)},expression:"credentials.current_password"}})],1),t._v(" "),a("b-field",{attrs:{label:t.$t("app.new_password"),type:{"is-danger":t.credentialErrors.new_password.length>0},message:t.credentialErrors.new_password}},[a("b-input",{attrs:{placeholder:t.$t("app.new_password"),type:"password",value:"","icon-pack":"fas",icon:"key"},model:{value:t.credentials.new_password,callback:function(e){t.$set(t.credentials,"new_password",e)},expression:"credentials.new_password"}})],1),t._v(" "),a("b-field",{attrs:{label:t.$t("app.confirm_password"),type:{"is-danger":t.credentialErrors.confirm_new_password.length>0},message:t.credentialErrors.confirm_new_password}},[a("b-input",{attrs:{placeholder:t.$t("app.confirm_password"),type:"password",value:"","icon-pack":"fas",icon:"key"},model:{value:t.credentials.confirm_new_password,callback:function(e){t.$set(t.credentials,"confirm_new_password",e)},expression:"credentials.confirm_new_password"}})],1),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"change-password-btns"},[a("div",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isUpdatingPassword}},[t._v("\n                        "+t._s(t.isUpdatingPassword?t.$t("app.updating")+"...":t.$t("app.update"))+"\n                      ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelChangePassword()}}},[t._v(t._s(t.$t("app.cancel")))])],1),t._v(" "),a("p",{staticClass:"login-forget-password"},[a("inertia-link",{attrs:{href:"/password-reset-link"}},[t._v(t._s(t.$t("app.forget_pass_text")))])],1)])],1)])])])],1)]),t._v(" "),a("div",{staticClass:"column is-3"},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"myleavelist"},model:{value:t.openChangeLanguage,callback:function(e){t.openChangeLanguage=e},expression:"openChangeLanguage"}},[a("div",{staticClass:"card-header",attrs:{slot:"trigger",role:"button","aria-controls":"myleavelist"},slot:"trigger"},[a("p",{staticClass:"card-header-title has-text-info"},[t._v("\n                "+t._s(t.$t("app.change_language"))+"\n              ")]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:t.openChangeLanguage?"angle-down":"angle-up"}})],1)]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},t._l(t.languages,(function(e){return a("b-field",{key:e.name},[a("b-radio",{attrs:{"native-value":e.locale,type:"is-info",size:"is-medium"},model:{value:t.locale,callback:function(e){t.locale=e},expression:"locale"}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])],1)})),1)])])],1)])])])])}),[],!1,null,"52dbef8a",null).exports);function Mt(t,e,a,s,i,n,r){try{var o=t[n](r),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(s,i)}function Jt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Bt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(a),!0).forEach((function(e){Vt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Jt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Vt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Yt={name:"ESS",metaInfo:function(){return{title:"Employee Self Service"}},components:{Tab:r.a,Tabs:o.a,ProfileComponent:F,MyLeaveComponent:V,MyEntitlementComponent:K,EquipmentComponent:Tt,ConfigurationComponent:Lt},layout:n.a,props:{profile:{require:!0,type:Object},jobCategories:Array,jobTitles:Array,employmentStatuses:Array,branches:Array,departments:Array,units:Array,positions:Array,supervisors:Array,hods:Array,managers:Array,reportTo:Array,reportToMe:Array,directorates:Array,grantedEquipmentRequests:Array},computed:Bt({},Object(l.c)(["getProfile","getJobCategories","getJobTitles","getEmploymentStatus","getDepartments","getUnits","getCountries"])),beforeMount:function(){},created:function(){var t=this;this.dispatchProfile({payload:this.profile}),this.$nextTick((function(){t.dispatchJobCategory({payload:t.jobCategories}),t.dispatchJobTitle({payload:t.jobTitles}),t.dispatchEmploymentStatus({payload:t.employmentStatuses}),t.dispatchDepartment({payload:t.departments}),t.dispatchUnit({payload:t.units}),t.dispatchPosition({payload:t.positions}),t.getAllCountries(),t.dispatchProfile({type:"ADD_MY_LEADERS",payload:{supervisors:t.supervisors,hods:t.hods,reportTo:t.reportTo,reportToMe:t.reportToMe,directorates:t.directorates}}),t.dispatchEquipmentRequest({payload:1}),t.dispatchEquipmentAllocation({payload:1}),t.dispatchEquipmentRequest({type:"ADD_REQUESTS",payload:1}),t.dispatchEquipmentRequest({type:"ADD_GRANTED_REQUEST",payload:t.grantedEquipmentRequests}),t.dispatchEquipmentAllocation({type:"ADD_MY_ALLOCATIONS",payload:1})}))},data:function(){return{tabIndex:0,regex:new RegExp("^/dashboard/ess/[0-9]+/[a-z-]*$"),countries:[]}},methods:Bt(Bt({},Object(l.b)(["dispatchProfile","dispatchJobCategory","dispatchJobTitle","dispatchEmploymentStatus","dispatchDepartment","dispatchUnit","dispatchPosition","dispatchMyLeaders","dispatchCountry","dispatchEquipmentRequest","dispatchEquipmentAllocation"])),{},{getUserDepartment:function(t){if(t.job&&t.job.department){var e=this.getDepartments.find((function(e){return e.id===parseInt(t.job.department)}));return e?e.name:""}if(t.job&&t.job.unit){var a=this.getUnits.find((function(e){return e.id===parseInt(t.job.unit)}));return a?a.name:""}return""},getEmpStatus:function(t){if(t.job){var e=this.getEmploymentStatus.find((function(e){return e.id===parseInt(t.job.employmentStatus)}));return e?e.status:""}return""},getAllCountries:function(){var t,e=this;return(t=i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.getItem("countries")||localStorage.setItem("countries",JSON.stringify([])),0!==JSON.parse(localStorage.getItem("countries")).length){t.next=13;break}return t.prev=2,t.next=5,e.$axios.get("https://restcountries.eu/rest/v2/all");case 5:a=t.sent,localStorage.setItem("countries",JSON.stringify(a.data)),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(2);case 11:t.next=14;break;case 13:e.dispatchCountry({payload:JSON.parse(localStorage.getItem("countries"))});case 14:case"end":return t.stop()}}),t,null,[[2,9]])})),function(){var e=this,a=arguments;return new Promise((function(s,i){var n=t.apply(e,a);function r(t){Mt(n,s,i,r,o,"next",t)}function o(t){Mt(n,s,i,r,o,"throw",t)}r(void 0)}))})()}})},Qt=Object(v.a)(Yt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content__split"},[a("div",{staticClass:"content__split__left"},[a("div",{staticClass:"content__split__left__panel"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"profile__sidebar"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"phone"}}),t._v(" "),a("span",[t._v(t._s(t.getProfile.contact_details?t.getProfile.contact_details.mobile:""))])],1),t._v(" "),a("p",[a("b-icon",{attrs:{pack:"fas",icon:"envelope"}}),t._v(" "),a("span",[t._v(t._s(t.getProfile.contact_details?t.getProfile.contact_details.email:""))])],1)])])])]),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"profile__sidebar"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"id-card"}}),t._v(" "),a("span",[t._v(t._s(t.getProfile.personal_details?t.getProfile.personal_details.staffId:""))])],1),t._v(" "),a("p",[a("b-icon",{attrs:{pack:"fas",icon:"umbrella"}}),t._v(" "),a("span",[t._v(t._s(t.getUserDepartment(t.getProfile)))])],1),t._v(" "),a("p",[a("b-icon",{attrs:{pack:"fas",icon:"briefcase"}}),t._v(" "),a("span",[t._v(t._s(t.getEmpStatus(t.getProfile)))])],1)])])])]),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"profile__sidebar"},[t._m(0),t._v(" "),a("p",[a("b-icon",{attrs:{pack:"fas",icon:"calendar-alt"}}),t._v(" "),a("span",[t._v(t._s(t.formatDate(t.getProfile.job?t.getProfile.job.startDate:"")))])],1),t._v(" "),a("p",[a("b-icon",{attrs:{pack:"fas",icon:"clock"}}),t._v(" "),a("span",[t._v(t._s(t.formatTime(t.getProfile.job?t.getProfile.job.startDate:"")))])],1)])])])])])]),t._v(" "),a("div",{staticClass:"content__split__right"},[a("tabs",{attrs:{stickyTab:"content__split__right__sticky",tabIndex:t.tabIndex}},[a("tab",{attrs:{label:t.$t("app.profile")}},[a("ProfileComponent")],1),t._v(" "),t.regex.test(t.$page.url)?t._e():a("tab",{attrs:{label:"IT Equipment"}},[a("EquipmentComponent")],1),t._v(" "),t.regex.test(t.$page.url)?t._e():a("tab",{attrs:{label:t.$tc("app.configuration",2)}},[a("ConfigurationComponent")],1)],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Hire Date")])])}],!1,null,"0b6ca095",null);e.default=Qt.exports},8:function(t,e,a){"use strict";var s=a(13),i=a(0);function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l={name:"Dashboard",metaInfo:{title:"ADU Staff Portal",titleTemplate:"%s | ADU Staff Portal"},props:{userPermissions:{require:!0,type:Array}},computed:r(r({},Object(i.c)(["getDepartments","getOrganizationProfile","getProfile","getAuthUser","getJobTitles"])),{},{authUserName:function(){return"".concat(this.isNull(this.getAuthUser.title)," ").concat(this.getAuthUser.lastName," ").concat(this.getAuthUser.firstName," ").concat(this.isNull(this.getAuthUser.middleName))},authJobTitle:function(){var t=this;if(this.getAuthUser.jobTitle&&this.getJobTitles.length){var e=this.getJobTitles.find((function(e){return e.id===parseInt(t.getAuthUser.jobTitle)}));return e?e.title:""}return""},getLogo:function(){if(this.getOrganizationProfile)return this.getOrganizationProfile.logo},getOrgName:function(){if(this.getOrganizationProfile)return this.getOrganizationProfile.name}}),beforeMount:function(){var t=this;this.activePage=this.$page.url,s.Inertia.on("navigate",(function(e){t.activePage=e.detail.page.url})),localStorage.getItem("locale")?this.$lang.setLocale(localStorage.getItem("locale")):this.$lang.setLocale("en")},created:function(){this.dispatchAuthUser({payload:this.$page.props.authUser}),this.dispatchOrgnizationProfile({payload:this.$page.props.orgInfo})},mounted:function(){},data:function(){return{activePage:"",regex:new RegExp("^/dashboard/ess/[0-9]+/[a-z-]*$")}},methods:r(r({},Object(i.b)(["dispatchOrgnizationProfile","dispatchAuthUser"])),{},{isNull:function(t){return"null"===t?"":t}})},c=(a(84),a(1)),p=Object(c.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"v-cloak"},[a("div",{staticClass:"brand__logo"},[a("div",{staticClass:"brand__logo__main"},[a("img",{attrs:{src:"/storage/logo/"+t.getLogo,alt:"Brand Logo",srcset:""}})])]),t._v(" "),a("header",{staticClass:"header"},[a("nav",{staticClass:"header__nav"},[a("ul",{staticClass:"header__nav__list header__nav__list--left"},[a("li",{class:"header__nav__list__item "+("/dashboard"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard","preserve-scroll":"",headers:{"Custom-Header":"poopjpo"}}},[t._v(t._s(t.$t("app.dashboard")))])],1),t._v(" "),a("li",{class:"header__nav__list__item "+("/dashboard/ess"===t.activePage||t.regex.test(t.activePage)?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/ess","preserve-scroll":""}},[t._v(t._s(t.$t("app.employee")))])],1),t._v(" "),t.isPermission("view_admin")?a("li",{class:"header__nav__list__item "+("/dashboard/admin"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/admin","preserve-scroll":""}},[t._v(t._s(t.$t("app.admin")))])],1):t._e(),t._v(" "),t.isPermission("view_pim")?a("li",{class:"header__nav__list__item "+("/dashboard/pim"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/pim","preserve-scroll":""}},[t._v(t._s(t.$t("app.pim")))])],1):t._e(),t._v(" "),a("li",{class:"header__nav__list__item "+("/dashboard/kpi"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/kpi","preserve-scroll":""}},[t._v(t._s(t.$t("app.kpi")))])],1),t._v(" "),a("li",{class:"header__nav__list__item "+("/dashboard/staff-directory"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/staff-directory","preserve-scroll":""}},[t._v(t._s(t.$t("app.staff_directory")))])],1)]),t._v(" "),a("ul",{staticClass:"header__nav__list header__nav__list--right"},[a("li",{staticClass:"header__nav__list__item"},[a("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[a("p",{attrs:{slot:"trigger",role:"button"},slot:"trigger"},[a("b-icon",{attrs:{pack:"fas",icon:"exclamation-circle",size:"is-small"}})],1),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("a",{staticClass:"default",attrs:{href:"#"}},[t._v(" Notifications")])]),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("a",{staticClass:"default",attrs:{href:"#"}},[t._v(" Notifications")])]),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("a",{staticClass:"default",attrs:{href:"#"}},[t._v(" Notifications")])]),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("a",{staticClass:"default",attrs:{href:"#"}},[t._v(" Notifications")])])],1)],1),t._v(" "),a("li",{staticClass:"header__nav__list__item"},[a("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[a("p",{attrs:{slot:"trigger",role:"button"},slot:"trigger"},[a("b-icon",{attrs:{pack:"fas",icon:"cogs",size:"is-small"}})],1),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("inertia-link",{attrs:{href:"/dashboard/ess","preserve-scroll":""}},[a("b-icon",{attrs:{pack:"fas",icon:"user",size:"is-small"}}),t._v("\n                Â  "+t._s(t.$t("app.profile"))+"\n              ")],1)],1),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("inertia-link",{staticClass:"logout-btn",attrs:{href:"/logout",method:"POST",as:"button"}},[a("b-icon",{attrs:{pack:"fas",icon:"sign-out-alt",size:"is-small"}}),t._v("\n                Â  "+t._s(t.$t("app.logout")))],1)],1)],1)],1)])]),t._v(" "),a("div",{staticClass:"header__details"},[a("div",{staticClass:"header__details__avatar"},[a("div",{staticClass:"header__details__avatar__round"},[a("img",{attrs:{src:"/storage/avatar/"+t.getAuthUser.avatar,alt:"avatar",srcset:""}})])]),t._v(" "),a("div",{staticClass:"header__details__staff"},[a("strong",{staticClass:"header__details__staff__name"},[a("span",[t._v(t._s(t.authUserName))])]),t._v(" "),a("h4",{staticClass:"header__details__staff__title"},[a("span",[t._v(t._s(t.authJobTitle))])])]),t._v(" "),a("div",{staticClass:"header__details__brand__name"},[a("h4",[t._v(t._s(t.getOrgName))])])])]),t._v(" "),[t._t("default")],t._v(" "),a("vue-confirm-dialog")],2)}),[],!1,null,"591b84e2",null);e.a=p.exports},84:function(t,e,a){"use strict";a(29)},85:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,"[v-cloak][data-v-591b84e2]{display:none}.logout-btn[data-v-591b84e2]{border:none;background-color:transparent;color:#686767;cursor:pointer}.logout-btn[data-v-591b84e2]:active{border:none}",""])},86:function(t,e,a){"use strict";a(30)},87:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".s__tabs__content[data-v-1f542e2b]{width:100%}",""])},88:function(t,e,a){"use strict";a(31)},89:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".s__tabs[data-v-c7d6371c]{width:100%}.s__tabs__tab>ul[data-v-c7d6371c]{width:100%;display:flex;justify-content:flex-start;align-items:flex-start;list-style-type:none}.s__tabs__tab>ul>li[data-v-c7d6371c]{cursor:pointer;font-size:1rem;padding:.15rem .3rem;background-color:#99001c;color:#fff;border-radius:3px}.s__tabs__tab>ul>li[data-v-c7d6371c]:not(:last-child){margin-right:.3rem}.s__tabs__tab>ul>li>span[data-v-c7d6371c]{letter-spacing:.05rem;transition:color .2s ease-in}.isActive[data-v-c7d6371c]{color:#fff!important;background-color:#262626!important}",""])}}]);