(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{143:function(t,e,a){"use strict";a(44)},144:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".apparisal-details[data-v-618a14f6]{width:30rem}.apparisal-details__content[data-v-618a14f6]{width:100%;display:flex;justify-content:flex-start;align-items:flex-start}.apparisal-details__content__key[data-v-618a14f6]{width:35%;text-align:right;padding-right:.5rem}.apparisal-details__content__key>h3[data-v-618a14f6]{font-weight:700}.apparisal-details__content__value[data-v-618a14f6]{width:65%;padding-left:.5rem}.apparisal-details__content__value>p[data-v-618a14f6]{color:rgba(0,0,0,.842)!important}",""])},15:function(t,e,a){"use strict";var i={name:"Tab",props:{label:{require:!0,type:String}},data:function(){return{activeTab:!0}}},s=(a(87),a(1)),n=Object(s.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.activeTab,expression:"activeTab"}],staticClass:"s__tabs__content"},[this._t("default")],2)}),[],!1,null,"1f542e2b",null);e.a=n.exports},16:function(t,e,a){"use strict";var i={name:"Tabs",components:{Fragment:a(21).a},props:{tabIndex:{type:Number,default:0},stickyTab:{type:String,default:""}},created:function(){this.tabs=this.$children},mounted:function(){this.selectTab(this.tabIndex)},data:function(){return{selectedIndex:0,tabs:[]}},methods:{selectTab:function(t){this.selectedIndex=t,this.tabs.forEach((function(e,a){e.activeTab=a===t}))}}},s=(a(89),a(1)),n=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Fragment",[a("div",{staticClass:"s__tabs",class:t.stickyTab},[a("div",{staticClass:"s__tabs__tab"},[a("ul",t._l(t.tabs,(function(e,i){return a("li",{key:i,class:i===t.selectedIndex&&"isActive",on:{click:function(e){return t.selectTab(i)}}},[a("span",[t._v(t._s(e.label))])])})),0)])]),t._v(" "),t._t("default")],2)}),[],!1,null,"c7d6371c",null);e.a=n.exports},18:function(t,e,a){"use strict";(function(t){a.d(e,"a",(function(){return s}));var i=function(){return"undefined"!=typeof window?window:t},s=function(){var t=i();return t&&t.tinymce?t.tinymce:null}}).call(this,a(9))},29:function(t,e,a){var i=a(86);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(6)(i,s);i.locals&&(t.exports=i.locals)},3:function(t,e,a){"use strict";var i={name:"Paginate",props:{state:{require:!0,type:Object},dispatch:{require:!0,type:Function},dispatchAction:{default:"",type:String}},computed:{currentPage:{get:function(){return this.state.current_page||0},set:function(t){this.dispatchAction?this.dispatch({type:this.dispatchAction,payload:t||0}):this.dispatch({payload:t||0})}},perPage:{get:function(){return this.state.per_page||0}},totalPage:{get:function(){return this.state.total||0}}},watch:{},data:function(){return{order:"is-right",size:"",isSimple:!0,isRounded:!0,prevIcon:"chevron-left",nextIcon:"chevron-right"}}},s=a(1),n=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-pagination",{attrs:{total:t.totalPage,order:t.order,size:t.size,simple:t.isSimple,"per-page":t.perPage,"icon-prev":t.prevIcon,"icon-next":t.nextIcon,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)}),[],!1,null,null,null);e.a=n.exports},30:function(t,e,a){var i=a(88);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(6)(i,s);i.locals&&(t.exports=i.locals)},31:function(t,e,a){var i=a(90);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(6)(i,s);i.locals&&(t.exports=i.locals)},44:function(t,e,a){var i=a(144);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(6)(i,s);i.locals&&(t.exports=i.locals)},52:function(t,e,a){"use strict";a.r(e);var i=a(8),s=a(15),n=a(16),r=a(0),o=a(17),l=a.n(o);a(20);function c(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){f(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v={name:"ConfigureAppraisalModal",components:{Treeselect:l.a},props:{editAppraisal:{default:null}},computed:u(u({},Object(r.c)(["getUsers","getRoles","getDepartments","getUnits"])),{},{getDpts:function(){var t=this.getDepartments.map((function(t){return{id:t.id,label:t.name}}));return[{id:"none",label:"None"},{id:"all",label:"All"}].concat(c(t))},getUnitss:function(){var t=this.getUnits.map((function(t){return{id:t.id,label:t.name}}));return[{id:"none",label:"None"},{id:"all",label:"All"}].concat(c(t))},getAllRoles:function(){var t=this.getRoles.map((function(t){return{id:t.id,label:t.role}}));return[{id:"none",label:"None"},{id:"all",label:"All"}].concat(c(t))}}),beforeMount:function(){var t=this;this.$nextTick((function(){if(t.editAppraisal){var e=t.editAppraisal;t.appraisal={name:e.name,period:{from:new Date(e.period.from),to:new Date(e.period.to)},sap:{open:new Date(e.sap_timestamp.open),close:new Date(e.sap_timestamp.close)},np:{open:new Date(e.np_timestamp.open),close:new Date(e.np_timestamp.close)},description:e.description,applicableFor:{department:e.departments||[],unit:e.units||[],role:e.roles?t.findRoleIds(e.roles):[]}}}}))},data:function(){return{isSubmitting:!1,appraisal:{name:"",period:{from:null,to:null},sap:{open:null,close:null},np:{open:null,close:null},description:"",applicableFor:{department:[],unit:[],role:[]}},appraisalErrors:{name:[],period:{from:[],to:[]},sap:{open:[],close:[]},np:{open:[],close:[]},description:[],applicableFor:{department:[],unit:[],role:[]}}}},methods:u(u({},Object(r.b)(["dispatchUserAccount","dispatchStaffCount","dispatchKPI"])),{},{cancelModal:function(){this.$emit("close")},addAppraisalCycle:function(){var t=this;this.setAppraisalErrors(),this.isSubmitting=!0,this.$axios.post("/dashboard/add-appraisal",this.appraisal).then((function(e){200===e.status&&e.data.created&&(t.clearAppraisalForm(),t.dispatchKPI({type:"ADD_NEW_APPRAISAL",payload:e.data.appraisal}),setTimeout((function(){t.snackbar("Appraisal added successfully.","is-success")}),1e3)),t.isSubmitting=!1})).catch((function(e){t.isSubmitting=!1,422===e.response.status&&t.setAppraisalErrors(e.response.data.errors)}))},updateAppraisalCycle:function(){var t=this;this.setAppraisalErrors(),this.isSubmitting=!0,this.$axios.put("/dashboard/update-appraisal/".concat(this.editAppraisal.id),this.appraisal).then((function(e){200===e.status&&e.data.created&&(console.log(e.data.appraisal),t.clearAppraisalForm(),t.dispatchKPI({type:"UPDATE_APPRAISAL",payload:e.data.appraisal}),t.$nextTick((function(){t.cancelModal(),t.snackbar("Appraisal updated successfully.","is-success")}))),t.isSubmitting=!1})).catch((function(e){t.isSubmitting=!1,422===e.response.status&&t.setAppraisalErrors(e.response.data.errors)}))},cancelAppraisalForm:function(){var t=this;this.$emit("close"),this.$nextTick((function(){t.clearAppraisalForm(),t.setAppraisalErrors()}))},clearAppraisalForm:function(){this.appraisal={name:"",period:{from:null,to:null},sap:{open:null,close:null},np:{open:null,close:null},description:"",applicableFor:{branch:[],department:[],unit:[],role:[]}}},setAppraisalErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.appraisalErrors={name:t.name||[],period:{from:t["period.from"]||[],to:t["period.to"]||[]},sap:{open:t["sap.open"]||[],close:t["sap.close"]||[]},np:{open:t["np.open"]||[],close:t["np.close"]||[]},description:t.description||[],applicableFor:{branch:t["applicableFor.branch"]||[],department:t["applicableFor.department"]||[],unit:t["applicableFor.unit"]||[],role:t["applicableFor.role"]||[]}}},findRoleIds:function(t){var e=this,a=[];return t.forEach((function(t){if(e.getRoles.find((function(e){return e.role===t}))){var i=e.getRoles.find((function(e){return e.role===t}));a=[].concat(c(a),[i.id])}})),a}})},b=a(1),m=Object(b.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){e.preventDefault(),t.editAppraisal?t.updateAppraisalCycle():t.addAppraisalCycle()}}},[a("div",{staticClass:"modal-card py-4",staticStyle:{width:"700px"}},[a("header",{staticClass:"modal-card-head"},[a("h4",{staticClass:"modal-card-title text-main label pt-2"},[t._v("Appraisal Cycle")]),t._v(" "),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.cancelAppraisalForm()}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("h5",{staticClass:"text-main pb-3"},[t._v("Add New Appraisal")]),t._v(" "),a("b-field",{attrs:{horizontal:"",label:"Name",type:{"is-danger":t.appraisalErrors.name.length>0},message:t.appraisalErrors.name}},[a("b-input",{attrs:{expanded:""},model:{value:t.appraisal.name,callback:function(e){t.$set(t.appraisal,"name",e)},expression:"appraisal.name"}})],1),t._v(" "),a("b-field",{attrs:{horizontal:"",label:"Period"}},[a("b-field",{attrs:{label:"From",type:{"is-danger":t.appraisalErrors.period.from.length>0},message:t.appraisalErrors.period.from}},[a("b-datepicker",{attrs:{placeholder:"Click to select...",icon:"calendar","trap-focus":""},model:{value:t.appraisal.period.from,callback:function(e){t.$set(t.appraisal.period,"from",e)},expression:"appraisal.period.from"}})],1),t._v(" "),a("b-field",{attrs:{label:"To",type:{"is-danger":t.appraisalErrors.period.to.length>0},message:t.appraisalErrors.period.to}},[a("b-datepicker",{attrs:{placeholder:"Click to select...",icon:"calendar","trap-focus":""},model:{value:t.appraisal.period.to,callback:function(e){t.$set(t.appraisal.period,"to",e)},expression:"appraisal.period.to"}})],1)],1),t._v(" "),a("b-field",{attrs:{horizontal:"",label:"Self Appraisal Period"}},[a("b-field",{attrs:{label:"Open on",type:{"is-danger":t.appraisalErrors.sap.open.length>0},message:t.appraisalErrors.sap.open}},[a("b-datepicker",{attrs:{placeholder:"Click to select...",icon:"calendar","trap-focus":""},model:{value:t.appraisal.sap.open,callback:function(e){t.$set(t.appraisal.sap,"open",e)},expression:"appraisal.sap.open"}})],1),t._v(" "),a("b-field",{attrs:{label:"Close on",type:{"is-danger":t.appraisalErrors.sap.close.length>0},message:t.appraisalErrors.sap.close}},[a("b-datepicker",{attrs:{placeholder:"Click to select...",icon:"calendar","trap-focus":""},model:{value:t.appraisal.sap.close,callback:function(e){t.$set(t.appraisal.sap,"close",e)},expression:"appraisal.sap.close"}})],1)],1),t._v(" "),a("b-field",{attrs:{horizontal:"",label:"Nomalizationn Period"}},[a("b-field",{attrs:{label:"Open on",type:{"is-danger":t.appraisalErrors.np.open.length>0},message:t.appraisalErrors.np.open}},[a("b-datepicker",{attrs:{placeholder:"Click to select...",icon:"calendar","trap-focus":""},model:{value:t.appraisal.np.open,callback:function(e){t.$set(t.appraisal.np,"open",e)},expression:"appraisal.np.open"}})],1),t._v(" "),a("b-field",{attrs:{label:"Close on",type:{"is-danger":t.appraisalErrors.np.close.length>0},message:t.appraisalErrors.np.close}},[a("b-datepicker",{attrs:{placeholder:"Click to select...",icon:"calendar","trap-focus":""},model:{value:t.appraisal.np.close,callback:function(e){t.$set(t.appraisal.np,"close",e)},expression:"appraisal.np.close"}})],1)],1),t._v(" "),a("b-field",{attrs:{horizontal:"",label:"Description",type:{"is-danger":t.appraisalErrors.description.length>0},message:t.appraisalErrors.description}},[a("b-input",{attrs:{expanded:"",type:"textarea"},model:{value:t.appraisal.description,callback:function(e){t.$set(t.appraisal,"description",e)},expression:"appraisal.description"}})],1),t._v(" "),a("h5",{staticClass:"text-main pb-3"},[t._v("Applicable For")]),t._v(" "),a("b-field",{attrs:{horizontal:"",label:"Department",type:{"is-danger":t.appraisalErrors.applicableFor.department.length>0},message:t.appraisalErrors.applicableFor.department}},[a("treeselect",{attrs:{multiple:!0,options:t.getDpts,placeholder:"Select department(s)..."},model:{value:t.appraisal.applicableFor.department,callback:function(e){t.$set(t.appraisal.applicableFor,"department",e)},expression:"appraisal.applicableFor.department"}})],1),t._v(" "),a("b-field",{attrs:{horizontal:"",label:"Unit",type:{"is-danger":t.appraisalErrors.applicableFor.unit.length>0},message:t.appraisalErrors.applicableFor.unit}},[a("treeselect",{attrs:{multiple:!0,options:t.getUnitss,placeholder:"Select unit(s)..."},model:{value:t.appraisal.applicableFor.unit,callback:function(e){t.$set(t.appraisal.applicableFor,"unit",e)},expression:"appraisal.applicableFor.unit"}})],1),t._v(" "),a("b-field",{attrs:{horizontal:"",label:"Role",type:{"is-danger":t.appraisalErrors.applicableFor.role.length>0},message:t.appraisalErrors.applicableFor.role}},[a("treeselect",{attrs:{multiple:!0,options:t.getAllRoles,placeholder:"Select role(s)..."},model:{value:t.appraisal.applicableFor.role,callback:function(e){t.$set(t.appraisal.applicableFor,"role",e)},expression:"appraisal.applicableFor.role"}})],1)],1),t._v(" "),a("footer",{staticClass:"modal-card-foot buttons"},[t.editAppraisal?a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n        "+t._s(t.isSubmitting?"Saving...":"Save")+"\n      ")]):a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n        "+t._s(t.isSubmitting?"Submitting...":"Add")+"\n      ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelAppraisalForm()}}},[t._v("Cancel")])],1)])])}),[],!1,null,"087167c9",null).exports,h=a(3);function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){y(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function y(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var A={name:"AppraiseeListModal",props:{appraisal:{require:!0,type:Object}},components:{Paginate:h.a},computed:g({},Object(r.c)(["getAppraisees","getJobTitles"])),beforeMount:function(){var t=this;this.$nextTick((function(){t.dispatchKPI({type:"ADD_APPRAISEES",payload:{id:t.appraisal.id,page:1}})}))},data:function(){return{defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",selectedAppraisees:[],isSubmitting:!1,isLoading:!1,noAppraisalFound:!1,showAssignRoleForm:!1,showAssignStatusForm:!1}},methods:g(g({},Object(r.b)(["dispatchKPI"])),{},{cancelModal:function(){this.$emit("close")},removeAppraisee:function(t){var e=this,a=this.appraisal.staff.filter((function(e){return e!==t}));this.$axios.put("/dashboard/remove-appraisee/".concat(this.appraisal.id),{staff:a}).then((function(a){a.data.removed&&(setTimeout((function(){e.snackbar("Staff removed successfully.","is-success")}),1e3),e.dispatchKPI({type:"DELETE_APPRAISEE",payload:t}))})).catch((function(t){console.trace(t)}))},removeAppraisees:function(){var t=this,e=this.selectedAppraisees.map((function(t){return t.user_id})),a=this.arrayDiff(this.appraisal.staff,e);this.$axios.put("/dashboard/remove-appraisee/".concat(this.appraisal.id),{staff:a}).then((function(a){a.data.removed&&(setTimeout((function(){t.snackbar("Staff removed successfully.","is-success")}),1e3),t.dispatchKPI({type:"DELETE_APPRAISEES",payload:e}))})).catch((function(t){console.trace(t)}))},getJobTitle:function(t){return t&&this.getJobTitles.find((function(e){return e.id===parseInt(t)})).title||""},isNull:function(t){return"null"===t||null===t?"":t},getFullName:function(t){return"".concat(this.isNull(t.title)," ").concat(t.firstName," ").concat(this.isNull(t.middleName)," ").concat(t.lastName)}})},k=Object(b.a)(A,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card py-4",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("h4",{staticClass:"modal-card-title text-main label pt-2"},[t._v("Appraisee List")]),t._v(" "),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.cancelModal()}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header",attrs:{role:"button"}},[a("article",{staticClass:"table__header"},[a("section",{staticClass:"table__header__lists"},[a("div",{staticClass:"table__header__lists__item",on:{click:function(e){return t.openConfigureAppraisal()}}},[a("b-tooltip",{attrs:{label:"Include Staff",type:"is-dark",position:"is-right"}},[a("b-icon",{staticClass:"icon--wrapper",attrs:{icon:"plus"}})],1)],1),t._v(" "),a("div",{staticClass:"table__header__lists__item",on:{click:function(e){return t.openQueryForm()}}},[a("b-tooltip",{attrs:{label:"Search staff",type:"is-dark",position:"is-right"}},[a("b-icon",{staticClass:"icon--wrapper",attrs:{icon:"search"}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"appraisal__title"},[a("p",[t._v(t._s(t.appraisal.name))]),t._v(" "),a("p",[t._v("\n              "+t._s(" "+t.formatDate2(t.appraisal.period.from)+" - "+t.formatDate2(t.appraisal.period.to))+"\n            ")]),t._v(" "),a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[t._v("Total Staff")]),t._v(" "),a("b-tag",{attrs:{type:"is-info",size:"is-medium"}},[t._v(t._s(t.appraisal.staff.length))])],1)],1),t._v(" "),a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.selectedAppraisees.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.removeAppraisees()}}},[t._v("Delete appraisees")])],1)],1),t._v(" "),a("b-table",{attrs:{data:t.getAppraisees.data,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"checked-rows":t.selectedAppraisees,loading:t.isLoading,checkable:"",striped:"",hoverable:"","default-sort":"lastName","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.selectedAppraisees=e},"update:checked-rows":function(e){t.selectedAppraisees=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("paginate",{attrs:{state:t.getAppraisees,dispatch:t.dispatchKPI,action:"ADD_APPRAISEES"}})]},proxy:!0},t.noAppraisalFound?{key:"empty",fn:function(){return[a("article",{staticClass:"table__data__notfound"},[a("b-icon",{attrs:{icon:"database",pack:"fas"}}),t._v(" "),a("strong",{staticClass:"pt-3"},[t._v("Ooops! No appraisal found.")])],1)]},proxy:!0}:null],null,!0)},[a("b-table-column",{attrs:{field:"lastName",label:"Staff",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticStyle:{"margin-bottom":"0"}},[a("strong",{},[t._v(t._s(t.getFullName(e.row)))]),t._v(" "),a("span",{staticClass:"format__staff"},[t._v(t._s(t.getJobTitle(e.row.jobTitle)?"- "+t.getJobTitle(e.row.jobTitle):""))])]),t._v(" "),e.row.department?a("p",{staticClass:"format__staff",staticStyle:{"margin-bottom":"0"}},[a("strong",{},[t._v("Department:: ")]),t._v("\n                "+t._s(e.row.department)+"\n              ")]):t._e(),t._v(" "),e.row.unit?a("p",{staticClass:"format__staff",staticStyle:{"margin-bottom":"0"}},[a("strong",{},[t._v("Unit:: ")]),t._v("\n                "+t._s(e.row.unit)+"\n              ")]):t._e()]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Delete",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash",disabled:!t.isPermission("delete")},on:{click:function(a){return t.removeAppraisee(e.row.user_id)}}})],1)],1)]}}])})],1)],1)])])]),t._v(" "),a("footer",{staticClass:"modal-card-foot buttons"},[a("b-button",{staticClass:"is-dark is-light",on:{click:function(e){return t.cancelModal()}}},[t._v("Close")])],1)])}),[],!1,null,"f9ca8922",null).exports;function C(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return S(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){O(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function O(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var x,P={name:"ManageAppraisal",components:{Paginate:h.a,ConfigureAppraisalModal:m,AppraiseeListModal:k},computed:E(E({},Object(r.c)(["getAppraisals","getUsers","getRolePermissions","getDepartments","getUnits","getRoles"])),{},{getViewAppraisalId:function(){return this.viewAppraisalId}}),mounted:function(){var t=this;this.isLoading=!0,this.$nextTick((function(){t.getUsers.data.length>0?t.isLoading=!1:setTimeout((function(){t.isLoading=!1,t.noAppraisalFound=!0}),1e3)}))},data:function(){return{defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",selectedAppraisals:[],selectedRating:[],isSubmitting:!1,selected:null,noAppraisalFound:!1,isLoading:!1,toggleRatingForm:!1,showAssignRoleForm:!1,showAssignStatusForm:!1,viewAppraisalId:"",viewAppraisal:null,rating:{reference:"",score:"",description:""},ratingErrors:{reference:[],score:[],description:[]}}},methods:E(E({},Object(r.b)(["dispatchUserAccount","dispatchStaffCount","dispatchKPI"])),{},{openViewAppraisalDropper:function(t){this.viewAppraisalId=t.id,this.viewAppraisal=t;var e=this.$refs.viewAppraisalDropper;e&&e.open()},closeViewAppraisalDropper:function(){var t=this,e=this.$refs.viewAppraisalDropper;e&&(e.close(),this.$nextTick((function(){t.viewAppraisal=null})))},deleteAppraisal:function(t){var e=this;this.$axios.delete("/dashboard/delete-appraisal/".concat(t)).then((function(a){a.data.deleted&&(setTimeout((function(){e.snackbar("Appraisal deleted successfully.","is-success")}),1e3),e.dispatchKPI({type:"DELETE_APPRAISAL",payload:t}))})).catch((function(t){console.trace(t)}))},deleteAppraisals:function(){var t=this,e=this.selectedAppraisals.map((function(t){return t.id}));this.$axios.delete("/dashboard/delete-appraisals/".concat(e)).then((function(a){a.data.deleted&&(setTimeout((function(){t.snackbar("Appraisal deleted successfully.","is-success")}),1e3),t.dispatchKPI({type:"DELETE_APPRAISALS",payload:e}))})).catch((function(t){console.trace(t)}))},openConfigureAppraisal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$buefy.modal.open({parent:this,component:m,hasModalCard:!0,trapFocus:!0,canCancel:["escape"],props:{editAppraisal:t}})},openAppraiseListModal:function(t){this.$buefy.modal.open({parent:this,component:k,hasModalCard:!0,trapFocus:!0,fullScreen:!0,canCancel:["escape"],props:{appraisal:t}})},findDepartments:function(t){var e=this,a=[];return t.forEach((function(t){if(e.getDepartments.find((function(e){return e.id===t}))){var i=e.getDepartments.find((function(e){return e.id===t}));a=[].concat(C(a),[i.name])}})),a},findUnits:function(t){var e=this,a=[];return t.forEach((function(t){if(e.getUnits.find((function(e){return e.id===t}))){var i=e.getUnits.find((function(e){return e.id===t}));a=[].concat(C(a),[i.name])}})),a},findRoles:function(t){var e=this,a=[];return t.forEach((function(t){if(e.getRoles.find((function(e){return e.id===t}))){var i=e.getRoles.find((function(e){return e.id===t}));a=[].concat(C(a),[i.role])}})),a}})},D=(a(143),Object(b.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-tabs",{attrs:{type:"is-toggle",size:"",animated:!1,expanded:""}},[a("b-tab-item",{attrs:{label:"Appraisal"}},[a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header",attrs:{role:"button"}},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("Appraisal Cycles")]),t._v(" "),a("section",{staticClass:"table__header__lists"},[a("div",{staticClass:"table__header__lists__item",on:{click:function(e){return t.openQueryForm()}}},[a("b-tooltip",{attrs:{label:"Search appraisals",type:"is-dark",position:"is-left"}},[a("b-icon",{staticClass:"icon--wrapper",attrs:{icon:"search"}})],1)],1),t._v(" "),a("div",{staticClass:"table__header__lists__item",on:{click:function(e){return t.openConfigureAppraisal()}}},[a("b-tooltip",{attrs:{label:"Configure Appraisal",type:"is-dark",position:"is-left"}},[a("b-icon",{staticClass:"icon--wrapper",attrs:{icon:"cogs"}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.selectedAppraisals.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.deleteAppraisals()}}},[t._v("Delete appraisals")])],1)],1),t._v(" "),a("b-table",{attrs:{data:t.getAppraisals.data,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"checked-rows":t.selectedAppraisals,loading:t.isLoading,checkable:"",striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.selectedAppraisals=e},"update:checked-rows":function(e){t.selectedAppraisals=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("paginate",{attrs:{state:t.getAppraisals,dispatch:t.dispatchKPI}})]},proxy:!0},t.noAppraisalFound?{key:"empty",fn:function(){return[a("article",{staticClass:"table__data__notfound"},[a("b-icon",{attrs:{icon:"database",pack:"fas"}}),t._v(" "),a("strong",{staticClass:"pt-3"},[t._v("Ooops! No appraisal found.")])],1)]},proxy:!0}:null],null,!0)},[a("b-table-column",{staticClass:"is-info",attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"name",label:"Appraisal Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"manage_appraisee",label:"Manage Appraisee",centered:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"cogs"},on:{click:function(a){return t.openAppraiseListModal(e.row)}}})]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"View Appraisal",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-light",attrs:{size:"is-small",pack:"fas","icon-right":"eye",id:("view-appraisal-"+(e.row.id===t.getViewAppraisalId?t.getViewAppraisalId:"")).toString()},on:{click:function(a){return t.openViewAppraisalDropper(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Edit Appraisal",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen"},on:{click:function(a){return t.openConfigureAppraisal(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deleteAppraisal(e.row.id)}}})],1)],1)]}}])})],1)],1)])])])]),t._v(" "),a("b-tab-item",{attrs:{label:"Performnace Metrics"}},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"querystaff"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"querystaff"}},[a("p",{staticClass:"card-header-title"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:"plus"}}),t._v(" "),a("span",{staticClass:"has-text-info"},[t._v(" Add New Metric")])],1),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}]),model:{value:t.toggleRatingForm,callback:function(e){t.toggleRatingForm=e},expression:"toggleRatingForm"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addAppraisalCycle()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{staticClass:"is-horizontal-text-left",attrs:{horizontal:"",label:"Metric",type:{"is-danger":t.ratingErrors.reference.length>0},message:t.ratingErrors.reference}},[a("b-input",{attrs:{expanded:""},model:{value:t.rating.reference,callback:function(e){t.$set(t.rating,"reference",e)},expression:"rating.reference"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{staticClass:"is-horizontal-text-left",attrs:{horizontal:"",label:"Description",type:{"is-danger":t.ratingErrors.description.length>0},message:t.ratingErrors.description}},[a("b-input",{attrs:{expanded:"",type:"textarea"},model:{value:t.rating.description,callback:function(e){t.$set(t.rating,"description",e)},expression:"rating.description"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n                    "+t._s(t.isSubmitting?"Submitting...":"Add")+"\n                  ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelAppraisalForm()}}},[t._v("Cancel")])],1)],1)])])])],1),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("Metrics")])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.selectedRating.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.deleteWorkShifts()}}},[t._v("Delete shifts")])],1)],1),t._v(" "),a("b-table",{attrs:{data:[],paginated:!0,"per-page":100,"current-page":1,"pagination-simple":!0,"pagination-position":"bottom","default-sort-direction":"desc","sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,checkable:"",hoverable:"","checked-rows":t.selectedRating,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.selectedRating=e},"update:checked-rows":function(e){t.selectedRating=e}},scopedSlots:t._u([t.noAppraisalFound?{key:"empty",fn:function(){return[a("article",{staticClass:"table__data__notfound"},[a("b-icon",{attrs:{icon:"database",pack:"fas"}}),t._v(" "),a("strong",{staticClass:"pt-3"},[t._v("Ooops! No rating found.")])],1)]},proxy:!0}:null],null,!0)},[a("b-table-column",{attrs:{field:"score",label:"Score",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"reference",label:"Reference",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatTime(e.row.from)))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"description",label:"Description",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatTime(e.row.to)))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Edit",type:" is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:"shift-id"+e.row.id},on:{click:function(a){return t.setShiftToEdit(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",type:" is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deleteWorkShift(e.row.id)}}})],1)],1)]}}])})],1)],1)])])])]),t._v(" "),a("b-tab-item",{attrs:{label:"Rating"}},[a("section",{staticClass:"b__collapse__section"},[a("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"querystaff"},scopedSlots:t._u([{key:"trigger",fn:function(e){return a("div",{staticClass:"card-header",attrs:{role:"button","aria-controls":"querystaff"}},[a("p",{staticClass:"card-header-title"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:"plus"}}),t._v(" "),a("span",{staticClass:"has-text-info"},[t._v(" Add New Rating")])],1),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{type:"is-info",pack:"fas",icon:e.open?"angle-up":"angle-down"}})],1)])}}]),model:{value:t.toggleRatingForm,callback:function(e){t.toggleRatingForm=e},expression:"toggleRatingForm"}},[t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addAppraisalCycle()}}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{staticClass:"is-horizontal-text-left",attrs:{horizontal:"",label:"Reference",type:{"is-danger":t.ratingErrors.reference.length>0},message:t.ratingErrors.reference}},[a("b-input",{attrs:{expanded:""},model:{value:t.rating.reference,callback:function(e){t.$set(t.rating,"reference",e)},expression:"rating.reference"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{staticClass:"is-horizontal-text-left",attrs:{horizontal:"",label:"Score",type:{"is-danger":t.ratingErrors.score.length>0},message:t.ratingErrors.score}},[a("b-input",{attrs:{expanded:""},model:{value:t.rating.score,callback:function(e){t.$set(t.rating,"score",e)},expression:"rating.score"}})],1)],1)]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{staticClass:"is-horizontal-text-left",attrs:{horizontal:"",label:"Description",type:{"is-danger":t.ratingErrors.description.length>0},message:t.ratingErrors.description}},[a("b-input",{attrs:{expanded:"",type:"textarea"},model:{value:t.rating.description,callback:function(e){t.$set(t.rating,"description",e)},expression:"rating.description"}})],1)],1)]),t._v(" "),a("hr"),t._v(" "),a("b-field",{staticClass:"buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n                    "+t._s(t.isSubmitting?"Submitting...":"Add")+"\n                  ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelAppraisalForm()}}},[t._v("Cancel")])],1)],1)])])])],1),t._v(" "),a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("Ratings")])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.selectedRating.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.deleteWorkShifts()}}},[t._v("Delete shifts")])],1)],1),t._v(" "),a("b-table",{attrs:{data:[],paginated:!0,"per-page":100,"current-page":1,"pagination-simple":!0,"pagination-position":"bottom","default-sort-direction":"desc","sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,checkable:"",hoverable:"","checked-rows":t.selectedRating,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.selectedRating=e},"update:checked-rows":function(e){t.selectedRating=e}},scopedSlots:t._u([t.noAppraisalFound?{key:"empty",fn:function(){return[a("article",{staticClass:"table__data__notfound"},[a("b-icon",{attrs:{icon:"database",pack:"fas"}}),t._v(" "),a("strong",{staticClass:"pt-3"},[t._v("Ooops! No rating found.")])],1)]},proxy:!0}:null],null,!0)},[a("b-table-column",{attrs:{field:"score",label:"Score",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"reference",label:"Reference",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatTime(e.row.from)))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"description",label:"Description",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatTime(e.row.to)))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Edit",type:" is-dark"}},[a("b-button",{staticClass:"is-info is-light",attrs:{size:"is-small",pack:"fas","icon-right":"pen",id:"shift-id"+e.row.id},on:{click:function(a){return t.setShiftToEdit(e.row)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",type:" is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash"},on:{click:function(a){return t.deleteWorkShift(e.row.id)}}})],1)],1)]}}])})],1)],1)])])])])],1),t._v(" "),a("dropper",{ref:"viewAppraisalDropper",staticClass:"dropper",attrs:{join:"#view-appraisal-"+t.getViewAppraisalId,"z-index":9999},on:{"esc-keydown":t.closeViewAppraisalDropper,"other-area-clicked":t.closeViewAppraisalDropper}},[a("h4",{staticClass:"modal-card-title text-main label pt-2"},[t._v("View Appraisal")]),t._v(" "),t.viewAppraisal?a("section",{staticClass:"apparisal-details"},[a("h5",{staticClass:"label pt-2"},[t._v("Details")]),t._v(" "),a("div",{staticClass:"apparisal-details__content"},[a("div",{staticClass:"apparisal-details__content__key"},[a("h3",[t._v("Name")])]),t._v(" "),a("div",{staticClass:"apparisal-details__content__value"},[a("p",[t._v(t._s(t.viewAppraisal.name))])])]),t._v(" "),a("div",{staticClass:"apparisal-details__content"},[a("div",{staticClass:"apparisal-details__content__key"},[a("h3",[t._v("Period")])]),t._v(" "),a("div",{staticClass:"apparisal-details__content__value"},[a("p",[t._v("\n            "+t._s(" "+t.formatDate2(t.viewAppraisal.period.from)+" - "+t.formatDate2(t.viewAppraisal.period.to))+"\n          ")])])]),t._v(" "),a("div",{staticClass:"apparisal-details__content"},[a("div",{staticClass:"apparisal-details__content__key"},[a("h3",[t._v("Self Appraisal Period")])]),t._v(" "),a("div",{staticClass:"apparisal-details__content__value"},[a("p",[t._v("\n            "+t._s(" "+t.formatDate2(t.viewAppraisal.sap_timestamp.open)+" - "+t.formatDate2(t.viewAppraisal.sap_timestamp.close))+"\n          ")])])]),t._v(" "),a("div",{staticClass:"apparisal-details__content"},[a("div",{staticClass:"apparisal-details__content__key"},[a("h3",[t._v("Nomalization Period")])]),t._v(" "),a("div",{staticClass:"apparisal-details__content__value"},[a("p",[t._v("\n            "+t._s(" "+t.formatDate2(t.viewAppraisal.np_timestamp.open)+" - "+t.formatDate2(t.viewAppraisal.np_timestamp.close))+"\n          ")])])]),t._v(" "),t.viewAppraisal.description?a("div",{staticClass:"apparisal-details__content"},[a("div",{staticClass:"apparisal-details__content__key"},[a("h3",[t._v("Description")])]),t._v(" "),a("div",{staticClass:"apparisal-details__content__value"},[a("p",[t._v("\n            "+t._s(t.viewAppraisal.description)+"\n          ")])])]):t._e(),t._v(" "),a("h5",{staticClass:"label pt-2"},[t._v("Applicable for")]),t._v(" "),t.viewAppraisal.departments&&t.viewAppraisal.departments.length?a("div",{staticClass:"apparisal-details__content"},[a("div",{staticClass:"apparisal-details__content__key"},[a("h3",[t._v("Department")])]),t._v(" "),a("div",{staticClass:"apparisal-details__content__value"},[a("p",t._l(t.findDepartments(t.viewAppraisal.departments),(function(e,i){return a("span",{key:"d-"+i},[i===t.viewAppraisal.departments.length-1?a("span",[t._v(t._s(" "+e))]):a("span",[t._v(t._s(e+", "))])])})),0)])]):t._e(),t._v(" "),t.viewAppraisal.units&&t.viewAppraisal.units.length?a("div",{staticClass:"apparisal-details__content"},[a("div",{staticClass:"apparisal-details__content__key"},[a("h3",[t._v("Unit")])]),t._v(" "),a("div",{staticClass:"apparisal-details__content__value"},[a("p",t._l(t.findUnits(t.viewAppraisal.units),(function(e,i){return a("span",{key:"u-"+i},[i===t.viewAppraisal.units.length-1?a("span",[t._v(t._s(" "+e))]):a("span",[t._v(t._s(e+", "))])])})),0)])]):t._e(),t._v(" "),t.viewAppraisal.roles&&t.viewAppraisal.roles.length?a("div",{staticClass:"apparisal-details__content"},[a("div",{staticClass:"apparisal-details__content__key"},[a("h3",[t._v("Role")])]),t._v(" "),a("div",{staticClass:"apparisal-details__content__value"},[a("p",t._l(t.findRoles(t.viewAppraisal.roles),(function(e,i){return a("span",{key:"role-"+i},[i===t.viewAppraisal.roles.length-1?a("span",[t._v(t._s(" "+e))]):a("span",[t._v(t._s(e+", "))])])})),0)])]):t._e()]):t._e()])],1)}),[],!1,null,"618a14f6",null).exports),G=a(2),I=a.n(G),j=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],$=function(t){return-1!==j.map((function(t){return t.toLowerCase()})).indexOf(t.toLowerCase())},M=function(t,e,a){var i=e.$props.value?e.$props.value:"",s=e.$props.initialValue?e.$props.initialValue:"";a.setContent(i||(e.initialized?e.cache:s)),e.$watch("value",(function(t,i){a&&"string"==typeof t&&t!==i&&t!==a.getContent({format:e.$props.outputFormat})&&a.setContent(t)})),e.$listeners.input&&function(t,e){var a=t.$props.modelEvents?t.$props.modelEvents:null,i=Array.isArray(a)?a.join(" "):a;e.on(i||"change input undo redo",(function(){t.$emit("input",e.getContent({format:t.$props.outputFormat}))}))}(e,a),function(t,e,a){Object.keys(e).filter($).forEach((function(i){var s=e[i];"function"==typeof s&&("onInit"===i?s(t,a):a.on(i.substring(2),(function(t){return s(t,a)})))}))}(t,e.$listeners,a),e.initialized=!0},U=0,z=function(t){var e=Date.now();return t+"_"+Math.floor(1e9*Math.random())+ ++U+String(e)},N=function(t){return void 0===t||""===t?[]:Array.isArray(t)?t:t.split(" ")},F=function(){return{listeners:[],scriptId:z("tiny-script"),scriptLoaded:!1}},T=(x=F(),{load:function(t,e,a){x.scriptLoaded?a():(x.listeners.push(a),t.getElementById(x.scriptId)||function(t,e,a,i){var s=e.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=t,s.src=a;var n=function(){s.removeEventListener("load",n),i()};s.addEventListener("load",n),e.head&&e.head.appendChild(s)}(x.scriptId,t,e,(function(){x.listeners.forEach((function(t){return t()})),x.scriptLoaded=!0})))},reinitialize:function(){x=F()}}),R=a(18),K={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},L=function(){return(L=Object.assign||function(t){for(var e,a=1,i=arguments.length;a<i;a++)for(var s in e=arguments[a])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},q=function(t){return function(){var e,a,i,s=L(L({},t.$props.init),{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:(e=t.$props.init&&t.$props.init.plugins,a=t.$props.plugins,N(e).concat(N(a))),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",(function(a){return M(a,t,e)})),t.$props.init&&"function"==typeof t.$props.init.setup&&t.$props.init.setup(e)}});null!==(i=t.element)&&"textarea"===i.tagName.toLowerCase()&&(t.element.style.visibility="",t.element.style.display=""),Object(R.a)().init(s)}},J={props:K,created:function(){this.elementId=this.$props.id||z("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(R.a)())q(this)();else if(this.element&&this.element.ownerDocument){var t=this.$props.cloudChannel?this.$props.cloudChannel:"5",e=this.$props.apiKey?this.$props.apiKey:"no-api-key",a=null==this.$props.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc;T.load(this.element.ownerDocument,a,q(this))}},beforeDestroy:function(){null!==Object(R.a)()&&Object(R.a)().remove(this.editor)},deactivated:function(){var t;this.inlineEditor||(this.cache=this.editor.getContent(),null===(t=Object(R.a)())||void 0===t||t.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&q(this)()},render:function(t){return this.inlineEditor?function(t,e,a){return t(a||"div",{attrs:{id:e}})}(t,this.elementId,this.$props.tagName):function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})}(t,this.elementId)}};function W(t,e,a,i,s,n,r){try{var o=t[n](r),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(i,s)}function V(t){return function(t){if(Array.isArray(t))return B(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return B(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function Q(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function H(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(a),!0).forEach((function(e){X(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function X(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Y={name:"SelfAppraisalModal",props:{appraisal:{require:!0,type:Object}},components:{Paginate:h.a,Editor:J},computed:H({},Object(r.c)(["getAppraisees","getJobTitles"])),created:function(){var t=this;this.$nextTick((function(){t.getUserAppraisal(t.appraisal.id)}))},data:function(){return{defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",selectedKPIs:[],isSubmitting:!1,isSubmittingMyGoal:!1,isSubmittingUnitGoal:!1,isSubmittingDptGoal:!1,isLoading:!1,noAppraisalFound:!1,activeStep:0,userAppraisal:null,isEditingUserGoal:!1,isEditingUnitGoal:!1,isEditingDptGoal:!1,isEditingSelfAppraisal:!1,isEditingSelfAppraisalFeedback:!1,myGoals:[{id:"".concat(Math.random(16)).split(".")[1],goal:""}],unitGoals:[{id:"".concat(Math.random(16)).split(".")[1],goal:""}],dptGoals:[{id:"".concat(Math.random(16)).split(".")[1],goal:""}],editUserGoal:{goal:"",id:""},editUnitGoal:{goal:"",id:""},editDptGoal:{goal:"",id:""},editUserGoalError:[],editUnitGoalError:[],editDptGoalError:[],achievements:[{id:"".concat(Math.random(16)).split(".")[1],achievement:""}],difficulties:[{id:"".concat(Math.random(16)).split(".")[1],difficulty:""}],initiatives:[{id:"".concat(Math.random(16)).split(".")[1],initiative:""}],otherInitiatives:[{id:"".concat(Math.random(16)).split(".")[1],initiative:""}],feedback:"",editAchievement:{achievement:"",id:""},editDifficulty:{difficulty:"",id:""},editInitiative:{initiative:"",id:""},editOtherInitiative:{initiative:"",id:""},editFeedback:"",myGoalErrors:{},unitGoalErrors:{},dptGoalErrors:{},achievementErrors:{},difficultyErrors:{},initiativeErrors:{},otherInitiativeErrors:{},feedbackErrors:[],editAchievementErrors:[],editDifficultyErrors:[],editInitiativeErrors:[],editOtherInitiativeErrors:[]}},methods:H(H({},Object(r.b)(["dispatchKPI"])),{},{openAppraisal:function(t){var e=new Date,a=new Date(t.open),i=new Date(t.close);return a>=e||i>=e},cancelModal:function(){this.$emit("close")},addSelfAppraisal:function(t){switch(t){case"department":this.isSubmittingDptGoal=!0,this.saveKeyGoal(this.generateAppraisalData("department-goal",this.$page.props.authUser.department_id,this.appraisal.id,this.dptGoals)),this.dptGoalErrors={};break;case"unit":this.isSubmittingUnitGoal=!0,this.saveKeyGoal(this.generateAppraisalData("unit-goal",this.$page.props.authUser.unit_id,this.appraisal.id,this.unitGoals)),this.unitGoalErrors={};break;case"achievement":this.saveSelfAppraisal({type:"achievement",id:this.$page.props.authUser.id,appraisal:this.appraisal.id,achievement:this.achievements}),this.achievementErrors={};break;case"difficulty":this.saveSelfAppraisal({type:"difficulty",id:this.$page.props.authUser.id,appraisal:this.appraisal.id,difficulty:this.difficulties}),this.difficultyErrors={};break;case"initiative":this.saveSelfAppraisal({type:"initiative",id:this.$page.props.authUser.id,appraisal:this.appraisal.id,initiative:this.initiatives}),this.initiativeErrors={};break;case"otherInitiative":this.saveSelfAppraisal({type:"otherInitiative",id:this.$page.props.authUser.id,appraisal:this.appraisal.id,initiative:this.otherInitiatives}),this.otherInitiativeErrors={};break;case"feedback":this.saveSelfAppraisal({type:"feedback",id:this.$page.props.authUser.id,appraisal:this.appraisal.id,feedback:this.feedback}),this.feedbackErrors=[];break;default:this.isSubmittingMyGoal=!0,this.saveKeyGoal(this.generateAppraisalData("my-goal",this.$page.props.authUser.id,this.appraisal.id,this.myGoals)),this.myGoalErrors={}}},updateSelfAppraisal:function(t){switch(t){case"achievements":this.saveEditedSelfAppraisal(H(H({},this.editAchievement),{},{type:t})),this.achievementErrors={};break;case"difficulties":this.saveEditedSelfAppraisal(H(H({},this.editDifficulty),{},{type:t})),this.difficultyErrors={};break;case"initiatives":this.saveEditedSelfAppraisal(H(H({},this.editInitiative),{},{type:t})),this.initiativeErrors={};break;case"other_initiatives":this.saveEditedSelfAppraisal(H(H({},this.editOtherInitiative),{},{type:t})),this.otherInitiativeErrors={};break;case"feedback":this.saveEditedSelfAppraisal({feedback:this.feedback,type:t}),this.feedbackErrors=[];break;default:return}},saveKeyGoal:function(t){var e=this;this.$axios.post("/dashboard/add-key-goal",t).then((function(a){"my-goal"===t.type&&(e.isSubmittingMyGoal=!1,e.myGoals=[{id:"".concat(Math.random(16)).split(".")[1],goal:""}],e.userAppraisal=H(H({},e.userAppraisal),{},{userAppraisal:e.formatUserAppraisal(a.data.appraisal).userAppraisal})),"unit-goal"===t.type&&(e.isSubmittingUnitGoal=!1,e.unitGoals=[{id:"".concat(Math.random(16)).split(".")[1],goal:""}],e.userAppraisal=H(H({},e.userAppraisal),e.formatUserAppraisal(a.data.appraisal))),"department-goal"===t.type&&(e.isSubmittingDptGoal=!1,e.dptGoals=[{id:"".concat(Math.random(16)).split(".")[1],goal:""}],e.userAppraisal=H(H({},e.userAppraisal),e.formatUserAppraisal(a.data.appraisal)))})).catch((function(a){e.isSubmittingMyGoal=!1,e.isSubmittingUnitGoal=!1,e.isSubmittingDptGoal=!1,"my-goal"===t.type&&(e.myGoalErrors=a.response.data.errors),"unit-goal"===t.type&&(e.unitGoalErrors=a.response.data.errors),"department-goal"===t.type&&(e.dptGoalErrors=a.response.data.errors)}))},saveSelfAppraisal:function(t){var e=this;this.isSubmitting=!0,this.$axios.post("/dashboard/add-self-appraisal",t).then((function(a){e.isSubmitting=!1,e.cancelGoalForm(t.type),e.userAppraisal=H(H({},e.userAppraisal),{},{userAppraisal:e.formatUserAppraisal(a.data.appraisal).userAppraisal})})).catch((function(a){e.isSubmitting=!1,"achievement"===t.type&&(e.achievementErrors=a.response.data.errors),"difficulty"===t.type&&(e.difficultyErrors=a.response.data.errors),"initiative"===t.type&&(e.initiativeErrors=a.response.data.errors),"otherInitiative"===t.type&&(e.otherInitiativeErrors=a.response.data.errors),"feedback"===t.type&&(e.feedbackErrors=a.response.data.errors.feedback)}))},saveEditedSelfAppraisal:function(t){var e=this;this.isSubmitting=!0,this.$axios.put("/dashboard/update-user-appraisal/".concat(this.userAppraisal.userAppraisal.appraisal_id),t).then((function(a){e.isSubmitting=!1,e.cancelEditSelfAppraisal(t.type),e.userAppraisal=e.formatUserAppraisal(a.data.appraisal)})).catch((function(a){e.isSubmitting=!1,"achievements"===t.type&&(e.achievementErrors=a.response.data.errors),"difficulties"===t.type&&(e.difficultyErrors=a.response.data.errors),"initiatives"===t.type&&(e.initiativeErrors=a.response.data.errors),"other_initiatives"===t.type&&(e.otherInitiativeErrors=a.response.data.errors),"feedback"===t.type&&(e.feedbackErrors=a.response.data.errors.feedback)}))},setEditSelfAppraisal:function(t,e){this.isEditingSelfAppraisal=!0,"achievement"===e&&(this.editAchievement=H({},t)),"difficulty"===e&&(this.editDifficulty=H({},t)),"initiative"===e&&(this.editInitiative=H({},t)),"otherInitiative"===e&&(this.editOtherInitiative=H({},t))},cancelEditSelfAppraisal:function(t){var e=this;this.isEditingSelfAppraisal=!1,"achievements"===t&&this.$nextTick((function(){e.editAchievement={achievement:"",id:""}})),"difficulties"===t&&this.$nextTick((function(){e.editDifficulty={difficulty:"",id:""}})),"initiatives"===t&&this.$nextTick((function(){e.editInitiative={initiative:"",id:""}})),"other_initiatives"===t&&this.$nextTick((function(){e.editOtherInitiative={initiative:"",id:""}})),"feedback"===t&&(this.editFeedback="")},deleteSelfAppraisal:function(t,e){var a=this;this.$axios.delete("/dashboard/delete-user-appraisal/".concat(this.userAppraisal.userAppraisal.appraisal_id,"/").concat(t,"/").concat(e)).then((function(t){var e=t.data;a.userAppraisal=a.formatUserAppraisal(e.appraisal)})).catch((function(t){console.trace(t)}))},setEditGoalData:function(t,e){"user"===e&&(this.editUserGoal=H({},t),this.isEditingUserGoal=!0),"unit"===e&&(this.editUnitGoal=H({},t),this.isEditingUnitGoal=!0),"dpt"===e&&(this.editDptGoal=H({},t),this.isEditingDptGoal=!0)},updateGoal:function(t){var e=this;"user"===t&&(this.isSubmittingMyGoal=!0,this.$axios.put("/dashboard/update-user-goal/".concat(this.userAppraisal.userAppraisal.appraisal_id),this.editUserGoal).then((function(a){var i=a.data;e.isSubmittingMyGoal=!1,e.cancelEditGoal(t),e.userAppraisal=e.formatUserAppraisal(i.appraisal)})).catch((function(t){e.isSubmittingMyGoal=!1}))),"dpt"===t&&(this.isSubmittingDptGoal=!0,this.$axios.put("/dashboard/update-department-goal/".concat(this.userAppraisal.userDepartmentGoal.appraisal_id),this.editDptGoal).then((function(a){var i=a.data;e.isSubmittingDptGoal=!1,e.cancelEditGoal(t),e.userAppraisal=e.formatUserAppraisal(i.appraisal)})).catch((function(t){e.isSubmittingDptGoal=!1}))),"unit"===t&&(this.isSubmittingUnitGoal=!0,this.$axios.put("/dashboard/update-unit-goal/".concat(this.userAppraisal.userUnitGoal.appraisal_id),this.editUnitGoal).then((function(a){var i=a.data;e.isSubmittingUnitGoal=!1,e.cancelEditGoal(t),e.userAppraisal=e.formatUserAppraisal(i.appraisal)})).catch((function(t){e.isSubmittingUnitGoal=!1})))},deleteGoal:function(t,e){var a=this;"user"===e&&this.$axios.delete("/dashboard/delete-user-goal/".concat(this.userAppraisal.userAppraisal.appraisal_id,"/").concat(t)).then((function(t){var e=t.data;a.userAppraisal=a.formatUserAppraisal(e.appraisal)})).catch((function(t){console.trace(t)})),"dpt"===e&&this.$axios.delete("/dashboard/delete-department-goal/".concat(this.userAppraisal.userDepartmentGoal.appraisal_id,"/").concat(t)).then((function(t){var e=t.data;a.userAppraisal=a.formatUserAppraisal(e.appraisal)})).catch((function(t){console.trace(t)})),"unit"===e&&this.$axios.delete("/dashboard/delete-unit-goal/".concat(this.userAppraisal.userUnitGoal.appraisal_id,"/").concat(t)).then((function(t){var e=t.data;a.userAppraisal=a.formatUserAppraisal(e.appraisal)})).catch((function(t){console.trace(t)}))},cancelEditGoal:function(t){var e=this;"user"===t&&(this.isEditingUserGoal=!1,this.$nextTick((function(){e.editUserGoal={goal:"",id:""}}))),"unit"===t&&(this.isEditingUnitGoal=!1,this.$nextTick((function(){e.editUnitGoal={goal:"",id:""}}))),"dpt"===t&&(this.isEditingDptGoal=!1,this.$nextTick((function(){e.editDptGoal={goal:"",id:""}})))},getJobTitle:function(t){return t&&this.getJobTitles.find((function(e){return e.id===parseInt(t)})).title||""},isNull:function(t){return"null"===t?"":t},getFullName:function(t){return"".concat(this.isNull(t.title)," ").concat(t.firstName," ").concat(this.isNull(t.middleName)," ").concat(t.lastName)},appendNewGoal:function(t){switch(t){case"branch":this.branchGoals=[].concat(V(this.branchGoals),[{id:"".concat(Math.random(16)).split(".")[1],goal:""}]);break;case"department":this.dptGoals=[].concat(V(this.dptGoals),[{id:"".concat(Math.random(16)).split(".")[1],goal:""}]);break;case"unit":this.unitGoals=[].concat(V(this.unitGoals),[{id:"".concat(Math.random(16)).split(".")[1],goal:""}]);break;case"achievement":this.achievements=[].concat(V(this.achievements),[{id:"".concat(Math.random(16)).split(".")[1],achievement:""}]);break;case"difficulty":this.difficulties=[].concat(V(this.difficulties),[{id:"".concat(Math.random(16)).split(".")[1],difficulty:""}]);break;case"initiative":this.initiatives=[].concat(V(this.initiatives),[{id:"".concat(Math.random(16)).split(".")[1],initiative:""}]);break;case"otherInitiative":this.otherInitiatives=[].concat(V(this.otherInitiatives),[{id:"".concat(Math.random(16)).split(".")[1],initiative:""}]);break;default:this.myGoals=[].concat(V(this.myGoals),[{id:"".concat(Math.random(16)).split(".")[1],goal:""}])}},removeGoal:function(t,e){var a=this;switch(e){case"department":this.dptGoals.length>1&&(this.dptGoals.splice(t,1),this.$nextTick((function(){Object.keys(a.dptGoalErrors).length&&(a.dptGoalErrors["goal.".concat(t,".goal")]="")})));break;case"unit":this.unitGoals.length>1&&(this.unitGoals.splice(t,1),this.$nextTick((function(){Object.keys(a.unitGoalErrors).length&&(a.unitGoalErrors["goal.".concat(t,".goal")]="")})));break;case"achievement":this.achievements.length>1&&(this.achievements.splice(t,1),this.$nextTick((function(){Object.keys(a.achievementErrors).length&&(a.achievementErrors["achievement.".concat(t,".achievement")]="")})));break;case"difficulty":this.difficulties.length>1&&(this.difficulties.splice(t,1),this.$nextTick((function(){Object.keys(a.difficultyErrors).length&&(a.difficultyErrors["difficulty.".concat(t,".difficulty")]="")})));break;case"initiative":this.initiatives.length>1&&(this.initiatives.splice(t,1),this.$nextTick((function(){Object.keys(a.initiativeErrors).length&&(a.initiativeErrors["initiative.".concat(t,".initiative")]="")})));break;case"otherInitiative":this.otherInitiatives.length>1&&(this.otherInitiatives.splice(t,1),this.$nextTick((function(){Object.keys(a.otherInitiativeErrors).length&&(a.otherInitiativeErrors["initiative.".concat(t,".initiative")]="")})));break;default:this.myGoals.length>1&&(this.myGoals.splice(t,1),this.$nextTick((function(){Object.keys(a.myGoalErrors).length&&(a.myGoalErrors["goal.".concat(t,".goal")]="")})))}},cancelGoalForm:function(t){var e=this;switch(t){case"department":this.dptGoals=[{id:"".concat(Math.random(16)).split(".")[1],goal:""}],this.$nextTick((function(){e.dptGoalErrors={}}));break;case"unit":this.unitGoals=[{id:"".concat(Math.random(16)).split(".")[1],goal:""}],this.$nextTick((function(){e.unitGoalErrors={}}));break;case"achievement":this.achievements=[{id:"".concat(Math.random(16)).split(".")[1],achievement:""}],this.$nextTick((function(){e.achievementErrors={}}));break;case"difficulty":this.difficulties=[{id:"".concat(Math.random(16)).split(".")[1],difficulty:""}],this.$nextTick((function(){e.difficultyErrors={}}));break;case"initiative":this.initiatives=[{id:"".concat(Math.random(16)).split(".")[1],initiative:""}],this.$nextTick((function(){e.initiativeErrors={}}));break;case"otherInitiative":this.otherInitiatives=[{id:"".concat(Math.random(16)).split(".")[1],initiative:""}],this.$nextTick((function(){e.otherInitiativeErrors={}}));break;case"feedback":this.feedback="",this.$nextTick((function(){e.feedbackErrors=[]}));break;default:this.myGoals=[{id:"".concat(Math.random(16)).split(".")[1],goal:""}],this.$nextTick((function(){e.myGoalErrors={}}))}},generateAppraisalData:function(t,e,a,i){return{type:t,id:e,appraisal:a,goals:i}},formatUserAppraisal:function(t){var e=t;for(var a in e)Object.hasOwnProperty.call(e,a)&&e[a]&&(e[a].goals=JSON.parse(e[a].goals),e[a].achievements&&(e[a].achievements=JSON.parse(e[a].achievements)),e[a].difficulties&&(e[a].difficulties=JSON.parse(e[a].difficulties)),e[a].initiatives&&(e[a].initiatives=JSON.parse(e[a].initiatives)),e[a].other_initiatives&&(e[a].other_initiatives=JSON.parse(e[a].other_initiatives)),e[a].feedback&&(e[a].feedback=JSON.parse(e[a].feedback)));return e},getUserAppraisal:function(t){var e,a=this;return(e=I.a.mark((function e(){var i,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.$axios.get("/dashboard/get-user-appraisal/".concat(t));case 3:i=e.sent,s=i.data,a.userAppraisal=a.formatUserAppraisal(s),a.userAppraisal&&a.userAppraisal.userAppraisal&&a.userAppraisal.userAppraisal.feedback&&(a.feedback=a.userAppraisal.userAppraisal.feedback,a.feedback&&(a.isEditingSelfAppraisalFeedback=!0)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.trace(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,a=arguments;return new Promise((function(i,s){var n=e.apply(t,a);function r(t){W(n,i,s,r,o,"next",t)}function o(t){W(n,i,s,r,o,"throw",t)}r(void 0)}))})()}})},Z=Object(b.a)(Y,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card py-4",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("h4",{staticClass:"modal-card-title text-main label pt-2"},[t._v("Self Appraisal")]),t._v(" "),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.cancelModal()}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("section",{staticClass:"appraisal__title"},[a("p",[t._v(t._s(t.appraisal.name))]),t._v(" "),a("p",[t._v("\n        "+t._s(" "+t.formatDate2(t.appraisal.period.from)+" - "+t.formatDate2(t.appraisal.period.to))+"\n      ")])]),t._v(" "),a("section",{staticClass:"kpi__table__wrapper"},[a("b-steps",{attrs:{animated:!0,rounded:!0,"has-navigation":!0,"icon-prev":"chevron-left","icon-next":"chevron-right","label-position":"bottom","mobile-mode":"compact",type:"is-info"},scopedSlots:t._u([{key:"navigation",fn:function(e){var i=e.previous,s=e.next;return[a("section",{staticClass:"step__buttons position"},[a("b-button",{attrs:{outlined:"",type:"is-danger","icon-pack":"fas","icon-left":"chevron-left",disabled:i.disabled},on:{click:function(t){return t.preventDefault(),i.action(t)}}},[t._v("\n              Previous\n            ")]),t._v(" "),a("b-button",{attrs:{outlined:"",type:"is-success","icon-pack":"fas","icon-right":"chevron-right",disabled:s.disabled},on:{click:function(t){return t.preventDefault(),s.action(t)}}},[t._v("\n              Next\n            ")])],1)]}}]),model:{value:t.activeStep,callback:function(e){t.activeStep=e},expression:"activeStep"}},[a("b-step-item",{attrs:{step:"1",label:"Key Goals"}},[a("section",{staticClass:"kpi__table"},[a("table",{staticClass:"table is-fullwidth is-bordered"},[a("thead",[a("tr",[a("th",{staticClass:"text-main"},[t._v("My Key Goals")]),t._v(" "),t.$page.props.authUser.unit_id?a("th",{staticClass:"text-main"},[t._v("\n                    Unit Key Goals\n                  ")]):t._e(),t._v(" "),t.$page.props.authUser.department_id?a("th",{staticClass:"text-main"},[t._v("\n                    Department Key Goals\n                  ")]):t._e()])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticClass:"kpi__goals__td"},[a("section",{staticClass:"kpi_goals__wrapper"},[a("div",{staticClass:"content"},[t.userAppraisal&&t.userAppraisal.userAppraisal&&t.userAppraisal.userAppraisal.goals?a("ol",t._l(t.userAppraisal.userAppraisal.goals,(function(e){return a("li",{key:e.id},[a("div",{staticClass:"appraisal-list"},[a("p",[t._v("\n                                "+t._s(e.goal)+"\n                              ")]),t._v(" "),a("div",{},[a("button",{on:{click:function(a){return t.setEditGoalData(e,"user")}}},[a("b-icon",{attrs:{icon:"pen",size:"is-small",type:"is-primary"}})],1),t._v(" "),a("button",{on:{click:function(a){return t.deleteGoal(e.id,"user")}}},[a("b-icon",{attrs:{icon:"times",size:"is-small",type:"is-danger"}})],1)])])])})),0):a("p",[t._v("No key goal found!")])]),t._v(" "),t.openAppraisal(this.appraisal.sap_timestamp)?[t.isEditingUserGoal?a("form",{on:{submit:function(e){return e.preventDefault(),t.updateGoal("user")}}},[a("b-field",{attrs:{type:{"is-danger":t.editUserGoalError.length},message:t.editUserGoalError}},[a("b-input",{attrs:{placeholder:"Enter new goal...",type:"text",expanded:""},model:{value:t.editUserGoal.goal,callback:function(e){t.$set(t.editUserGoal,"goal",e)},expression:"editUserGoal.goal"}})],1),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div"),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmittingMyGoal},on:{click:function(e){return t.cancelEditGoal("user")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingMyGoal}},[t._v("\n                                "+t._s(t.isSubmittingMyGoal?"Saving...":"Save")+"\n                              ")])],1)])],1):a("form",{on:{submit:function(e){return e.preventDefault(),t.addSelfAppraisal()}}},[t._l(t.myGoals,(function(e,i){return[a("b-field",{key:i,attrs:{type:{"is-danger":Object.keys(t.myGoalErrors).length&&t.myGoalErrors["goal."+i+".goal"]&&t.myGoalErrors["goal."+i+".goal"].length},message:Object.keys(t.myGoalErrors).length?t.myGoalErrors["goal."+i+".goal"]:[]}},[a("b-input",{attrs:{placeholder:"Enter new goal...",type:"text",expanded:""},model:{value:t.myGoals[i].goal,callback:function(e){t.$set(t.myGoals[i],"goal",e)},expression:"myGoals[index]['goal']"}}),t._v(" "),a("p",{staticClass:"control"},[a("b-button",{attrs:{type:"is-danger is-light","icon-left":"times",disabled:1===t.myGoals.length},on:{click:function(e){return t.removeGoal(i)}}})],1)],1)]})),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div",{},[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"plus"},on:{click:function(e){return t.appendNewGoal()}}},[t._v("Add New")])],1),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmittingMyGoal},on:{click:function(e){return t.cancelGoalForm()}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingMyGoal}},[t._v("\n                                "+t._s(t.isSubmittingMyGoal?"Submitting...":"Add")+"\n                              ")])],1)])],2)]:t._e()],2)]),t._v(" "),t.$page.props.authUser.unit_id?a("td",{staticClass:"kpi__goals__td"},[a("section",{staticClass:"kpi_goals__wrapper"},[a("div",{staticClass:"content"},[t.userAppraisal&&t.userAppraisal.userUnitGoal&&t.userAppraisal.userUnitGoal.goals?a("ol",t._l(t.userAppraisal.userUnitGoal.goals,(function(e){return a("li",{key:e.id},[a("div",{staticClass:"appraisal-list"},[a("p",[t._v("\n                                "+t._s(e.goal)+"\n                              ")]),t._v(" "),a("div",{},[a("button",{on:{click:function(a){return t.setEditGoalData(e,"unit")}}},[a("b-icon",{attrs:{icon:"pen",size:"is-small",type:"is-primary"}})],1),t._v(" "),a("button",{on:{click:function(a){return t.deleteGoal(e.id,"unit")}}},[a("b-icon",{attrs:{icon:"times",size:"is-small",type:"is-danger"}})],1)])])])})),0):t._e()]),t._v(" "),t.openAppraisal(this.appraisal.sap_timestamp)?[t.isEditingUnitGoal?[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateGoal("unit")}}},[a("b-field",{attrs:{type:{"is-danger":t.editUnitError.length},message:t.editUnitError}},[a("b-input",{attrs:{placeholder:"Enter new goal...",type:"text",expanded:""},model:{value:t.editUnitGoal.goal,callback:function(e){t.$set(t.editUnitGoal,"goal",e)},expression:"editUnitGoal.goal"}})],1),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div"),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmittingUnitGoal},on:{click:function(e){return t.cancelEditGoal("unit")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingUnitGoal}},[t._v("\n                                  "+t._s(t.isSubmittingDptGoal?"Saving...":"Save")+"\n                                ")])],1)])],1)]:[t.anyPermission("admin","supervisor")?a("form",{on:{submit:function(e){return e.preventDefault(),t.addSelfAppraisal("unit")}}},[t._l(t.unitGoals,(function(e,i){return[a("b-field",{key:i,attrs:{type:{"is-danger":Object.keys(t.unitGoalErrors).length&&t.unitGoalErrors["goal."+i+".goal"]&&t.unitGoalErrors["goal."+i+".goal"].length},message:Object.keys(t.unitGoalErrors).length?t.unitGoalErrors["goal."+i+".goal"]:[]}},[a("b-input",{attrs:{placeholder:"Enter new goal...",type:"text",expanded:""},model:{value:t.unitGoals[i].goal,callback:function(e){t.$set(t.unitGoals[i],"goal",e)},expression:"unitGoals[index]['goal']"}}),t._v(" "),a("p",{staticClass:"control"},[a("b-button",{attrs:{type:"is-danger is-light","icon-left":"times",disabled:1===t.unitGoals.length},on:{click:function(e){return t.removeGoal(i,"unit")}}})],1)],1)]})),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div",{},[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"plus"},on:{click:function(e){return t.appendNewGoal("unit")}}},[t._v("Add New")])],1),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmittingUnitGoal},on:{click:function(e){return t.cancelGoalForm("unit")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingUnitGoal}},[t._v("\n                                  "+t._s(t.isSubmittingUnitGoal?"Submitting...":"Add")+"\n                                ")])],1)])],2):t._e()]]:t._e()],2)]):t._e(),t._v(" "),t.$page.props.authUser.department_id?a("td",{staticClass:"kpi__goals__td"},[a("section",{staticClass:"kpi_goals__wrapper"},[a("div",{staticClass:"content"},[t.userAppraisal&&t.userAppraisal.userDepartmentGoal&&t.userAppraisal.userDepartmentGoal.goals?a("ol",t._l(t.userAppraisal.userDepartmentGoal.goals,(function(e){return a("li",{key:e.id},[a("div",{staticClass:"appraisal-list"},[a("p",[t._v("\n                                "+t._s(e.goal)+"\n                              ")]),t._v(" "),a("div",{},[a("button",{on:{click:function(a){return t.setEditGoalData(e,"dpt")}}},[a("b-icon",{attrs:{icon:"pen",size:"is-small",type:"is-primary"}})],1),t._v(" "),a("button",{on:{click:function(a){return t.deleteGoal(e.id,"dpt")}}},[a("b-icon",{attrs:{icon:"times",size:"is-small",type:"is-danger"}})],1)])])])})),0):t._e()]),t._v(" "),t.openAppraisal(this.appraisal.sap_timestamp)?[t.isEditingDptGoal?[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateGoal("dpt")}}},[a("b-field",{attrs:{type:{"is-danger":t.editDptGoalError.length},message:t.editDptGoalError}},[a("b-input",{attrs:{placeholder:"Enter new goal...",type:"text",expanded:""},model:{value:t.editDptGoal.goal,callback:function(e){t.$set(t.editDptGoal,"goal",e)},expression:"editDptGoal.goal"}})],1),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div"),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmittingDptGoal},on:{click:function(e){return t.cancelEditGoal("dpt")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingDptGoal}},[t._v("\n                                  "+t._s(t.isSubmittingDptGoal?"Saving...":"Save")+"\n                                ")])],1)])],1)]:[t.anyPermission("admin","hod")?a("form",{on:{submit:function(e){return e.preventDefault(),t.addSelfAppraisal("department")}}},[t._l(t.dptGoals,(function(e,i){return[a("b-field",{key:i,attrs:{type:{"is-danger":Object.keys(t.dptGoalErrors).length&&t.dptGoalErrors["goal."+i+".goal"]&&t.dptGoalErrors["goal."+i+".goal"].length},message:Object.keys(t.dptGoalErrors).length?t.dptGoalErrors["goal."+i+".goal"]:[]}},[a("b-input",{attrs:{placeholder:"Enter new goal...",type:"text",expanded:""},model:{value:t.dptGoals[i].goal,callback:function(e){t.$set(t.dptGoals[i],"goal",e)},expression:"dptGoals[index]['goal']"}}),t._v(" "),a("p",{staticClass:"control"},[a("b-button",{attrs:{type:"is-danger is-light","icon-left":"times",disabled:1===t.dptGoals.length},on:{click:function(e){return t.removeGoal(i,"department")}}})],1)],1)]})),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div",{},[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"plus"},on:{click:function(e){return t.appendNewGoal("department")}}},[t._v("Add New")])],1),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmittingDptGoal},on:{click:function(e){return t.cancelGoalForm("department")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmittingDptGoal}},[t._v("\n                                  "+t._s(t.isSubmittingDptGoal?"Submitting...":"Add")+"\n                                ")])],1)])],2):t._e()]]:t._e()],2)]):t._e()])])])])]),t._v(" "),a("b-step-item",{attrs:{step:"2",label:"Achievement"}},[a("section",{staticClass:"kpi__table__single"},[a("table",{staticClass:"table is-fullwidth is-bordered"},[a("thead",[a("tr",[a("th",{staticClass:"has-text-centered text-main"},[t._v("My Achievement")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticClass:"kpi__goals__td"},[a("section",{staticClass:"kpi_goals__wrapper"},[a("div",{staticClass:"content"},[t.userAppraisal&&t.userAppraisal.userAppraisal&&t.userAppraisal.userAppraisal.achievements?a("ol",t._l(t.userAppraisal.userAppraisal.achievements,(function(e){return a("li",{key:e.id},[a("div",{staticClass:"appraisal-list"},[a("p",[t._v("\n                                "+t._s(e.achievement)+"\n                              ")]),t._v(" "),a("div",{},[a("button",{on:{click:function(a){return t.setEditSelfAppraisal(e,"achievement")}}},[a("b-icon",{attrs:{icon:"pen",size:"is-small",type:"is-primary"}})],1),t._v(" "),a("button",{on:{click:function(a){return t.deleteSelfAppraisal(e.id,"achievements")}}},[a("b-icon",{attrs:{icon:"times",size:"is-small",type:"is-danger"}})],1)])])])})),0):a("p",[t._v("No achievement found!")])]),t._v(" "),t.openAppraisal(this.appraisal.np_timestamp)?[t.isEditingSelfAppraisal?a("form",{on:{submit:function(e){return e.preventDefault(),t.updateSelfAppraisal("achievements")}}},[a("b-field",{attrs:{type:{"is-danger":t.editAchievementErrors.length},message:t.editAchievementErrors.achievement}},[a("b-input",{attrs:{placeholder:"Enter new achievement...",type:"text",expanded:""},model:{value:t.editAchievement.achievement,callback:function(e){t.$set(t.editAchievement,"achievement",e)},expression:"editAchievement.achievement"}})],1),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div"),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmitting},on:{click:function(e){return t.cancelEditSelfAppraisal("achievements")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n                                "+t._s(t.isSubmitting?"Saving...":"Save")+"\n                              ")])],1)])],1):a("form",{on:{submit:function(e){return e.preventDefault(),t.addSelfAppraisal("achievement")}}},[t._l(t.achievements,(function(e,i){return[a("b-field",{key:i,attrs:{type:{"is-danger":Object.keys(t.achievementErrors).length&&t.achievementErrors["achievement."+i+".achievement"]&&t.achievementErrors["achievement."+i+".achievement"].length},message:Object.keys(t.achievementErrors).length?t.achievementErrors["achievement."+i+".achievement"]:[]}},[a("b-input",{attrs:{placeholder:"Enter new achievement recorded...",type:"text",expanded:""},model:{value:t.achievements[i].achievement,callback:function(e){t.$set(t.achievements[i],"achievement",e)},expression:"achievements[index]['achievement']"}}),t._v(" "),a("p",{staticClass:"control"},[a("b-button",{attrs:{type:"is-danger is-light","icon-left":"times",disabled:1===t.achievements.length},on:{click:function(e){return t.removeGoal(i,"achievement")}}})],1)],1)]})),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div",{},[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"plus"},on:{click:function(e){return t.appendNewGoal("achievement")}}},[t._v("Add New")])],1),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmitting},on:{click:function(e){return t.cancelGoalForm("achievement")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n                                "+t._s(t.isSubmitting?"Submitting...":"Add")+"\n                              ")])],1)])],2)]:t._e()],2)])])])])])]),t._v(" "),a("b-step-item",{attrs:{step:"3",label:"Difficulties Faced"}},[a("section",{staticClass:"kpi__table__single"},[a("table",{staticClass:"table is-fullwidth is-bordered"},[a("thead",[a("tr",[a("th",{staticClass:"has-text-centered text-main"},[t._v("Difficulties")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticClass:"kpi__goals__td"},[a("section",{staticClass:"kpi_goals__wrapper"},[a("div",{staticClass:"content"},[t.userAppraisal&&t.userAppraisal.userAppraisal&&t.userAppraisal.userAppraisal.difficulties?a("ol",t._l(t.userAppraisal.userAppraisal.difficulties,(function(e){return a("li",{key:e.id},[a("div",{staticClass:"appraisal-list"},[a("p",[t._v("\n                                "+t._s(e.difficulty)+"\n                              ")]),t._v(" "),a("div",{},[a("button",{on:{click:function(a){return t.setEditSelfAppraisal(e,"difficulty")}}},[a("b-icon",{attrs:{icon:"pen",size:"is-small",type:"is-primary"}})],1),t._v(" "),a("button",{on:{click:function(a){return t.deleteSelfAppraisal(e.id,"difficulties")}}},[a("b-icon",{attrs:{icon:"times",size:"is-small",type:"is-danger"}})],1)])])])})),0):a("p",[t._v("No difficulty found!")])]),t._v(" "),t.openAppraisal(this.appraisal.np_timestamp)?[t.isEditingSelfAppraisal?a("form",{on:{submit:function(e){return e.preventDefault(),t.updateSelfAppraisal("difficulties")}}},[a("b-field",{attrs:{type:{"is-danger":t.editDifficultyErrors.length},message:t.editDifficultyErrors.difficulty}},[a("b-input",{attrs:{placeholder:"Enter new difficulty...",type:"text",expanded:""},model:{value:t.editDifficulty.difficulty,callback:function(e){t.$set(t.editDifficulty,"difficulty",e)},expression:"editDifficulty.difficulty"}})],1),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div"),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmitting},on:{click:function(e){return t.cancelEditSelfAppraisal("difficulties")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n                                "+t._s(t.isSubmitting?"Saving...":"Save")+"\n                              ")])],1)])],1):a("form",{on:{submit:function(e){return e.preventDefault(),t.addSelfAppraisal("difficulty")}}},[t._l(t.difficulties,(function(e,i){return[a("b-field",{key:i,attrs:{type:{"is-danger":Object.keys(t.difficultyErrors).length&&t.difficultyErrors["difficulty."+i+".difficulty"]&&t.difficultyErrors["difficulty."+i+".difficulty"].length},message:Object.keys(t.difficultyErrors).length?t.difficultyErrors["difficulty."+i+".difficulty"]:[]}},[a("b-input",{attrs:{placeholder:"Enter new difficulty faced...",type:"text",expanded:""},model:{value:t.difficulties[i].difficulty,callback:function(e){t.$set(t.difficulties[i],"difficulty",e)},expression:"difficulties[index]['difficulty']"}}),t._v(" "),a("p",{staticClass:"control"},[a("b-button",{attrs:{type:"is-danger is-light","icon-left":"times",disabled:1===t.difficulties.length},on:{click:function(e){return t.removeGoal(i,"difficulty")}}})],1)],1)]})),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div",{},[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"plus"},on:{click:function(e){return t.appendNewGoal("difficulty")}}},[t._v("Add New")])],1),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmitting},on:{click:function(e){return t.cancelGoalForm("difficulty")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n                                "+t._s(t.isSubmitting?"Submitting...":"Add")+"\n                              ")])],1)])],2)]:t._e()],2)])])])])])]),t._v(" "),a("b-step-item",{attrs:{step:"4",label:"Project and Initiative (Department)"}},[a("section",{staticClass:"kpi__table__single"},[a("table",{staticClass:"table is-fullwidth is-bordered"},[a("thead",[a("tr",[a("th",{staticClass:"has-text-centered text-main"},[t._v("\n                    Project and Initiative (My Department)\n                  ")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticClass:"kpi__goals__td"},[a("section",{staticClass:"kpi_goals__wrapper"},[a("div",{staticClass:"content"},[t.userAppraisal&&t.userAppraisal.userAppraisal&&t.userAppraisal.userAppraisal.initiatives?a("ol",t._l(t.userAppraisal.userAppraisal.initiatives,(function(e){return a("li",{key:e.id},[a("div",{staticClass:"appraisal-list"},[a("p",[t._v("\n                                "+t._s(e.initiative)+"\n                              ")]),t._v(" "),a("div",{},[a("button",{on:{click:function(a){return t.setEditSelfAppraisal(e,"initiative")}}},[a("b-icon",{attrs:{icon:"pen",size:"is-small",type:"is-primary"}})],1),t._v(" "),a("button",{on:{click:function(a){return t.deleteSelfAppraisal(e.id,"initiatives")}}},[a("b-icon",{attrs:{icon:"times",size:"is-small",type:"is-danger"}})],1)])])])})),0):a("p",[t._v("No initiative found!")])]),t._v(" "),t.openAppraisal(this.appraisal.np_timestamp)?[t.isEditingSelfAppraisal?a("form",{on:{submit:function(e){return e.preventDefault(),t.updateSelfAppraisal("initiatives")}}},[a("b-field",{attrs:{type:{"is-danger":t.editInitiativeErrors.length},message:t.editInitiativeErrors.initiative}},[a("b-input",{attrs:{placeholder:"Enter new initiative...",type:"text",expanded:""},model:{value:t.editInitiative.initiative,callback:function(e){t.$set(t.editInitiative,"initiative",e)},expression:"editInitiative.initiative"}})],1),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div"),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmitting},on:{click:function(e){return t.cancelEditSelfAppraisal("initiatives")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n                                "+t._s(t.isSubmitting?"Saving...":"Save")+"\n                              ")])],1)])],1):a("form",{on:{submit:function(e){return e.preventDefault(),t.addSelfAppraisal("initiative")}}},[t._l(t.initiatives,(function(e,i){return[a("b-field",{key:i,attrs:{type:{"is-danger":Object.keys(t.initiativeErrors).length&&t.initiativeErrors["initiative."+i+".initiative"]&&t.initiativeErrors["initiative."+i+".initiative"].length},message:Object.keys(t.initiativeErrors).length?t.initiativeErrors["initiative."+i+".initiative"]:[]}},[a("b-input",{attrs:{placeholder:"Enter new project or initiative...",type:"text",expanded:""},model:{value:t.initiatives[i].initiative,callback:function(e){t.$set(t.initiatives[i],"initiative",e)},expression:"initiatives[index]['initiative']"}}),t._v(" "),a("p",{staticClass:"control"},[a("b-button",{attrs:{type:"is-danger is-light","icon-left":"times",disabled:1===t.initiatives.length},on:{click:function(e){return t.removeGoal(i,"initiative")}}})],1)],1)]})),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div",{},[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"plus"},on:{click:function(e){return t.appendNewGoal("initiative")}}},[t._v("Add New")])],1),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmitting},on:{click:function(e){return t.cancelGoalForm("initiative")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n                                "+t._s(t.isSubmitting?"Submitting...":"Add")+"\n                              ")])],1)])],2)]:t._e()],2)])])])])])]),t._v(" "),a("b-step-item",{attrs:{step:"5",label:"Project and Initiative (Other)"}},[a("section",{staticClass:"kpi__table__single"},[a("table",{staticClass:"table is-fullwidth is-bordered"},[a("thead",[a("tr",[a("th",{staticClass:"has-text-centered text-main"},[t._v("\n                    Project and Initiative (Other)\n                  ")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticClass:"kpi__goals__td"},[a("section",{staticClass:"kpi_goals__wrapper"},[a("div",{staticClass:"content"},[t.userAppraisal&&t.userAppraisal.userAppraisal&&t.userAppraisal.userAppraisal.other_initiatives?a("ol",t._l(t.userAppraisal.userAppraisal.other_initiatives,(function(e){return a("li",{key:e.id},[a("div",{staticClass:"appraisal-list"},[a("p",[t._v("\n                                "+t._s(e.initiative)+"\n                              ")]),t._v(" "),a("div",{},[a("button",{on:{click:function(a){return t.setEditSelfAppraisal(e,"otherInitiative")}}},[a("b-icon",{attrs:{icon:"pen",size:"is-small",type:"is-primary"}})],1),t._v(" "),a("button",{on:{click:function(a){return t.deleteSelfAppraisal(e.id,"other_initiatives")}}},[a("b-icon",{attrs:{icon:"times",size:"is-small",type:"is-danger"}})],1)])])])})),0):a("p",[t._v("No initiative found!")])]),t._v(" "),t.openAppraisal(this.appraisal.np_timestamp)?[t.isEditingSelfAppraisal?a("form",{on:{submit:function(e){return e.preventDefault(),t.updateSelfAppraisal("other_initiatives")}}},[a("b-field",{attrs:{type:{"is-danger":t.editOtherInitiativeErrors.length},message:t.editOtherInitiativeErrors.initiative}},[a("b-input",{attrs:{placeholder:"Enter new initiative...",type:"text",expanded:""},model:{value:t.editOtherInitiative.initiative,callback:function(e){t.$set(t.editOtherInitiative,"initiative",e)},expression:"editOtherInitiative.initiative"}})],1),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div"),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmitting},on:{click:function(e){return t.cancelEditSelfAppraisal("other_initiatives")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n                                "+t._s(t.isSubmitting?"Saving...":"Save")+"\n                              ")])],1)])],1):a("form",{on:{submit:function(e){return e.preventDefault(),t.addSelfAppraisal("otherInitiative")}}},[t._l(t.otherInitiatives,(function(e,i){return[a("b-field",{key:i,attrs:{type:{"is-danger":Object.keys(t.otherInitiativeErrors).length&&t.otherInitiativeErrors["initiative."+i+".initiative"]&&t.otherInitiativeErrors["initiative."+i+".initiative"].length},message:Object.keys(t.otherInitiativeErrors).length?t.otherInitiativeErrors["initiative."+i+".initiative"]:[]}},[a("b-input",{attrs:{placeholder:"Enter new project or initiative...",type:"text",expanded:""},model:{value:t.otherInitiatives[i].initiative,callback:function(e){t.$set(t.otherInitiatives[i],"initiative",e)},expression:"\n                                  otherInitiatives[index]['initiative']\n                                "}}),t._v(" "),a("p",{staticClass:"control"},[a("b-button",{attrs:{type:"is-danger is-light","icon-left":"times",disabled:1===t.otherInitiatives.length},on:{click:function(e){return t.removeGoal(i,"otherInitiative")}}})],1)],1)]})),t._v(" "),a("section",{staticClass:"goal__btns"},[a("div",{},[a("b-button",{staticClass:"is-info is-light",attrs:{"icon-left":"plus"},on:{click:function(e){return t.appendNewGoal("otherInitiative")}}},[t._v("Add New")])],1),t._v(" "),a("div",{staticClass:"block"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmitting},on:{click:function(e){return t.cancelGoalForm("otherInitiative")}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n                                "+t._s(t.isSubmitting?"Submitting...":"Add")+"\n                              ")])],1)])],2)]:t._e()],2)])])])])])]),t._v(" "),a("b-step-item",{attrs:{step:"5",label:"Overall feedback"}},[a("section",{},[a("table",{staticClass:"table is-fullwidth is-hoverable"},[a("thead",[a("tr",[a("th",{staticClass:"has-text-centered text-main"},[t._v("feedback")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{},[a("section",{staticClass:"kpi_goals__wrapper"},[t.openAppraisal(this.appraisal.np_timestamp)?[a("form",{on:{submit:function(e){e.preventDefault(),t.isEditingSelfAppraisalFeedback?t.updateSelfAppraisal("feedback"):t.addSelfAppraisal("feedback")}}},[a("b-field",{attrs:{type:{"is-danger":t.feedbackErrors.length},message:t.feedbackErrors}},[a("section",{staticClass:"content"},[a("editor",{attrs:{"api-key":"25qhafbs9v6uleue5kg84jeofqdrwawb30mv1o6mgvx4cdbb",id:"feedback",init:t.initEditor},model:{value:t.feedback,callback:function(e){t.feedback=e},expression:"feedback"}})],1)]),t._v(" "),a("div",{staticClass:"bolck justify-c-start"},[a("b-button",{staticClass:"is-default is-light",attrs:{disabled:t.isSubmitting},on:{click:function(e){return t.cancelGoalForm("feedback")}}},[t._v("Cancel")]),t._v("\n                              \n                            "),a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n                              "+t._s(t.isSubmitting?"Submitting...":t.isEditingSelfAppraisalFeedback?"Save":"Add")+"\n                            ")])],1)],1)]:t._e()],2)])])])])])])],1)],1)]),t._v(" "),a("footer",{staticClass:"modal-card-foot buttons"})])}),[],!1,null,"036b4222",null).exports;function tt(t,e,a,i,s,n,r){try{var o=t[n](r),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(i,s)}var et={name:"RateAppraiseeModal",components:{Editor:J},props:{appraisalId:{require:!0,type:Number},userId:{require:!0,type:Number}},computed:{},created:function(){var t=this;this.$nextTick((function(){t.getUserAppraisal(t.appraisalId,t.userId)}))},data:function(){return{isSubmitting:!1,openCollapse:0,userAppraisal:null,metrics:{attendance:"",quatlityOfWork:"",planningAndOrganizing:"",leadershipAndManagement:"",accomplishment:"",assessment:""}}},methods:{cancelModal:function(){this.$emit("close")},saveAppraisalReview:function(){var t=this;this.isSubmitting=!0,this.$axios.put("/dashboard/update-user-appraisal-metrics/".concat(this.appraisalId,"/").concat(this.userId),this.metrics).then((function(e){t.isSubmitting=!1})).catch((function(e){t.isSubmitting=!1}))},formatUserAppraisal:function(t){var e=t;for(var a in e)Object.hasOwnProperty.call(e,a)&&e[a]&&(e[a].goals=JSON.parse(e[a].goals),e[a].achievements&&(e[a].achievements=JSON.parse(e[a].achievements)),e[a].difficulties&&(e[a].difficulties=JSON.parse(e[a].difficulties)),e[a].initiatives&&(e[a].initiatives=JSON.parse(e[a].initiatives)),e[a].other_initiatives&&(e[a].other_initiatives=JSON.parse(e[a].other_initiatives)),e[a].feedback&&(e[a].feedback=JSON.parse(e[a].feedback)),e[a].metrics&&(e[a].metrics=JSON.parse(e[a].metrics)));return e},getUserAppraisal:function(t,e){var a,i=this;return(a=I.a.mark((function a(){var s,n;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.$axios.get("/dashboard/get-user-appraisal/".concat(t,"/").concat(e));case 3:s=a.sent,n=s.data,i.userAppraisal=i.formatUserAppraisal(n),i.userAppraisal&&i.userAppraisal.userAppraisal&&i.userAppraisal.userAppraisal.metrics&&(i.metrics={attendance:i.userAppraisal.userAppraisal.metrics.attendance,quatlityOfWork:i.userAppraisal.userAppraisal.metrics.quatlityOfWork,planningAndOrganizing:i.userAppraisal.userAppraisal.metrics.planningAndOrganizing,leadershipAndManagement:i.userAppraisal.userAppraisal.metrics.leadershipAndManagement,accomplishment:i.userAppraisal.userAppraisal.metrics.accomplishment,assessment:i.userAppraisal.userAppraisal.metrics.assessment}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.trace(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})),function(){var t=this,e=arguments;return new Promise((function(i,s){var n=a.apply(t,e);function r(t){tt(n,i,s,r,o,"next",t)}function o(t){tt(n,i,s,r,o,"throw",t)}r(void 0)}))})()}}},at=Object(b.a)(et,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){return e.preventDefault(),t.saveAppraisalReview()}}},[a("div",{staticClass:"modal-card py-4",staticStyle:{width:"960px"}},[a("header",{staticClass:"modal-card-head"},[a("h4",{staticClass:"modal-card-title text-main label pt-2"},[t._v("\n        Performance Review & Rating\n      ")]),t._v(" "),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.cancelModal()}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("section",t._l(2,(function(e,i){return a("b-collapse",{key:i,staticClass:"card",attrs:{animation:"slide",open:t.openCollapse==i},on:{open:function(e){t.openCollapse=i}},scopedSlots:t._u([{key:"trigger",fn:function(i){return[a("div",{staticClass:"card-header",attrs:{role:"button"}},[a("p",{staticClass:"card-header-title has-text-info"},[t._v("\n                "+t._s(1===e?"Review Appraisee":"Rate Appraisee")+"\n              ")]),t._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{icon:i.open?"angle-down":"angle-up",type:"is-info"}})],1)])]}}],null,!0)},[t._v(" "),a("div",{staticClass:"card-content"},[1===e?a("div",{staticClass:"content"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("div",{staticClass:"content"},[a("h6",[t._v("Key Goals")]),t._v(" "),t.userAppraisal&&t.userAppraisal.userAppraisal&&t.userAppraisal.userAppraisal.goals?a("ol",{attrs:{type:"1"}},t._l(t.userAppraisal.userAppraisal.goals,(function(e){return a("li",{key:e.id},[t._v("\n                        "+t._s(e.goal)+"\n                      ")])})),0):a("p",[t._v("No key goal found!")])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("div",{staticClass:"content"},[a("h6",[t._v("Achievements")]),t._v(" "),t.userAppraisal&&t.userAppraisal.userAppraisal&&t.userAppraisal.userAppraisal.achievements?a("ol",{attrs:{type:"1"}},t._l(t.userAppraisal.userAppraisal.achievements,(function(e){return a("li",{key:e.id},[t._v("\n                        "+t._s(e.achievement)+"\n                      ")])})),0):a("p",[t._v("No achievement found!")])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("div",{staticClass:"content"},[a("h6",[t._v("Difficulties")]),t._v(" "),t.userAppraisal&&t.userAppraisal.userAppraisal&&t.userAppraisal.userAppraisal.difficulties?a("ol",{attrs:{type:"1"}},t._l(t.userAppraisal.userAppraisal.difficulties,(function(e){return a("li",{key:e.id},[t._v("\n                        "+t._s(e.difficulty)+"\n                      ")])})),0):a("p",[t._v("No difficulty found!")])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("div",{staticClass:"content"},[a("h6",[t._v("Initiatives")]),t._v(" "),t.userAppraisal&&t.userAppraisal.userAppraisal&&t.userAppraisal.userAppraisal.initiatives?a("ol",{attrs:{type:"1"}},t._l(t.userAppraisal.userAppraisal.initiatives,(function(e){return a("li",{key:e.id},[t._v("\n                        "+t._s(e.initiative)+"\n                      ")])})),0):a("p",[t._v("No initiative found!")])])])]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("div",{staticClass:"content"},[a("h6",[t._v("Ohter Initiatives")]),t._v(" "),t.userAppraisal&&t.userAppraisal.userAppraisal&&t.userAppraisal.userAppraisal.other_initiatives?a("ol",{attrs:{type:"1"}},t._l(t.userAppraisal.userAppraisal.other_initiatives,(function(e){return a("li",{key:e.id},[t._v("\n                        "+t._s(e.initiative)+"\n                      ")])})),0):a("p",[t._v("No initiative found!")])])]),t._v(" "),a("div",{staticClass:"column is-6"},[a("div",{staticClass:"content"},[a("h6",[t._v("Feedback")]),t._v(" "),t.userAppraisal&&t.userAppraisal.userAppraisal&&t.userAppraisal.userAppraisal.feedback?a("article",{attrs:{type:"1"},domProps:{innerHTML:t._s(t.userAppraisal.userAppraisal.feedback)}}):a("p",[t._v("No initiative found!")])])])])]):t._e(),t._v(" "),2===e?a("div",{staticClass:"content"},[a("table",{staticClass:"table is-fullwidth is-hoverable"},[a("thead",[a("tr",[a("th",{staticClass:"has-text-centered text-main"},[t._v("Metrics")]),t._v(" "),a("th",{staticClass:"has-text-centered text-main"},[t._v("Description")]),t._v(" "),a("th",{staticClass:"has-text-centered text-main"},[t._v("Score")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Attendance")]),t._v(" "),a("td",[t._v("\n                      Attendance Consistency in coming to work daily and\n                      conforming to scheduled work hours\n                    ")]),t._v(" "),a("td",[a("div",{staticStyle:{width:"20rem"}},[a("b-radio",{attrs:{name:"attendance","native-value":"5",type:"is-info"},model:{value:t.metrics.attendance,callback:function(e){t.$set(t.metrics,"attendance",e)},expression:"metrics.attendance"}},[t._v("\n                          5\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"attendance","native-value":"4",type:"is-info"},model:{value:t.metrics.attendance,callback:function(e){t.$set(t.metrics,"attendance",e)},expression:"metrics.attendance"}},[t._v("\n                          4\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"attendance","native-value":"3",type:"is-info"},model:{value:t.metrics.attendance,callback:function(e){t.$set(t.metrics,"attendance",e)},expression:"metrics.attendance"}},[t._v("\n                          3\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"attendance","native-value":"2",type:"is-info"},model:{value:t.metrics.attendance,callback:function(e){t.$set(t.metrics,"attendance",e)},expression:"metrics.attendance"}},[t._v("\n                          2\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"attendance","native-value":"1",type:"is-info"},model:{value:t.metrics.attendance,callback:function(e){t.$set(t.metrics,"attendance",e)},expression:"metrics.attendance"}},[t._v("\n                          1\n                        ")])],1)])]),t._v(" "),a("tr",[a("td",[t._v("Quality of Work")]),t._v(" "),a("td",[t._v("\n                      Quality of Work Freedom from errors and mistakes.\n                      Responsiveness, follow-through, consistency, and quality\n                      of work\n                    ")]),t._v(" "),a("td",[a("div",{staticStyle:{width:"20rem"}},[a("b-radio",{attrs:{name:"quatlityOfWork","native-value":"5",type:"is-info"},model:{value:t.metrics.quatlityOfWork,callback:function(e){t.$set(t.metrics,"quatlityOfWork",e)},expression:"metrics.quatlityOfWork"}},[t._v("\n                          5\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"quatlityOfWork","native-value":"4",type:"is-info"},model:{value:t.metrics.quatlityOfWork,callback:function(e){t.$set(t.metrics,"quatlityOfWork",e)},expression:"metrics.quatlityOfWork"}},[t._v("\n                          4\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"quatlityOfWork","native-value":"3",type:"is-info"},model:{value:t.metrics.quatlityOfWork,callback:function(e){t.$set(t.metrics,"quatlityOfWork",e)},expression:"metrics.quatlityOfWork"}},[t._v("\n                          3\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"quatlityOfWork","native-value":"2",type:"is-info"},model:{value:t.metrics.quatlityOfWork,callback:function(e){t.$set(t.metrics,"quatlityOfWork",e)},expression:"metrics.quatlityOfWork"}},[t._v("\n                          2\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"quatlityOfWork","native-value":"1",type:"is-info"},model:{value:t.metrics.quatlityOfWork,callback:function(e){t.$set(t.metrics,"quatlityOfWork",e)},expression:"metrics.quatlityOfWork"}},[t._v("\n                          1\n                        ")])],1)])])])]),t._v(" "),a("table",{staticClass:"table is-fullwidth is-hoverable"},[a("thead",[a("tr",[a("th",{staticClass:"has-text-centered text-main"},[t._v("Metrics")]),t._v(" "),a("th",{staticClass:"has-text-centered text-main"},[t._v("Description")]),t._v(" "),a("th",{staticClass:"has-text-centered text-main"},[t._v("Score")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Planning and Organizing")]),t._v(" "),a("td",[t._v("\n                      Planning and Organizing Analyzes work, set goals,\n                      develop plans of action and utilizes time. Consider the\n                      amount of supervision required and the extent to which\n                      you can trust the employee to carry out assignments\n                      conscientiously\n                    ")]),t._v(" "),a("td",[a("div",{staticStyle:{width:"20rem"}},[a("b-radio",{attrs:{name:"planningAndOrganizing","native-value":"5",type:"is-info"},model:{value:t.metrics.planningAndOrganizing,callback:function(e){t.$set(t.metrics,"planningAndOrganizing",e)},expression:"metrics.planningAndOrganizing"}},[t._v("\n                          5\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"planningAndOrganizing","native-value":"4",type:"is-info"},model:{value:t.metrics.planningAndOrganizing,callback:function(e){t.$set(t.metrics,"planningAndOrganizing",e)},expression:"metrics.planningAndOrganizing"}},[t._v("\n                          4\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"planningAndOrganizing","native-value":"3",type:"is-info"},model:{value:t.metrics.planningAndOrganizing,callback:function(e){t.$set(t.metrics,"planningAndOrganizing",e)},expression:"metrics.planningAndOrganizing"}},[t._v("\n                          3\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"planningAndOrganizing","native-value":"2",type:"is-info"},model:{value:t.metrics.planningAndOrganizing,callback:function(e){t.$set(t.metrics,"planningAndOrganizing",e)},expression:"metrics.planningAndOrganizing"}},[t._v("\n                          2\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"planningAndOrganizing","native-value":"1",type:"is-info"},model:{value:t.metrics.planningAndOrganizing,callback:function(e){t.$set(t.metrics,"planningAndOrganizing",e)},expression:"metrics.planningAndOrganizing"}},[t._v("\n                          1\n                        ")])],1)])]),t._v(" "),a("tr",[a("td",[t._v("Leadership and Management")]),t._v(" "),a("td",[t._v("\n                      Communicate vision, sets unit goals, develops\n                      strategies, and takes action to ensure the efficient\n                      stewardship of resources (operational, financial, and\n                      human)\n                    ")]),t._v(" "),a("td",[a("div",{staticStyle:{width:"20rem"}},[a("b-radio",{attrs:{name:"leadershipAndManagement","native-value":"5",type:"is-info"},model:{value:t.metrics.leadershipAndManagement,callback:function(e){t.$set(t.metrics,"leadershipAndManagement",e)},expression:"metrics.leadershipAndManagement"}},[t._v("\n                          5\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"leadershipAndManagement","native-value":"4",type:"is-info"},model:{value:t.metrics.leadershipAndManagement,callback:function(e){t.$set(t.metrics,"leadershipAndManagement",e)},expression:"metrics.leadershipAndManagement"}},[t._v("\n                          4\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"leadershipAndManagement","native-value":"3",type:"is-info"},model:{value:t.metrics.leadershipAndManagement,callback:function(e){t.$set(t.metrics,"leadershipAndManagement",e)},expression:"metrics.leadershipAndManagement"}},[t._v("\n                          3\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"leadershipAndManagement","native-value":"2",type:"is-info"},model:{value:t.metrics.leadershipAndManagement,callback:function(e){t.$set(t.metrics,"leadershipAndManagement",e)},expression:"metrics.leadershipAndManagement"}},[t._v("\n                          2\n                        ")]),t._v(" "),a("b-radio",{attrs:{name:"leadershipAndManagement","native-value":"1",type:"is-info"},model:{value:t.metrics.leadershipAndManagement,callback:function(e){t.$set(t.metrics,"leadershipAndManagement",e)},expression:"metrics.leadershipAndManagement"}},[t._v("\n                          1\n                        ")])],1)])])])]),t._v(" "),a("section",{staticClass:"content"},[a("h5",{staticClass:"label text-main"},[t._v("\n                  One on one discussion width staff\n                ")]),t._v(" "),a("ul",[a("li",[t._v("\n                    Discuss overall performance as outlined in the appraisal\n                  ")]),t._v(" "),a("li",[t._v("Evaluate output and achieved goals")]),t._v(" "),a("li",[t._v("\n                    Provide feedback on areas of excellence within overall\n                    performance for the month\n                  ")]),t._v(" "),a("li",[t._v("Discuss areas of improvement")]),t._v(" "),a("li",[t._v("\n                    Identify areas where the employee may be facing challenges\n                    and requires support\n                  ")]),t._v(" "),a("li",[t._v("Mutually set goals for the coming month")])])]),t._v(" "),a("section",{staticClass:"content"},[a("h5",{staticClass:"label text-main"},[t._v("\n                  Noteworthy accomplishments and areas of improvement\n                ")]),t._v(" "),a("editor",{attrs:{"api-key":"25qhafbs9v6uleue5kg84jeofqdrwawb30mv1o6mgvx4cdbb",id:"improvement",init:t.initEditor},model:{value:t.metrics.accomplishment,callback:function(e){t.$set(t.metrics,"accomplishment",e)},expression:"metrics.accomplishment"}})],1),t._v(" "),a("section",{staticClass:"content"},[a("h5",{staticClass:"label text-main"},[t._v("Overall assessment")]),t._v(" "),a("editor",{attrs:{"api-key":"25qhafbs9v6uleue5kg84jeofqdrwawb30mv1o6mgvx4cdbb",id:"assessment",init:t.initEditor},model:{value:t.metrics.assessment,callback:function(e){t.$set(t.metrics,"assessment",e)},expression:"metrics.assessment"}})],1)]):t._e()])])})),1)]),t._v(" "),a("footer",{staticClass:"modal-card-foot buttons"},[a("button",{staticClass:"button is-success is-light",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("\n        "+t._s(t.isSubmitting?"Saving...":"Save")+"\n      ")]),t._v(" "),a("b-button",{staticClass:"is-danger is-light",on:{click:function(e){return t.cancelModal()}}},[t._v("Cancel")])],1)])])}),[],!1,null,"741b35d2",null).exports;function it(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function st(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?it(Object(a),!0).forEach((function(e){nt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):it(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function nt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var rt={name:"RatingAppraiseeModal",props:{appraisal:{require:!0,type:Object}},components:{Paginate:h.a,RateAppraiseeModal:at},computed:st({},Object(r.c)(["getAppraisees","getJobTitles"])),beforeMount:function(){var t=this;this.$nextTick((function(){t.dispatchKPI({type:"ADD_APPRAISEES",payload:{id:t.appraisal.id,page:1}})}))},data:function(){return{defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",selectedAppraisees:[],isSubmitting:!1,isLoading:!1,noAppraisalFound:!1}},methods:st(st({},Object(r.b)(["dispatchKPI"])),{},{cancelModal:function(){this.$emit("close")},removeAppraisee:function(t){var e=this,a=this.appraisal.staff.filter((function(e){return e!==t}));this.$axios.put("/dashboard/remove-appraisee/".concat(this.appraisal.id),{staff:a}).then((function(a){a.data.removed&&(setTimeout((function(){e.snackbar("Staff removed successfully.","is-success")}),1e3),e.dispatchKPI({type:"DELETE_APPRAISEE",payload:t}))})).catch((function(t){console.trace(t)}))},removeAppraisees:function(){var t=this,e=this.selectedAppraisees.map((function(t){return t.user_id})),a=this.arrayDiff(this.appraisal.staff,e);this.$axios.put("/dashboard/remove-appraisee/".concat(this.appraisal.id),{staff:a}).then((function(a){a.data.removed&&(setTimeout((function(){t.snackbar("Staff removed successfully.","is-success")}),1e3),t.dispatchKPI({type:"DELETE_APPRAISEES",payload:e}))})).catch((function(t){console.trace(t)}))},getJobTitle:function(t){return t&&this.getJobTitles.find((function(e){return e.id===parseInt(t)})).title||""},isNull:function(t){return"null"===t?"":t},getFullName:function(t){return"".concat(this.isNull(t.title)," ").concat(t.firstName," ").concat(this.isNull(t.middleName)," ").concat(t.lastName)},openRateAppraiseeModal:function(t){this.$buefy.modal.open({parent:this,component:at,hasModalCard:!0,trapFocus:!0,canCancel:["escape"],props:{appraisalId:this.appraisal.id,userId:t}})}})},ot=Object(b.a)(rt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card py-4",staticStyle:{width:"auto"}},[a("header",{staticClass:"modal-card-head"},[a("h4",{staticClass:"modal-card-title text-main label pt-2"},[t._v("Appraisee List")]),t._v(" "),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.cancelModal()}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header",attrs:{role:"button"}},[a("article",{staticClass:"table__header"},[a("section",{staticClass:"table__header__lists"},[a("div",{staticClass:"table__header__lists__item",on:{click:function(e){return t.openQueryForm()}}},[a("b-tooltip",{attrs:{label:"Search staff",type:"is-dark",position:"is-right"}},[a("b-icon",{staticClass:"icon--wrapper",attrs:{icon:"search"}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("section",{staticClass:"appraisal__title"},[a("p",[t._v(t._s(t.appraisal.name))]),t._v(" "),a("p",[t._v("\n              "+t._s(" "+t.formatDate2(t.appraisal.period.from)+" - "+t.formatDate2(t.appraisal.period.to))+"\n            ")]),t._v(" "),a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[t._v("Total Staff")]),t._v(" "),a("b-tag",{attrs:{type:"is-info",size:"is-medium"}},[t._v(t._s(t.appraisal.staff.length))])],1)],1),t._v(" "),a("section",{staticClass:"py-4 multiples-actions"},[a("b-dropdown",{attrs:{"aria-role":"list",disabled:!(t.selectedAppraisees.length>0)},scopedSlots:t._u([{key:"trigger",fn:function(t){var e=t.active;return[a("b-button",{attrs:{type:"is-info is-light",label:"Actions",pack:"fas","icon-right":e?"angle-up":"angle-down"}})]}}])},[t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.removeAppraisees()}}},[t._v("Delete appraisees")])],1)],1),t._v(" "),a("b-table",{attrs:{data:t.getAppraisees.data,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"checked-rows":t.selectedAppraisees,loading:t.isLoading,checkable:"",striped:"",hoverable:"","default-sort":"lastName","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:checkedRows":function(e){t.selectedAppraisees=e},"update:checked-rows":function(e){t.selectedAppraisees=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("paginate",{attrs:{state:t.getAppraisees,dispatch:t.dispatchKPI,action:"ADD_APPRAISEES"}})]},proxy:!0},t.noAppraisalFound?{key:"empty",fn:function(){return[a("article",{staticClass:"table__data__notfound"},[a("b-icon",{attrs:{icon:"database",pack:"fas"}}),t._v(" "),a("strong",{staticClass:"pt-3"},[t._v("Ooops! No appraisal found.")])],1)]},proxy:!0}:null],null,!0)},[a("b-table-column",{attrs:{field:"lastName",label:"Staff",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticStyle:{"margin-bottom":"0"}},[a("strong",{},[t._v(t._s(t.getFullName(e.row)))]),t._v(" "),a("span",{staticClass:"format__staff"},[t._v(t._s(t.getJobTitle(e.row.jobTitle)?"- "+t.getJobTitle(e.row.jobTitle):""))])]),t._v(" "),e.row.department?a("p",{staticClass:"format__staff",staticStyle:{"margin-bottom":"0"}},[a("strong",{},[t._v("Department:: ")]),t._v("\n                "+t._s(e.row.department)+"\n              ")]):t._e(),t._v(" "),e.row.unit?a("p",{staticClass:"format__staff",staticStyle:{"margin-bottom":"0"}},[a("strong",{},[t._v("Unit:: ")]),t._v("\n                "+t._s(e.row.unit)+"\n              ")]):t._e()]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Review & Rate Appraisee",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-light",attrs:{size:"is-small",pack:"fas","icon-right":"star",disabled:!t.isPermission("review_appraisal")},on:{click:function(a){return t.openRateAppraiseeModal(e.row.user_id)}}})],1),t._v(" "),a("b-tooltip",{attrs:{label:"Delete",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-danger is-light",attrs:{size:"is-small",pack:"fas","icon-right":"trash",disabled:!t.isPermission("delete")},on:{click:function(a){return t.removeAppraisee(e.row.user_id)}}})],1)],1)]}}])})],1)],1)])])]),t._v(" "),a("footer",{staticClass:"modal-card-foot buttons"},[a("b-button",{staticClass:"is-dark is-light",on:{click:function(e){return t.cancelModal()}}},[t._v("Close")])],1)])}),[],!1,null,"52d58372",null).exports;function lt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function ct(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(a),!0).forEach((function(e){pt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):lt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function pt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var dt={name:"Appraisal",components:{Paginate:h.a,SelfAppraisalModal:Z,RatingAppraiseeModal:ot},computed:ct({},Object(r.c)(["getUsers","getRolePermissions","getAppraisals"])),mounted:function(){var t=this;this.isLoading=!0,this.$nextTick((function(){t.getUsers.data.length>0?t.isLoading=!1:setTimeout((function(){t.isLoading=!1,t.noAppraisalFound=!0}),1e3)}))},data:function(){return{defaultSortDirection:"desc",sortIcon:"arrow-up",sortIconSize:"is-small",selectedKPIs:[],isSubmitting:!1,selected:null,toggleKPIForm:!1,noAppraisalFound:!1,isLoading:!1}},methods:ct(ct({},Object(r.b)(["dispatchUserAccount","dispatchStaffCount","dispatchKPI"])),{},{addKPI:function(){var t=this;this.setKPIErrors(),this.isSubmitting=!0,this.$axios.post("/dashboard/add-kpi",this.kpi).then((function(e){t.clearKPIForm(),t.isSubmitting=!1})).catch((function(e){t.isSubmitting=!1,422===e.response.status&&t.setKPIErrors(e.response.data.errors)}))},cancelKPIForm:function(){this.toggleKPIForm=!1,this.clearKPIForm(),this.setKPIErrors()},clearKPIForm:function(){this.kpi={name:"",period:{from:null,to:null},kg:{open:null,close:null},ar:{open:null,close:null}}},setKPIErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.kpiErrors={name:t.name||[],period:{from:t["period.from"]||[],to:t["period.to"]||[]},kg:{open:t["kg.open"]||[],close:t["kg.close"]||[]},ar:{open:t["ar.open"]||[],close:t["ar.close"]||[]}}},openSelfAppraisalModal:function(t){this.$buefy.modal.open({parent:this,component:Z,hasModalCard:!0,trapFocus:!0,fullScreen:!0,canCancel:["escape"],props:{appraisal:t}})},openRatingAppraiseeModal:function(t){this.$buefy.modal.open({parent:this,component:ot,hasModalCard:!0,trapFocus:!0,fullScreen:!0,canCancel:["escape"],props:{appraisal:t}})}})},ut=Object(b.a)(dt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"b__collapse__section"},[a("div",{staticClass:"card"},[a("header",{staticClass:"card-header",attrs:{role:"button"}},[a("article",{staticClass:"table__header"},[a("h5",{staticClass:"table__header__title"},[t._v("Appraisal List")]),t._v(" "),a("section",{staticClass:"table__header__lists"},[a("div",{staticClass:"table__header__lists__item",on:{click:function(e){return t.openQueryForm()}}},[a("b-tooltip",{attrs:{label:"Query Users.",type:"is-dark"}},[a("b-icon",{staticClass:"icon--wrapper",attrs:{icon:"search"}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("b-table",{attrs:{data:t.getAppraisals.data,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,loading:t.isLoading,striped:"",hoverable:"","default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},scopedSlots:t._u([{key:"footer",fn:function(){return[a("paginate",{attrs:{state:t.getAppraisals,dispatch:t.dispatchKPI}})]},proxy:!0},t.noAppraisalFound?{key:"empty",fn:function(){return[a("article",{staticClass:"table__data__notfound"},[a("b-icon",{attrs:{icon:"database",pack:"fas"}}),t._v(" "),a("strong",{staticClass:"pt-3"},[t._v("Ooops! No appraisal found.")])],1)]},proxy:!0}:null],null,!0)},[a("b-table-column",{staticClass:"is-info",attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"name",label:"Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"sap_timestamp",label:"Self Appraisal Period",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(" "+t.formatDate2(e.row.sap_timestamp.open)+" - "+t.formatDate2(e.row.sap_timestamp.close)))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"np_timestamp",label:"Nomalization Period",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(" "+t.formatDate2(e.row.np_timestamp.open)+" - "+t.formatDate2(e.row.np_timestamp.close)))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"period",label:"Period",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(" "+t.formatDate2(e.row.period.from)+" - "+t.formatDate2(e.row.period.to)))]}}])}),t._v(" "),a("b-table-column",{attrs:{field:"actions",label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"b-tooltips"},[a("b-tooltip",{attrs:{label:"Self Appraisal",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-light",attrs:{size:"is-small",pack:"fas","icon-right":"user-cog",disabled:!e.row.staff.includes(t.$page.props.authUser.id)},on:{click:function(a){return t.openSelfAppraisalModal(e.row)}}})],1),t._v(" "),t.isPermission("review_appraisal")?a("b-tooltip",{attrs:{label:"View Appraisee",size:"is-small",type:"is-dark"}},[a("b-button",{staticClass:"is-light",attrs:{size:"is-small",pack:"fas","icon-right":"users",disabled:!t.isPermission("read")},on:{click:function(a){return t.openRatingAppraiseeModal(e.row)}}})],1):t._e()],1)]}}])})],1)],1)])])])])}),[],!1,null,"41711f56",null).exports;function ft(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function vt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var bt={name:"KPI",metaInfo:function(){return{title:"Key Performance Idicators"}},components:{Tab:s.a,Tabs:n.a,ManageAppraisal:D,Appraisal:ut},layout:i.a,props:{departments:Array,units:Array,jobTitles:Array,roles:Array},created:function(){this.dispatchKPI({payload:1}),this.dispatchRole({payload:this.roles}),this.dispatchUnit({payload:this.units}),this.dispatchDepartment({payload:this.departments}),this.dispatchJobTitle({payload:this.jobTitles})},methods:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(a),!0).forEach((function(e){vt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ft(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.b)(["dispatchKPI","dispatchUserAccount","dispatchUnit","dispatchDepartment","dispatchJobTitle","dispatchRole"]))},mt=Object(b.a)(bt,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"main__content"},[e("tabs",{attrs:{stickyTab:"main__content__sticky",tabIndex:0}},[e("tab",{attrs:{label:"Appraisal"}},[e("Appraisal")],1),this._v(" "),this.isPermission("kpi_configuration")?e("tab",{attrs:{label:"Configurations"}},[e("ManageAppraisal")],1):this._e()],1)],1)}),[],!1,null,"533dc525",null);e.default=mt.exports},8:function(t,e,a){"use strict";var i=a(13),s=a(0);function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l={name:"Dashboard",metaInfo:{title:"ADU Staff Portal",titleTemplate:"%s | ADU Staff Portal"},props:{userPermissions:{require:!0,type:Array}},computed:r(r({},Object(s.c)(["getDepartments","getOrganizationProfile","getProfile","getAuthUser","getJobTitles"])),{},{authUserName:function(){return"".concat(this.isNull(this.getAuthUser.title)," ").concat(this.getAuthUser.lastName," ").concat(this.getAuthUser.firstName," ").concat(this.isNull(this.getAuthUser.middleName))},authJobTitle:function(){var t=this;if(this.getAuthUser.jobTitle&&this.getJobTitles.length){var e=this.getJobTitles.find((function(e){return e.id===parseInt(t.getAuthUser.jobTitle)}));return e?e.title:""}return""},getLogo:function(){if(this.getOrganizationProfile)return this.getOrganizationProfile.logo},getOrgName:function(){if(this.getOrganizationProfile)return this.getOrganizationProfile.name}}),beforeMount:function(){var t=this;this.activePage=this.$page.url,i.Inertia.on("navigate",(function(e){t.activePage=e.detail.page.url})),localStorage.getItem("locale")?this.$lang.setLocale(localStorage.getItem("locale")):this.$lang.setLocale("en")},created:function(){this.dispatchAuthUser({payload:this.$page.props.authUser}),this.dispatchOrgnizationProfile({payload:this.$page.props.orgInfo})},mounted:function(){},data:function(){return{activePage:"",regex:new RegExp("^/dashboard/ess/[0-9]+/[a-z-]*$")}},methods:r(r({},Object(s.b)(["dispatchOrgnizationProfile","dispatchAuthUser"])),{},{isNull:function(t){return"null"===t?"":t}})},c=(a(85),a(1)),p=Object(c.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"v-cloak"},[a("div",{staticClass:"brand__logo"},[a("div",{staticClass:"brand__logo__main"},[a("img",{attrs:{src:"/storage/logo/"+t.getLogo,alt:"Brand Logo",srcset:""}})])]),t._v(" "),a("header",{staticClass:"header"},[a("nav",{staticClass:"header__nav"},[a("ul",{staticClass:"header__nav__list header__nav__list--left"},[a("li",{class:"header__nav__list__item "+("/dashboard"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard","preserve-scroll":"",headers:{"Custom-Header":"poopjpo"}}},[t._v(t._s(t.$t("app.dashboard")))])],1),t._v(" "),a("li",{class:"header__nav__list__item "+("/dashboard/ess"===t.activePage||t.regex.test(t.activePage)?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/ess","preserve-scroll":""}},[t._v(t._s(t.$t("app.employee")))])],1),t._v(" "),t.isPermission("view_admin")?a("li",{class:"header__nav__list__item "+("/dashboard/admin"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/admin","preserve-scroll":""}},[t._v(t._s(t.$t("app.admin")))])],1):t._e(),t._v(" "),t.isPermission("view_pim")?a("li",{class:"header__nav__list__item "+("/dashboard/pim"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/pim","preserve-scroll":""}},[t._v(t._s(t.$t("app.pim")))])],1):t._e(),t._v(" "),a("li",{class:"header__nav__list__item "+("/dashboard/kpi"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/kpi","preserve-scroll":""}},[t._v(t._s(t.$t("app.kpi")))])],1),t._v(" "),a("li",{class:"header__nav__list__item "+("/dashboard/staff-directory"===t.activePage?"active-left":"")},[a("inertia-link",{attrs:{href:"/dashboard/staff-directory","preserve-scroll":""}},[t._v(t._s(t.$t("app.staff_directory")))])],1)]),t._v(" "),a("ul",{staticClass:"header__nav__list header__nav__list--right"},[a("li",{staticClass:"header__nav__list__item"},[a("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[a("p",{attrs:{slot:"trigger",role:"button"},slot:"trigger"},[a("b-icon",{attrs:{pack:"fas",icon:"exclamation-circle",size:"is-small"}})],1),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("a",{staticClass:"default",attrs:{href:"#"}},[t._v(" Notifications")])]),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("a",{staticClass:"default",attrs:{href:"#"}},[t._v(" Notifications")])]),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("a",{staticClass:"default",attrs:{href:"#"}},[t._v(" Notifications")])]),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("a",{staticClass:"default",attrs:{href:"#"}},[t._v(" Notifications")])])],1)],1),t._v(" "),a("li",{staticClass:"header__nav__list__item"},[a("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[a("p",{attrs:{slot:"trigger",role:"button"},slot:"trigger"},[a("b-icon",{attrs:{pack:"fas",icon:"cogs",size:"is-small"}})],1),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("inertia-link",{attrs:{href:"/dashboard/ess","preserve-scroll":""}},[a("b-icon",{attrs:{pack:"fas",icon:"user",size:"is-small"}}),t._v("\n                  "+t._s(t.$t("app.profile"))+"\n              ")],1)],1),t._v(" "),a("b-dropdown-item",{attrs:{"aria-role":"listitem"}},[a("inertia-link",{staticClass:"logout-btn",attrs:{href:"/logout",method:"POST",as:"button"}},[a("b-icon",{attrs:{pack:"fas",icon:"sign-out-alt",size:"is-small"}}),t._v("\n                  "+t._s(t.$t("app.logout")))],1)],1)],1)],1)])]),t._v(" "),a("div",{staticClass:"header__details"},[a("div",{staticClass:"header__details__avatar"},[a("div",{staticClass:"header__details__avatar__round"},[a("img",{attrs:{src:"/storage/avatar/"+t.getAuthUser.avatar,alt:"avatar",srcset:""}})])]),t._v(" "),a("div",{staticClass:"header__details__staff"},[a("strong",{staticClass:"header__details__staff__name"},[a("span",[t._v(t._s(t.authUserName))])]),t._v(" "),a("h4",{staticClass:"header__details__staff__title"},[a("span",[t._v(t._s(t.authJobTitle))])])]),t._v(" "),a("div",{staticClass:"header__details__brand__name"},[a("h4",[t._v(t._s(t.getOrgName))])])])]),t._v(" "),[t._t("default")],t._v(" "),a("vue-confirm-dialog")],2)}),[],!1,null,"591b84e2",null);e.a=p.exports},85:function(t,e,a){"use strict";a(29)},86:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,"[v-cloak][data-v-591b84e2]{display:none}.logout-btn[data-v-591b84e2]{border:none;background-color:transparent;color:#686767;cursor:pointer}.logout-btn[data-v-591b84e2]:active{border:none}",""])},87:function(t,e,a){"use strict";a(30)},88:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".s__tabs__content[data-v-1f542e2b]{width:100%}",""])},89:function(t,e,a){"use strict";a(31)},90:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".s__tabs[data-v-c7d6371c]{width:100%}.s__tabs__tab>ul[data-v-c7d6371c]{width:100%;display:flex;justify-content:flex-start;align-items:flex-start;list-style-type:none}.s__tabs__tab>ul>li[data-v-c7d6371c]{cursor:pointer;font-size:1rem;padding:.15rem .3rem;background-color:#99001c;color:#fff;border-radius:3px}.s__tabs__tab>ul>li[data-v-c7d6371c]:not(:last-child){margin-right:.3rem}.s__tabs__tab>ul>li>span[data-v-c7d6371c]{letter-spacing:.05rem;transition:color .2s ease-in}.isActive[data-v-c7d6371c]{color:#fff!important;background-color:#262626!important}",""])}}]);